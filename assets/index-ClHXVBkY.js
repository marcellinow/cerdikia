(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function S1(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var dm={exports:{}},Fo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function aN(){if(j_)return Fo;j_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var g in l)g!=="key"&&(u[g]=l[g])}else u=l;return l=u.ref,{$$typeof:s,type:i,key:f,ref:l!==void 0?l:null,props:u}}return Fo.Fragment=e,Fo.jsx=n,Fo.jsxs=n,Fo}var k_;function sN(){return k_||(k_=1,dm.exports=aN()),dm.exports}var c=sN(),fm={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function iN(){if(R_)return Oe;R_=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,F={};function V(D,te,ce){this.props=D,this.context=te,this.refs=F,this.updater=ce||M}V.prototype.isReactComponent={},V.prototype.setState=function(D,te){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,te,"setState")},V.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function $(){}$.prototype=V.prototype;function ie(D,te,ce){this.props=D,this.context=te,this.refs=F,this.updater=ce||M}var J=ie.prototype=new $;J.constructor=ie,P(J,V.prototype),J.isPureReactComponent=!0;var fe=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},Ne=Object.prototype.hasOwnProperty;function C(D,te,ce,re,Ee,De){return ce=De.ref,{$$typeof:s,type:D,key:te,ref:ce!==void 0?ce:null,props:De}}function A(D,te){return C(D.type,te,void 0,void 0,void 0,D.props)}function j(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function S(D){var te={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return te[ce]})}var O=/\/+/g;function U(D,te){return typeof D=="object"&&D!==null&&D.key!=null?S(""+D.key):te.toString(36)}function R(){}function vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(te){D.status==="pending"&&(D.status="fulfilled",D.value=te)},function(te){D.status==="pending"&&(D.status="rejected",D.reason=te)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ht(D,te,ce,re,Ee){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case s:case e:Se=!0;break;case E:return Se=D._init,ht(Se(D._payload),te,ce,re,Ee)}}if(Se)return Ee=Ee(D),Se=re===""?"."+U(D,0):re,fe(Ee)?(ce="",Se!=null&&(ce=Se.replace(O,"$&/")+"/"),ht(Ee,te,ce,"",function(rn){return rn})):Ee!=null&&(j(Ee)&&(Ee=A(Ee,ce+(Ee.key==null||D&&D.key===Ee.key?"":(""+Ee.key).replace(O,"$&/")+"/")+Se)),te.push(Ee)),1;Se=0;var Tt=re===""?".":re+":";if(fe(D))for(var Ze=0;Ze<D.length;Ze++)re=D[Ze],De=Tt+U(re,Ze),Se+=ht(re,te,ce,De,Ee);else if(Ze=w(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(re=D.next()).done;)re=re.value,De=Tt+U(re,Ze++),Se+=ht(re,te,ce,De,Ee);else if(De==="object"){if(typeof D.then=="function")return ht(vt(D),te,ce,re,Ee);throw te=String(D),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Se}function Q(D,te,ce){if(D==null)return D;var re=[],Ee=0;return ht(D,re,"","",function(De){return te.call(ce,De,Ee++)}),re}function le(D){if(D._status===-1){var te=D._result;te=te(),te.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=te)}if(D._status===1)return D._result.default;throw D._result}var _e=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Ue(){}return Oe.Children={map:Q,forEach:function(D,te,ce){Q(D,function(){te.apply(this,arguments)},ce)},count:function(D){var te=0;return Q(D,function(){te++}),te},toArray:function(D){return Q(D,function(te){return te})||[]},only:function(D){if(!j(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Oe.Component=V,Oe.Fragment=n,Oe.Profiler=l,Oe.PureComponent=ie,Oe.StrictMode=i,Oe.Suspense=p,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return ue.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cloneElement=function(D,te,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=P({},D.props),Ee=D.key,De=void 0;if(te!=null)for(Se in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(Ee=""+te.key),te)!Ne.call(te,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&te.ref===void 0||(re[Se]=te[Se]);var Se=arguments.length-2;if(Se===1)re.children=ce;else if(1<Se){for(var Tt=Array(Se),Ze=0;Ze<Se;Ze++)Tt[Ze]=arguments[Ze+2];re.children=Tt}return C(D.type,Ee,void 0,void 0,De,re)},Oe.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Oe.createElement=function(D,te,ce){var re,Ee={},De=null;if(te!=null)for(re in te.key!==void 0&&(De=""+te.key),te)Ne.call(te,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(Ee[re]=te[re]);var Se=arguments.length-2;if(Se===1)Ee.children=ce;else if(1<Se){for(var Tt=Array(Se),Ze=0;Ze<Se;Ze++)Tt[Ze]=arguments[Ze+2];Ee.children=Tt}if(D&&D.defaultProps)for(re in Se=D.defaultProps,Se)Ee[re]===void 0&&(Ee[re]=Se[re]);return C(D,De,void 0,void 0,null,Ee)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:g,render:D}},Oe.isValidElement=j,Oe.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:le}},Oe.memo=function(D,te){return{$$typeof:y,type:D,compare:te===void 0?null:te}},Oe.startTransition=function(D){var te=ue.T,ce={};ue.T=ce;try{var re=D(),Ee=ue.S;Ee!==null&&Ee(ce,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(Ue,_e)}catch(De){_e(De)}finally{ue.T=te}},Oe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Oe.use=function(D){return ue.H.use(D)},Oe.useActionState=function(D,te,ce){return ue.H.useActionState(D,te,ce)},Oe.useCallback=function(D,te){return ue.H.useCallback(D,te)},Oe.useContext=function(D){return ue.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,te){return ue.H.useDeferredValue(D,te)},Oe.useEffect=function(D,te,ce){var re=ue.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(D,te)},Oe.useId=function(){return ue.H.useId()},Oe.useImperativeHandle=function(D,te,ce){return ue.H.useImperativeHandle(D,te,ce)},Oe.useInsertionEffect=function(D,te){return ue.H.useInsertionEffect(D,te)},Oe.useLayoutEffect=function(D,te){return ue.H.useLayoutEffect(D,te)},Oe.useMemo=function(D,te){return ue.H.useMemo(D,te)},Oe.useOptimistic=function(D,te){return ue.H.useOptimistic(D,te)},Oe.useReducer=function(D,te,ce){return ue.H.useReducer(D,te,ce)},Oe.useRef=function(D){return ue.H.useRef(D)},Oe.useState=function(D){return ue.H.useState(D)},Oe.useSyncExternalStore=function(D,te,ce){return ue.H.useSyncExternalStore(D,te,ce)},Oe.useTransition=function(){return ue.H.useTransition()},Oe.version="19.1.0",Oe}var I_;function up(){return I_||(I_=1,fm.exports=iN()),fm.exports}var I=up();const rN=S1(I);var mm={exports:{}},Go={},pm={exports:{}},gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C_;function lN(){return C_||(C_=1,function(s){function e(Q,le){var _e=Q.length;Q.push(le);e:for(;0<_e;){var Ue=_e-1>>>1,D=Q[Ue];if(0<l(D,le))Q[Ue]=le,Q[_e]=D,_e=Ue;else break e}}function n(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var le=Q[0],_e=Q.pop();if(_e!==le){Q[0]=_e;e:for(var Ue=0,D=Q.length,te=D>>>1;Ue<te;){var ce=2*(Ue+1)-1,re=Q[ce],Ee=ce+1,De=Q[Ee];if(0>l(re,_e))Ee<D&&0>l(De,re)?(Q[Ue]=De,Q[Ee]=_e,Ue=Ee):(Q[Ue]=re,Q[ce]=_e,Ue=ce);else if(Ee<D&&0>l(De,_e))Q[Ue]=De,Q[Ee]=_e,Ue=Ee;else break e}}return le}function l(Q,le){var _e=Q.sortIndex-le.sortIndex;return _e!==0?_e:Q.id-le.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],y=[],E=1,N=null,w=3,M=!1,P=!1,F=!1,V=!1,$=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function fe(Q){for(var le=n(y);le!==null;){if(le.callback===null)i(y);else if(le.startTime<=Q)i(y),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(y)}}function ue(Q){if(F=!1,fe(Q),!P)if(n(p)!==null)P=!0,Ne||(Ne=!0,U());else{var le=n(y);le!==null&&ht(ue,le.startTime-Q)}}var Ne=!1,C=-1,A=5,j=-1;function S(){return V?!0:!(s.unstable_now()-j<A)}function O(){if(V=!1,Ne){var Q=s.unstable_now();j=Q;var le=!0;try{e:{P=!1,F&&(F=!1,ie(C),C=-1),M=!0;var _e=w;try{t:{for(fe(Q),N=n(p);N!==null&&!(N.expirationTime>Q&&S());){var Ue=N.callback;if(typeof Ue=="function"){N.callback=null,w=N.priorityLevel;var D=Ue(N.expirationTime<=Q);if(Q=s.unstable_now(),typeof D=="function"){N.callback=D,fe(Q),le=!0;break t}N===n(p)&&i(p),fe(Q)}else i(p);N=n(p)}if(N!==null)le=!0;else{var te=n(y);te!==null&&ht(ue,te.startTime-Q),le=!1}}break e}finally{N=null,w=_e,M=!1}le=void 0}}finally{le?U():Ne=!1}}}var U;if(typeof J=="function")U=function(){J(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,vt=R.port2;R.port1.onmessage=O,U=function(){vt.postMessage(null)}}else U=function(){$(O,0)};function ht(Q,le){C=$(function(){Q(s.unstable_now())},le)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Q){Q.callback=null},s.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<Q?Math.floor(1e3/Q):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var le=3;break;default:le=w}var _e=w;w=le;try{return Q()}finally{w=_e}},s.unstable_requestPaint=function(){V=!0},s.unstable_runWithPriority=function(Q,le){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var _e=w;w=Q;try{return le()}finally{w=_e}},s.unstable_scheduleCallback=function(Q,le,_e){var Ue=s.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Ue+_e:Ue):_e=Ue,Q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=_e+D,Q={id:E++,callback:le,priorityLevel:Q,startTime:_e,expirationTime:D,sortIndex:-1},_e>Ue?(Q.sortIndex=_e,e(y,Q),n(p)===null&&Q===n(y)&&(F?(ie(C),C=-1):F=!0,ht(ue,_e-Ue))):(Q.sortIndex=D,e(p,Q),P||M||(P=!0,Ne||(Ne=!0,U()))),Q},s.unstable_shouldYield=S,s.unstable_wrapCallback=function(Q){var le=w;return function(){var _e=w;w=le;try{return Q.apply(this,arguments)}finally{w=_e}}}}(gm)),gm}var D_;function oN(){return D_||(D_=1,pm.exports=lN()),pm.exports}var ym={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function cN(){if(M_)return on;M_=1;var s=up();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,y,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:N==null?null:""+N,children:p,containerInfo:y,implementation:E}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,on.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,E)},on.flushSync=function(p){var y=f.T,E=i.p;try{if(f.T=null,i.p=2,p)return p()}finally{f.T=y,i.p=E,i.d.f()}},on.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},on.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},on.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,N=g(E,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,M=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:N,integrity:w,fetchPriority:M}):E==="script"&&i.d.X(p,{crossOrigin:N,integrity:w,fetchPriority:M,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},on.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},on.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,N=g(E,y.crossOrigin);i.d.L(p,E,{crossOrigin:N,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},on.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},on.requestFormReset=function(p){i.d.r(p)},on.unstable_batchedUpdates=function(p,y){return p(y)},on.useFormState=function(p,y,E){return f.H.useFormState(p,y,E)},on.useFormStatus=function(){return f.H.useHostTransitionStatus()},on.version="19.1.0",on}var O_;function uN(){if(O_)return ym.exports;O_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),ym.exports=cN(),ym.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function hN(){if(P_)return Go;P_=1;var s=oN(),e=up(),n=uN();function i(t){var a="https://react.dev/errors/"+t;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)a+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var a=t,r=t;if(t.alternate)for(;a.return;)a=a.return;else{t=a;do a=t,(a.flags&4098)!==0&&(r=a.return),t=a.return;while(t)}return a.tag===3?r:null}function f(t){if(t.tag===13){var a=t.memoizedState;if(a===null&&(t=t.alternate,t!==null&&(a=t.memoizedState)),a!==null)return a.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(i(188))}function p(t){var a=t.alternate;if(!a){if(a=u(t),a===null)throw Error(i(188));return a!==t?null:t}for(var r=t,o=a;;){var d=r.return;if(d===null)break;var m=d.alternate;if(m===null){if(o=d.return,o!==null){r=o;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===r)return g(d),t;if(m===o)return g(d),a;m=m.sibling}throw Error(i(188))}if(r.return!==o.return)r=d,o=m;else{for(var b=!1,T=d.child;T;){if(T===r){b=!0,r=d,o=m;break}if(T===o){b=!0,o=d,r=m;break}T=T.sibling}if(!b){for(T=m.child;T;){if(T===r){b=!0,r=m,o=d;break}if(T===o){b=!0,o=m,r=d;break}T=T.sibling}if(!b)throw Error(i(189))}}if(r.alternate!==o)throw Error(i(190))}if(r.tag!==3)throw Error(i(188));return r.stateNode.current===r?t:a}function y(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t;for(t=t.child;t!==null;){if(a=y(t),a!==null)return a;t=t.sibling}return null}var E=Object.assign,N=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),V=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),ie=Symbol.for("react.consumer"),J=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),S=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case P:return"Fragment";case V:return"Profiler";case F:return"StrictMode";case ue:return"Suspense";case Ne:return"SuspenseList";case j:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case J:return(t.displayName||"Context")+".Provider";case ie:return(t._context.displayName||"Context")+".Consumer";case fe:var a=t.render;return t=t.displayName,t||(t=a.displayName||a.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case C:return a=t.displayName||null,a!==null?a:vt(t.type)||"Memo";case A:a=t._payload,t=t._init;try{return vt(t(a))}catch{}}return null}var ht=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e={pending:!1,data:null,method:null,action:null},Ue=[],D=-1;function te(t){return{current:t}}function ce(t){0>D||(t.current=Ue[D],Ue[D]=null,D--)}function re(t,a){D++,Ue[D]=t.current,t.current=a}var Ee=te(null),De=te(null),Se=te(null),Tt=te(null);function Ze(t,a){switch(re(Se,a),re(De,t),re(Ee,null),a.nodeType){case 9:case 11:t=(t=a.documentElement)&&(t=t.namespaceURI)?n_(t):0;break;default:if(t=a.tagName,a=a.namespaceURI)a=n_(a),t=a_(a,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ce(Ee),re(Ee,t)}function rn(){ce(Ee),ce(De),ce(Se)}function _n(t){t.memoizedState!==null&&re(Tt,t);var a=Ee.current,r=a_(a,t.type);a!==r&&(re(De,t),re(Ee,r))}function bn(t){De.current===t&&(ce(Ee),ce(De)),Tt.current===t&&(ce(Tt),Uo._currentValue=_e)}var ea=Object.prototype.hasOwnProperty,ta=s.unstable_scheduleCallback,Sn=s.unstable_cancelCallback,X=s.unstable_shouldYield,he=s.unstable_requestPaint,ve=s.unstable_now,se=s.unstable_getCurrentPriorityLevel,be=s.unstable_ImmediatePriority,Me=s.unstable_UserBlockingPriority,ge=s.unstable_NormalPriority,Je=s.unstable_LowPriority,mt=s.unstable_IdlePriority,Ye=s.log,Xe=s.unstable_setDisableYieldValue,et=null,ze=null;function Vt(t){if(typeof Ye=="function"&&Xe(t),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(et,t)}catch{}}var Lt=Math.clz32?Math.clz32:La,Va=Math.log,Vl=Math.LN2;function La(t){return t>>>=0,t===0?32:31-(Va(t)/Vl|0)|0}var Ss=256,Ti=4194304;function na(t){var a=t&42;if(a!==0)return a;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function yr(t,a,r){var o=t.pendingLanes;if(o===0)return 0;var d=0,m=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~m,o!==0?d=na(o):(b&=T,b!==0?d=na(b):r||(r=T&~t,r!==0&&(d=na(r))))):(T=o&~m,T!==0?d=na(T):b!==0?d=na(b):r||(r=o&~t,r!==0&&(d=na(r)))),d===0?0:a!==0&&a!==d&&(a&m)===0&&(m=d&-d,r=a&-a,m>=r||m===32&&(r&4194048)!==0)?a:d}function xi(t,a){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&a)===0}function Ll(t,a){switch(t){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ul(){var t=Ss;return Ss<<=1,(Ss&4194048)===0&&(Ss=256),t}function zl(){var t=Ti;return Ti<<=1,(Ti&62914560)===0&&(Ti=4194304),t}function Ua(t){for(var a=[],r=0;31>r;r++)a.push(t);return a}function za(t,a){t.pendingLanes|=a,a!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Bl(t,a,r,o,d,m){var b=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var T=t.entanglements,k=t.expirationTimes,q=t.hiddenUpdates;for(r=b&~r;0<r;){var W=31-Lt(r),ee=1<<W;T[W]=0,k[W]=-1;var G=q[W];if(G!==null)for(q[W]=null,W=0;W<G.length;W++){var K=G[W];K!==null&&(K.lane&=-536870913)}r&=~ee}o!==0&&pa(t,o,0),m!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=m&~(b&~a))}function pa(t,a,r){t.pendingLanes|=a,t.suspendedLanes&=~a;var o=31-Lt(a);t.entangledLanes|=a,t.entanglements[o]=t.entanglements[o]|1073741824|r&4194090}function Hl(t,a){var r=t.entangledLanes|=a;for(t=t.entanglements;r;){var o=31-Lt(r),d=1<<o;d&a|t[o]&a&&(t[o]|=a),r&=~d}}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function vr(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function js(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:T_(t.type))}function Dc(t,a){var r=le.p;try{return le.p=t,a()}finally{le.p=r}}var pt=Math.random().toString(36).slice(2),Ut="__reactFiber$"+pt,Rt="__reactProps$"+pt,Vn="__reactContainer$"+pt,ql="__reactEvents$"+pt,md="__reactListeners$"+pt,ks="__reactHandles$"+pt,Mc="__reactResources$"+pt,Ni="__reactMarker$"+pt;function Rs(t){delete t[Ut],delete t[Rt],delete t[ql],delete t[md],delete t[ks]}function Ba(t){var a=t[Ut];if(a)return a;for(var r=t.parentNode;r;){if(a=r[Vn]||r[Ut]){if(r=a.alternate,a.child!==null||r!==null&&r.child!==null)for(t=l_(t);t!==null;){if(r=t[Ut])return r;t=l_(t)}return a}t=r,r=t.parentNode}return null}function ga(t){if(t=t[Ut]||t[Vn]){var a=t.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return t}return null}function ya(t){var a=t.tag;if(a===5||a===26||a===27||a===6)return t.stateNode;throw Error(i(33))}function mn(t){var a=t[Mc];return a||(a=t[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function St(t){t[Ni]=!0}var Fl=new Set,_r={};function aa(t,a){Ha(t,a),Ha(t+"Capture",a)}function Ha(t,a){for(_r[t]=a,t=0;t<a.length;t++)Fl.add(a[t])}var Oc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pc={},wi={};function Vc(t){return ea.call(wi,t)?!0:ea.call(Pc,t)?!1:Oc.test(t)?wi[t]=!0:(Pc[t]=!0,!1)}function Is(t,a,r){if(Vc(a))if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(a);return;case"boolean":var o=a.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(a);return}}t.setAttribute(a,""+r)}}function va(t,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttribute(a,""+r)}}function Wt(t,a,r,o){if(o===null)t.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(a,r,""+o)}}var Si,Lc;function qa(t){if(Si===void 0)try{throw Error()}catch(r){var a=r.stack.trim().match(/\n( *(at )?)/);Si=a&&a[1]||"",Lc=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Si+t+Lc}var br=!1;function Er(t,a){if(!t||br)return"";br=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(a){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var G=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){G=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){G=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),b=m[0],T=m[1];if(b&&T){var k=b.split(`
`),q=T.split(`
`);for(d=o=0;o<k.length&&!k[o].includes("DetermineComponentFrameRoot");)o++;for(;d<q.length&&!q[d].includes("DetermineComponentFrameRoot");)d++;if(o===k.length||d===q.length)for(o=k.length-1,d=q.length-1;1<=o&&0<=d&&k[o]!==q[d];)d--;for(;1<=o&&0<=d;o--,d--)if(k[o]!==q[d]){if(o!==1||d!==1)do if(o--,d--,0>d||k[o]!==q[d]){var W=`
`+k[o].replace(" at new "," at ");return t.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",t.displayName)),W}while(1<=o&&0<=d);break}}}finally{br=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?qa(r):""}function Gl(t){switch(t.tag){case 26:case 27:case 5:return qa(t.type);case 16:return qa("Lazy");case 13:return qa("Suspense");case 19:return qa("SuspenseList");case 0:case 15:return Er(t.type,!1);case 11:return Er(t.type.render,!1);case 1:return Er(t.type,!0);case 31:return qa("Activity");default:return""}}function Tr(t){try{var a="";do a+=Gl(t),t=t.return;while(t);return a}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function pn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kl(t){var a=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function pd(t){var a=Kl(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,a),o=""+t[a];if(!t.hasOwnProperty(a)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var d=r.get,m=r.set;return Object.defineProperty(t,a,{configurable:!0,get:function(){return d.call(this)},set:function(b){o=""+b,m.call(this,b)}}),Object.defineProperty(t,a,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(b){o=""+b},stopTracking:function(){t._valueTracker=null,delete t[a]}}}}function xr(t){t._valueTracker||(t._valueTracker=pd(t))}function $l(t){if(!t)return!1;var a=t._valueTracker;if(!a)return!0;var r=a.getValue(),o="";return t&&(o=Kl(t)?t.checked?"true":"false":t.value),t=o,t!==r?(a.setValue(t),!0):!1}function Ai(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var gd=/[\n"\\]/g;function It(t){return t.replace(gd,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function An(t,a,r,o,d,m,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),a!=null?b==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+pn(a)):t.value!==""+pn(a)&&(t.value=""+pn(a)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),a!=null?Cs(t,b,pn(a)):r!=null?Cs(t,b,pn(r)):o!=null&&t.removeAttribute("value"),d==null&&m!=null&&(t.defaultChecked=!!m),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+pn(T):t.removeAttribute("name")}function ji(t,a,r,o,d,m,b,T){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),a!=null||r!=null){if(!(m!=="submit"&&m!=="reset"||a!=null))return;r=r!=null?""+pn(r):"",a=a!=null?""+pn(a):r,T||a===t.value||(t.value=a),t.defaultValue=a}o=o??d,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function Cs(t,a,r){a==="number"&&Ai(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function Fa(t,a,r,o){if(t=t.options,a){a={};for(var d=0;d<r.length;d++)a["$"+r[d]]=!0;for(r=0;r<t.length;r++)d=a.hasOwnProperty("$"+t[r].value),t[r].selected!==d&&(t[r].selected=d),d&&o&&(t[r].defaultSelected=!0)}else{for(r=""+pn(r),a=null,d=0;d<t.length;d++){if(t[d].value===r){t[d].selected=!0,o&&(t[d].defaultSelected=!0);return}a!==null||t[d].disabled||(a=t[d])}a!==null&&(a.selected=!0)}}function rt(t,a,r){if(a!=null&&(a=""+pn(a),a!==t.value&&(t.value=a),r==null)){t.defaultValue!==a&&(t.defaultValue=a);return}t.defaultValue=r!=null?""+pn(r):""}function ki(t,a,r,o){if(a==null){if(o!=null){if(r!=null)throw Error(i(92));if(ht(o)){if(1<o.length)throw Error(i(93));o=o[0]}r=o}r==null&&(r=""),a=r}r=pn(a),t.defaultValue=r,o=t.textContent,o===r&&o!==""&&o!==null&&(t.value=o)}function Ln(t,a){if(a){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=a;return}}t.textContent=a}var Ri=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uc(t,a,r){var o=a.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?t.setProperty(a,""):a==="float"?t.cssFloat="":t[a]="":o?t.setProperty(a,r):typeof r!="number"||r===0||Ri.has(a)?a==="float"?t.cssFloat=r:t[a]=(""+r).trim():t[a]=r+"px"}function Ql(t,a,r){if(a!=null&&typeof a!="object")throw Error(i(62));if(t=t.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||a!=null&&a.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var d in a)o=a[d],a.hasOwnProperty(d)&&r[d]!==o&&Uc(t,d,o)}else for(var m in a)a.hasOwnProperty(m)&&Uc(t,m,a[m])}function Yl(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nr(t){return vd.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ga=null;function Un(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ka=null,$a=null;function Xl(t){var a=ga(t);if(a&&(t=a.stateNode)){var r=t[Rt]||null;e:switch(t=a.stateNode,a.type){case"input":if(An(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),a=r.name,r.type==="radio"&&a!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+It(""+a)+'"][type="radio"]'),a=0;a<r.length;a++){var o=r[a];if(o!==t&&o.form===t.form){var d=o[Rt]||null;if(!d)throw Error(i(90));An(o,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(a=0;a<r.length;a++)o=r[a],o.form===t.form&&$l(o)}break e;case"textarea":rt(t,r.value,r.defaultValue);break e;case"select":a=r.value,a!=null&&Fa(t,!!r.multiple,a,!1)}}}var _a=!1;function zc(t,a,r){if(_a)return t(a,r);_a=!0;try{var o=t(a);return o}finally{if(_a=!1,(Ka!==null||$a!==null)&&(Du(),Ka&&(a=Ka,t=$a,$a=Ka=null,Xl(a),t)))for(a=0;a<t.length;a++)Xl(t[a])}}function Ii(t,a){var r=t.stateNode;if(r===null)return null;var o=r[Rt]||null;if(o===null)return null;r=o[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(i(231,a,typeof r));return r}var sa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zn=!1;if(sa)try{var Ci={};Object.defineProperty(Ci,"passive",{get:function(){zn=!0}}),window.addEventListener("test",Ci,Ci),window.removeEventListener("test",Ci,Ci)}catch{zn=!1}var ba=null,Ds=null,Qa=null;function Wl(){if(Qa)return Qa;var t,a=Ds,r=a.length,o,d="value"in ba?ba.value:ba.textContent,m=d.length;for(t=0;t<r&&a[t]===d[t];t++);var b=r-t;for(o=1;o<=b&&a[r-o]===d[m-o];o++);return Qa=d.slice(t,1<o?1-o:void 0)}function Ea(t){var a=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&a===13&&(t=13)):t=a,t===10&&(t=13),32<=t||t===13?t:0}function Ta(){return!0}function Zl(){return!1}function Gt(t){function a(r,o,d,m,b){this._reactName=r,this._targetInst=d,this.type=o,this.nativeEvent=m,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(r=t[T],this[T]=r?r(m):m[T]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ta:Zl,this.isPropagationStopped=Zl,this}return E(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),a}var nt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wr=Gt(nt),Di=E({},nt,{view:0,detail:0}),Bc=Gt(Di),Sr,Ar,xa,Mi=E({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xa&&(xa&&t.type==="mousemove"?(Sr=t.screenX-xa.screenX,Ar=t.screenY-xa.screenY):Ar=Sr=0,xa=t),Sr)},movementY:function(t){return"movementY"in t?t.movementY:Ar}}),Bn=Gt(Mi),Hc=E({},Mi,{dataTransfer:0}),_d=Gt(Hc),Oi=E({},Di,{relatedTarget:0}),jr=Gt(Oi),Jl=E({},nt,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=Gt(Jl),qc=E({},nt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Rr=Gt(qc),bd=E({},nt,{data:0}),eo=Gt(bd),Pi={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function to(t){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(t):(t=Gc[t])?!!a[t]:!1}function Vi(){return to}var Kc=E({},Di,{key:function(t){if(t.key){var a=Pi[t.key]||t.key;if(a!=="Unidentified")return a}return t.type==="keypress"?(t=Ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vi,charCode:function(t){return t.type==="keypress"?Ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ir=Gt(Kc),$c=E({},Mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),no=Gt($c),Ya=E({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vi}),Qc=Gt(Ya),Yc=E({},nt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xc=Gt(Yc),Wc=E({},Mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Cr=Gt(Wc),gn=E({},nt,{newState:0,oldState:0}),Zc=Gt(gn),Jc=[9,13,27,32],Na=sa&&"CompositionEvent"in window,h=null;sa&&"documentMode"in document&&(h=document.documentMode);var v=sa&&"TextEvent"in window&&!h,_=sa&&(!Na||h&&8<h&&11>=h),x=" ",B=!1;function Y(t,a){switch(t){case"keyup":return Jc.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oe(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ge=!1;function zt(t,a){switch(t){case"compositionend":return oe(a);case"keypress":return a.which!==32?null:(B=!0,x);case"textInput":return t=a.data,t===x&&B?null:t;default:return null}}function Ke(t,a){if(Ge)return t==="compositionend"||!Na&&Y(t,a)?(t=Wl(),Qa=Ds=ba=null,Ge=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return _&&a.locale!=="ko"?null:a.data;default:return null}}var Kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bt(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a==="input"?!!Kt[t.type]:a==="textarea"}function Xa(t,a,r,o){Ka?$a?$a.push(o):$a=[o]:Ka=o,a=Uu(a,"onChange"),0<a.length&&(r=new wr("onChange","change",null,r,o),t.push({event:r,listeners:a}))}var Zt=null,wa=null;function ao(t){Wv(t,0)}function eu(t){var a=ya(t);if($l(a))return t}function vg(t,a){if(t==="change")return a}var _g=!1;if(sa){var Ed;if(sa){var Td="oninput"in document;if(!Td){var bg=document.createElement("div");bg.setAttribute("oninput","return;"),Td=typeof bg.oninput=="function"}Ed=Td}else Ed=!1;_g=Ed&&(!document.documentMode||9<document.documentMode)}function Eg(){Zt&&(Zt.detachEvent("onpropertychange",Tg),wa=Zt=null)}function Tg(t){if(t.propertyName==="value"&&eu(wa)){var a=[];Xa(a,wa,t,Un(t)),zc(ao,a)}}function DT(t,a,r){t==="focusin"?(Eg(),Zt=a,wa=r,Zt.attachEvent("onpropertychange",Tg)):t==="focusout"&&Eg()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eu(wa)}function OT(t,a){if(t==="click")return eu(a)}function PT(t,a){if(t==="input"||t==="change")return eu(a)}function VT(t,a){return t===a&&(t!==0||1/t===1/a)||t!==t&&a!==a}var jn=typeof Object.is=="function"?Object.is:VT;function so(t,a){if(jn(t,a))return!0;if(typeof t!="object"||t===null||typeof a!="object"||a===null)return!1;var r=Object.keys(t),o=Object.keys(a);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var d=r[o];if(!ea.call(a,d)||!jn(t[d],a[d]))return!1}return!0}function xg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ng(t,a){var r=xg(t);t=0;for(var o;r;){if(r.nodeType===3){if(o=t+r.textContent.length,t<=a&&o>=a)return{node:r,offset:a-t};t=o}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=xg(r)}}function wg(t,a){return t&&a?t===a?!0:t&&t.nodeType===3?!1:a&&a.nodeType===3?wg(t,a.parentNode):"contains"in t?t.contains(a):t.compareDocumentPosition?!!(t.compareDocumentPosition(a)&16):!1:!1}function Sg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var a=Ai(t.document);a instanceof t.HTMLIFrameElement;){try{var r=typeof a.contentWindow.location.href=="string"}catch{r=!1}if(r)t=a.contentWindow;else break;a=Ai(t.document)}return a}function xd(t){var a=t&&t.nodeName&&t.nodeName.toLowerCase();return a&&(a==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||a==="textarea"||t.contentEditable==="true")}var LT=sa&&"documentMode"in document&&11>=document.documentMode,Dr=null,Nd=null,io=null,wd=!1;function Ag(t,a,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wd||Dr==null||Dr!==Ai(o)||(o=Dr,"selectionStart"in o&&xd(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),io&&so(io,o)||(io=o,o=Uu(Nd,"onSelect"),0<o.length&&(a=new wr("onSelect","select",null,a,r),t.push({event:a,listeners:o}),a.target=Dr)))}function Li(t,a){var r={};return r[t.toLowerCase()]=a.toLowerCase(),r["Webkit"+t]="webkit"+a,r["Moz"+t]="moz"+a,r}var Mr={animationend:Li("Animation","AnimationEnd"),animationiteration:Li("Animation","AnimationIteration"),animationstart:Li("Animation","AnimationStart"),transitionrun:Li("Transition","TransitionRun"),transitionstart:Li("Transition","TransitionStart"),transitioncancel:Li("Transition","TransitionCancel"),transitionend:Li("Transition","TransitionEnd")},Sd={},jg={};sa&&(jg=document.createElement("div").style,"AnimationEvent"in window||(delete Mr.animationend.animation,delete Mr.animationiteration.animation,delete Mr.animationstart.animation),"TransitionEvent"in window||delete Mr.transitionend.transition);function Ui(t){if(Sd[t])return Sd[t];if(!Mr[t])return t;var a=Mr[t],r;for(r in a)if(a.hasOwnProperty(r)&&r in jg)return Sd[t]=a[r];return t}var kg=Ui("animationend"),Rg=Ui("animationiteration"),Ig=Ui("animationstart"),UT=Ui("transitionrun"),zT=Ui("transitionstart"),BT=Ui("transitioncancel"),Cg=Ui("transitionend"),Dg=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function ia(t,a){Dg.set(t,a),aa(a,[t])}var Mg=new WeakMap;function Hn(t,a){if(typeof t=="object"&&t!==null){var r=Mg.get(t);return r!==void 0?r:(a={value:t,source:a,stack:Tr(a)},Mg.set(t,a),a)}return{value:t,source:a,stack:Tr(a)}}var qn=[],Or=0,jd=0;function tu(){for(var t=Or,a=jd=Or=0;a<t;){var r=qn[a];qn[a++]=null;var o=qn[a];qn[a++]=null;var d=qn[a];qn[a++]=null;var m=qn[a];if(qn[a++]=null,o!==null&&d!==null){var b=o.pending;b===null?d.next=d:(d.next=b.next,b.next=d),o.pending=d}m!==0&&Og(r,d,m)}}function nu(t,a,r,o){qn[Or++]=t,qn[Or++]=a,qn[Or++]=r,qn[Or++]=o,jd|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function kd(t,a,r,o){return nu(t,a,r,o),au(t)}function Pr(t,a){return nu(t,null,null,a),au(t)}function Og(t,a,r){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r);for(var d=!1,m=t.return;m!==null;)m.childLanes|=r,o=m.alternate,o!==null&&(o.childLanes|=r),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(d=!0)),t=m,m=m.return;return t.tag===3?(m=t.stateNode,d&&a!==null&&(d=31-Lt(r),t=m.hiddenUpdates,o=t[d],o===null?t[d]=[a]:o.push(a),a.lane=r|536870912),m):null}function au(t){if(50<Io)throw Io=0,Pf=null,Error(i(185));for(var a=t.return;a!==null;)t=a,a=t.return;return t.tag===3?t.stateNode:null}var Vr={};function HT(t,a,r,o){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,a,r,o){return new HT(t,a,r,o)}function Rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Wa(t,a){var r=t.alternate;return r===null?(r=kn(t.tag,a,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=a,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,a=t.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function Pg(t,a){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=a,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,a=r.dependencies,t.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),t}function su(t,a,r,o,d,m){var b=0;if(o=t,typeof t=="function")Rd(t)&&(b=1);else if(typeof t=="string")b=Fx(t,r,Ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case j:return t=kn(31,r,a,d),t.elementType=j,t.lanes=m,t;case P:return zi(r.children,d,m,a);case F:b=8,d|=24;break;case V:return t=kn(12,r,a,d|2),t.elementType=V,t.lanes=m,t;case ue:return t=kn(13,r,a,d),t.elementType=ue,t.lanes=m,t;case Ne:return t=kn(19,r,a,d),t.elementType=Ne,t.lanes=m,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case J:b=10;break e;case ie:b=9;break e;case fe:b=11;break e;case C:b=14;break e;case A:b=16,o=null;break e}b=29,r=Error(i(130,t===null?"null":typeof t,"")),o=null}return a=kn(b,r,a,d),a.elementType=t,a.type=o,a.lanes=m,a}function zi(t,a,r,o){return t=kn(7,t,o,a),t.lanes=r,t}function Id(t,a,r){return t=kn(6,t,null,a),t.lanes=r,t}function Cd(t,a,r){return a=kn(4,t.children!==null?t.children:[],t.key,a),a.lanes=r,a.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},a}var Lr=[],Ur=0,iu=null,ru=0,Fn=[],Gn=0,Bi=null,Za=1,Ja="";function Hi(t,a){Lr[Ur++]=ru,Lr[Ur++]=iu,iu=t,ru=a}function Vg(t,a,r){Fn[Gn++]=Za,Fn[Gn++]=Ja,Fn[Gn++]=Bi,Bi=t;var o=Za;t=Ja;var d=32-Lt(o)-1;o&=~(1<<d),r+=1;var m=32-Lt(a)+d;if(30<m){var b=d-d%5;m=(o&(1<<b)-1).toString(32),o>>=b,d-=b,Za=1<<32-Lt(a)+d|r<<d|o,Ja=m+t}else Za=1<<m|r<<d|o,Ja=t}function Dd(t){t.return!==null&&(Hi(t,1),Vg(t,1,0))}function Md(t){for(;t===iu;)iu=Lr[--Ur],Lr[Ur]=null,ru=Lr[--Ur],Lr[Ur]=null;for(;t===Bi;)Bi=Fn[--Gn],Fn[Gn]=null,Ja=Fn[--Gn],Fn[Gn]=null,Za=Fn[--Gn],Fn[Gn]=null}var yn=null,xt=null,tt=!1,qi=null,Sa=!1,Od=Error(i(519));function Fi(t){var a=Error(i(418,""));throw oo(Hn(a,t)),Od}function Lg(t){var a=t.stateNode,r=t.type,o=t.memoizedProps;switch(a[Ut]=t,a[Rt]=o,r){case"dialog":He("cancel",a),He("close",a);break;case"iframe":case"object":case"embed":He("load",a);break;case"video":case"audio":for(r=0;r<Do.length;r++)He(Do[r],a);break;case"source":He("error",a);break;case"img":case"image":case"link":He("error",a),He("load",a);break;case"details":He("toggle",a);break;case"input":He("invalid",a),ji(a,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),xr(a);break;case"select":He("invalid",a);break;case"textarea":He("invalid",a),ki(a,o.value,o.defaultValue,o.children),xr(a)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||a.textContent===""+r||o.suppressHydrationWarning===!0||t_(a.textContent,r)?(o.popover!=null&&(He("beforetoggle",a),He("toggle",a)),o.onScroll!=null&&He("scroll",a),o.onScrollEnd!=null&&He("scrollend",a),o.onClick!=null&&(a.onclick=zu),a=!0):a=!1,a||Fi(t)}function Ug(t){for(yn=t.return;yn;)switch(yn.tag){case 5:case 13:Sa=!1;return;case 27:case 3:Sa=!0;return;default:yn=yn.return}}function ro(t){if(t!==yn)return!1;if(!tt)return Ug(t),tt=!0,!1;var a=t.tag,r;if((r=a!==3&&a!==27)&&((r=a===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||Zf(t.type,t.memoizedProps)),r=!r),r&&xt&&Fi(t),Ug(t),a===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(i(317));e:{for(t=t.nextSibling,a=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(a===0){xt=la(t.nextSibling);break e}a--}else r!=="$"&&r!=="$!"&&r!=="$?"||a++;t=t.nextSibling}xt=null}}else a===27?(a=xt,Ys(t.type)?(t=nm,nm=null,xt=t):xt=a):xt=yn?la(t.stateNode.nextSibling):null;return!0}function lo(){xt=yn=null,tt=!1}function zg(){var t=qi;return t!==null&&(xn===null?xn=t:xn.push.apply(xn,t),qi=null),t}function oo(t){qi===null?qi=[t]:qi.push(t)}var Pd=te(null),Gi=null,es=null;function Ms(t,a,r){re(Pd,a._currentValue),a._currentValue=r}function ts(t){t._currentValue=Pd.current,ce(Pd)}function Vd(t,a,r){for(;t!==null;){var o=t.alternate;if((t.childLanes&a)!==a?(t.childLanes|=a,o!==null&&(o.childLanes|=a)):o!==null&&(o.childLanes&a)!==a&&(o.childLanes|=a),t===r)break;t=t.return}}function Ld(t,a,r,o){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var m=d.dependencies;if(m!==null){var b=d.child;m=m.firstContext;e:for(;m!==null;){var T=m;m=d;for(var k=0;k<a.length;k++)if(T.context===a[k]){m.lanes|=r,T=m.alternate,T!==null&&(T.lanes|=r),Vd(m.return,r,t),o||(b=null);break e}m=T.next}}else if(d.tag===18){if(b=d.return,b===null)throw Error(i(341));b.lanes|=r,m=b.alternate,m!==null&&(m.lanes|=r),Vd(b,r,t),b=null}else b=d.child;if(b!==null)b.return=d;else for(b=d;b!==null;){if(b===t){b=null;break}if(d=b.sibling,d!==null){d.return=b.return,b=d;break}b=b.return}d=b}}function co(t,a,r,o){t=null;for(var d=a,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var b=d.alternate;if(b===null)throw Error(i(387));if(b=b.memoizedProps,b!==null){var T=d.type;jn(d.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(d===Tt.current){if(b=d.alternate,b===null)throw Error(i(387));b.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Uo):t=[Uo])}d=d.return}t!==null&&Ld(a,t,r,o),a.flags|=262144}function lu(t){for(t=t.firstContext;t!==null;){if(!jn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ki(t){Gi=t,es=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function ln(t){return Bg(Gi,t)}function ou(t,a){return Gi===null&&Ki(t),Bg(t,a)}function Bg(t,a){var r=a._currentValue;if(a={context:a,memoizedValue:r,next:null},es===null){if(t===null)throw Error(i(308));es=a,t.dependencies={lanes:0,firstContext:a},t.flags|=524288}else es=es.next=a;return r}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],a=this.signal={aborted:!1,addEventListener:function(r,o){t.push(o)}};this.abort=function(){a.aborted=!0,t.forEach(function(r){return r()})}},FT=s.unstable_scheduleCallback,GT=s.unstable_NormalPriority,Ht={$$typeof:J,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ud(){return{controller:new qT,data:new Map,refCount:0}}function uo(t){t.refCount--,t.refCount===0&&FT(GT,function(){t.controller.abort()})}var ho=null,zd=0,zr=0,Br=null;function KT(t,a){if(ho===null){var r=ho=[];zd=0,zr=qf(),Br={status:"pending",value:void 0,then:function(o){r.push(o)}}}return zd++,a.then(Hg,Hg),a}function Hg(){if(--zd===0&&ho!==null){Br!==null&&(Br.status="fulfilled");var t=ho;ho=null,zr=0,Br=null;for(var a=0;a<t.length;a++)(0,t[a])()}}function $T(t,a){var r=[],o={status:"pending",value:null,reason:null,then:function(d){r.push(d)}};return t.then(function(){o.status="fulfilled",o.value=a;for(var d=0;d<r.length;d++)(0,r[d])(a)},function(d){for(o.status="rejected",o.reason=d,d=0;d<r.length;d++)(0,r[d])(void 0)}),o}var qg=Q.S;Q.S=function(t,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&KT(t,a),qg!==null&&qg(t,a)};var $i=te(null);function Bd(){var t=$i.current;return t!==null?t:dt.pooledCache}function cu(t,a){a===null?re($i,$i.current):re($i,a.pool)}function Fg(){var t=Bd();return t===null?null:{parent:Ht._currentValue,pool:t}}var fo=Error(i(460)),Gg=Error(i(474)),uu=Error(i(542)),Hd={then:function(){}};function Kg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function hu(){}function $g(t,a,r){switch(r=t[r],r===void 0?t.push(a):r!==a&&(a.then(hu,hu),a=r),a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Yg(t),t;default:if(typeof a.status=="string")a.then(hu,hu);else{if(t=dt,t!==null&&100<t.shellSuspendCounter)throw Error(i(482));t=a,t.status="pending",t.then(function(o){if(a.status==="pending"){var d=a;d.status="fulfilled",d.value=o}},function(o){if(a.status==="pending"){var d=a;d.status="rejected",d.reason=o}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw t=a.reason,Yg(t),t}throw mo=a,fo}}var mo=null;function Qg(){if(mo===null)throw Error(i(459));var t=mo;return mo=null,t}function Yg(t){if(t===fo||t===uu)throw Error(i(483))}var Os=!1;function qd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fd(t,a){t=t.updateQueue,a.updateQueue===t&&(a.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ps(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(t,a,r){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(st&2)!==0){var d=o.pending;return d===null?a.next=a:(a.next=d.next,d.next=a),o.pending=a,a=au(t),Og(t,null,r),a}return nu(t,o,a,r),au(t)}function po(t,a,r){if(a=a.updateQueue,a!==null&&(a=a.shared,(r&4194048)!==0)){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,Hl(t,r)}}function Gd(t,a){var r=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var d=null,m=null;if(r=r.firstBaseUpdate,r!==null){do{var b={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};m===null?d=m=b:m=m.next=b,r=r.next}while(r!==null);m===null?d=m=a:m=m.next=a}else d=m=a;r={baseState:o.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=a:t.next=a,r.lastBaseUpdate=a}var Kd=!1;function go(){if(Kd){var t=Br;if(t!==null)throw t}}function yo(t,a,r,o){Kd=!1;var d=t.updateQueue;Os=!1;var m=d.firstBaseUpdate,b=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var k=T,q=k.next;k.next=null,b===null?m=q:b.next=q,b=k;var W=t.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==b&&(T===null?W.firstBaseUpdate=q:T.next=q,W.lastBaseUpdate=k))}if(m!==null){var ee=d.baseState;b=0,W=q=k=null,T=m;do{var G=T.lane&-536870913,K=G!==T.lane;if(K?($e&G)===G:(o&G)===G){G!==0&&G===zr&&(Kd=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var ke=t,we=T;G=a;var ct=r;switch(we.tag){case 1:if(ke=we.payload,typeof ke=="function"){ee=ke.call(ct,ee,G);break e}ee=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=we.payload,G=typeof ke=="function"?ke.call(ct,ee,G):ke,G==null)break e;ee=E({},ee,G);break e;case 2:Os=!0}}G=T.callback,G!==null&&(t.flags|=64,K&&(t.flags|=8192),K=d.callbacks,K===null?d.callbacks=[G]:K.push(G))}else K={lane:G,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(q=W=K,k=ee):W=W.next=K,b|=G;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);W===null&&(k=ee),d.baseState=k,d.firstBaseUpdate=q,d.lastBaseUpdate=W,m===null&&(d.shared.lanes=0),Gs|=b,t.lanes=b,t.memoizedState=ee}}function Xg(t,a){if(typeof t!="function")throw Error(i(191,t));t.call(a)}function Wg(t,a){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)Xg(r[t],a)}var Hr=te(null),du=te(0);function Zg(t,a){t=os,re(du,t),re(Hr,a),os=t|a.baseLanes}function $d(){re(du,os),re(Hr,Hr.current)}function Qd(){os=du.current,ce(Hr),ce(du)}var Ls=0,Pe=null,lt=null,Ct=null,fu=!1,qr=!1,Qi=!1,mu=0,vo=0,Fr=null,QT=0;function At(){throw Error(i(321))}function Yd(t,a){if(a===null)return!1;for(var r=0;r<a.length&&r<t.length;r++)if(!jn(t[r],a[r]))return!1;return!0}function Xd(t,a,r,o,d,m){return Ls=m,Pe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=t===null||t.memoizedState===null?Oy:Py,Qi=!1,m=r(o,d),Qi=!1,qr&&(m=ey(a,r,o,d)),Jg(t),m}function Jg(t){Q.H=bu;var a=lt!==null&&lt.next!==null;if(Ls=0,Ct=lt=Pe=null,fu=!1,vo=0,Fr=null,a)throw Error(i(300));t===null||$t||(t=t.dependencies,t!==null&&lu(t)&&($t=!0))}function ey(t,a,r,o){Pe=t;var d=0;do{if(qr&&(Fr=null),vo=0,qr=!1,25<=d)throw Error(i(301));if(d+=1,Ct=lt=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}Q.H=tx,m=a(r,o)}while(qr);return m}function YT(){var t=Q.H,a=t.useState()[0];return a=typeof a.then=="function"?_o(a):a,t=t.useState()[0],(lt!==null?lt.memoizedState:null)!==t&&(Pe.flags|=1024),a}function Wd(){var t=mu!==0;return mu=0,t}function Zd(t,a,r){a.updateQueue=t.updateQueue,a.flags&=-2053,t.lanes&=~r}function Jd(t){if(fu){for(t=t.memoizedState;t!==null;){var a=t.queue;a!==null&&(a.pending=null),t=t.next}fu=!1}Ls=0,Ct=lt=Pe=null,qr=!1,vo=mu=0,Fr=null}function En(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Pe.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function Dt(){if(lt===null){var t=Pe.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var a=Ct===null?Pe.memoizedState:Ct.next;if(a!==null)Ct=a,lt=t;else{if(t===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},Ct===null?Pe.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function ef(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _o(t){var a=vo;return vo+=1,Fr===null&&(Fr=[]),t=$g(Fr,t,a),a=Pe,(Ct===null?a.memoizedState:Ct.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?Oy:Py),t}function pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return _o(t);if(t.$$typeof===J)return ln(t)}throw Error(i(438,String(t)))}function tf(t){var a=null,r=Pe.updateQueue;if(r!==null&&(a=r.memoCache),a==null){var o=Pe.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(a={data:o.data.map(function(d){return d.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),r===null&&(r=ef(),Pe.updateQueue=r),r.memoCache=a,r=a.data[a.index],r===void 0)for(r=a.data[a.index]=Array(t),o=0;o<t;o++)r[o]=S;return a.index++,r}function ns(t,a){return typeof a=="function"?a(t):a}function gu(t){var a=Dt();return nf(a,lt,t)}function nf(t,a,r){var o=t.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var d=t.baseQueue,m=o.pending;if(m!==null){if(d!==null){var b=d.next;d.next=m.next,m.next=b}a.baseQueue=d=m,o.pending=null}if(m=t.baseState,d===null)t.memoizedState=m;else{a=d.next;var T=b=null,k=null,q=a,W=!1;do{var ee=q.lane&-536870913;if(ee!==q.lane?($e&ee)===ee:(Ls&ee)===ee){var G=q.revertLane;if(G===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ee===zr&&(W=!0);else if((Ls&G)===G){q=q.next,G===zr&&(W=!0);continue}else ee={lane:0,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(T=k=ee,b=m):k=k.next=ee,Pe.lanes|=G,Gs|=G;ee=q.action,Qi&&r(m,ee),m=q.hasEagerState?q.eagerState:r(m,ee)}else G={lane:ee,revertLane:q.revertLane,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},k===null?(T=k=G,b=m):k=k.next=G,Pe.lanes|=ee,Gs|=ee;q=q.next}while(q!==null&&q!==a);if(k===null?b=m:k.next=T,!jn(m,t.memoizedState)&&($t=!0,W&&(r=Br,r!==null)))throw r;t.memoizedState=m,t.baseState=b,t.baseQueue=k,o.lastRenderedState=m}return d===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function af(t){var a=Dt(),r=a.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=t;var o=r.dispatch,d=r.pending,m=a.memoizedState;if(d!==null){r.pending=null;var b=d=d.next;do m=t(m,b.action),b=b.next;while(b!==d);jn(m,a.memoizedState)||($t=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),r.lastRenderedState=m}return[m,o]}function ty(t,a,r){var o=Pe,d=Dt(),m=tt;if(m){if(r===void 0)throw Error(i(407));r=r()}else r=a();var b=!jn((lt||d).memoizedState,r);b&&(d.memoizedState=r,$t=!0),d=d.queue;var T=sy.bind(null,o,d,t);if(bo(2048,8,T,[t]),d.getSnapshot!==a||b||Ct!==null&&Ct.memoizedState.tag&1){if(o.flags|=2048,Gr(9,yu(),ay.bind(null,o,d,r,a),null),dt===null)throw Error(i(349));m||(Ls&124)!==0||ny(o,a,r)}return r}function ny(t,a,r){t.flags|=16384,t={getSnapshot:a,value:r},a=Pe.updateQueue,a===null?(a=ef(),Pe.updateQueue=a,a.stores=[t]):(r=a.stores,r===null?a.stores=[t]:r.push(t))}function ay(t,a,r,o){a.value=r,a.getSnapshot=o,iy(a)&&ry(t)}function sy(t,a,r){return r(function(){iy(a)&&ry(t)})}function iy(t){var a=t.getSnapshot;t=t.value;try{var r=a();return!jn(t,r)}catch{return!0}}function ry(t){var a=Pr(t,2);a!==null&&Mn(a,t,2)}function sf(t){var a=En();if(typeof t=="function"){var r=t;if(t=r(),Qi){Vt(!0);try{r()}finally{Vt(!1)}}}return a.memoizedState=a.baseState=t,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},a}function ly(t,a,r,o){return t.baseState=r,nf(t,lt,typeof o=="function"?o:ns)}function XT(t,a,r,o,d){if(_u(t))throw Error(i(485));if(t=a.action,t!==null){var m={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){m.listeners.push(b)}};Q.T!==null?r(!0):m.isTransition=!1,o(m),r=a.pending,r===null?(m.next=a.pending=m,oy(a,m)):(m.next=r.next,a.pending=r.next=m)}}function oy(t,a){var r=a.action,o=a.payload,d=t.state;if(a.isTransition){var m=Q.T,b={};Q.T=b;try{var T=r(d,o),k=Q.S;k!==null&&k(b,T),cy(t,a,T)}catch(q){rf(t,a,q)}finally{Q.T=m}}else try{m=r(d,o),cy(t,a,m)}catch(q){rf(t,a,q)}}function cy(t,a,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){uy(t,a,o)},function(o){return rf(t,a,o)}):uy(t,a,r)}function uy(t,a,r){a.status="fulfilled",a.value=r,hy(a),t.state=r,a=t.pending,a!==null&&(r=a.next,r===a?t.pending=null:(r=r.next,a.next=r,oy(t,r)))}function rf(t,a,r){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do a.status="rejected",a.reason=r,hy(a),a=a.next;while(a!==o)}t.action=null}function hy(t){t=t.listeners;for(var a=0;a<t.length;a++)(0,t[a])()}function dy(t,a){return a}function fy(t,a){if(tt){var r=dt.formState;if(r!==null){e:{var o=Pe;if(tt){if(xt){t:{for(var d=xt,m=Sa;d.nodeType!==8;){if(!m){d=null;break t}if(d=la(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){xt=la(d.nextSibling),o=d.data==="F!";break e}}Fi(o)}o=!1}o&&(a=r[0])}}return r=En(),r.memoizedState=r.baseState=a,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:a},r.queue=o,r=Cy.bind(null,Pe,o),o.dispatch=r,o=sf(!1),m=hf.bind(null,Pe,!1,o.queue),o=En(),d={state:a,dispatch:null,action:t,pending:null},o.queue=d,r=XT.bind(null,Pe,d,m,r),d.dispatch=r,o.memoizedState=t,[a,r,!1]}function my(t){var a=Dt();return py(a,lt,t)}function py(t,a,r){if(a=nf(t,a,dy)[0],t=gu(ns)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var o=_o(a)}catch(b){throw b===fo?uu:b}else o=a;a=Dt();var d=a.queue,m=d.dispatch;return r!==a.memoizedState&&(Pe.flags|=2048,Gr(9,yu(),WT.bind(null,d,r),null)),[o,m,t]}function WT(t,a){t.action=a}function gy(t){var a=Dt(),r=lt;if(r!==null)return py(a,r,t);Dt(),a=a.memoizedState,r=Dt();var o=r.queue.dispatch;return r.memoizedState=t,[a,o,!1]}function Gr(t,a,r,o){return t={tag:t,create:r,deps:o,inst:a,next:null},a=Pe.updateQueue,a===null&&(a=ef(),Pe.updateQueue=a),r=a.lastEffect,r===null?a.lastEffect=t.next=t:(o=r.next,r.next=t,t.next=o,a.lastEffect=t),t}function yu(){return{destroy:void 0,resource:void 0}}function yy(){return Dt().memoizedState}function vu(t,a,r,o){var d=En();o=o===void 0?null:o,Pe.flags|=t,d.memoizedState=Gr(1|a,yu(),r,o)}function bo(t,a,r,o){var d=Dt();o=o===void 0?null:o;var m=d.memoizedState.inst;lt!==null&&o!==null&&Yd(o,lt.memoizedState.deps)?d.memoizedState=Gr(a,m,r,o):(Pe.flags|=t,d.memoizedState=Gr(1|a,m,r,o))}function vy(t,a){vu(8390656,8,t,a)}function _y(t,a){bo(2048,8,t,a)}function by(t,a){return bo(4,2,t,a)}function Ey(t,a){return bo(4,4,t,a)}function Ty(t,a){if(typeof a=="function"){t=t();var r=a(t);return function(){typeof r=="function"?r():a(null)}}if(a!=null)return t=t(),a.current=t,function(){a.current=null}}function xy(t,a,r){r=r!=null?r.concat([t]):null,bo(4,4,Ty.bind(null,a,t),r)}function lf(){}function Ny(t,a){var r=Dt();a=a===void 0?null:a;var o=r.memoizedState;return a!==null&&Yd(a,o[1])?o[0]:(r.memoizedState=[t,a],t)}function wy(t,a){var r=Dt();a=a===void 0?null:a;var o=r.memoizedState;if(a!==null&&Yd(a,o[1]))return o[0];if(o=t(),Qi){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[o,a],o}function of(t,a,r){return r===void 0||(Ls&1073741824)!==0?t.memoizedState=a:(t.memoizedState=r,t=jv(),Pe.lanes|=t,Gs|=t,r)}function Sy(t,a,r,o){return jn(r,a)?r:Hr.current!==null?(t=of(t,r,o),jn(t,a)||($t=!0),t):(Ls&42)===0?($t=!0,t.memoizedState=r):(t=jv(),Pe.lanes|=t,Gs|=t,a)}function Ay(t,a,r,o,d){var m=le.p;le.p=m!==0&&8>m?m:8;var b=Q.T,T={};Q.T=T,hf(t,!1,a,r);try{var k=d(),q=Q.S;if(q!==null&&q(T,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var W=$T(k,o);Eo(t,a,W,Dn(t))}else Eo(t,a,o,Dn(t))}catch(ee){Eo(t,a,{then:function(){},status:"rejected",reason:ee},Dn())}finally{le.p=m,Q.T=b}}function ZT(){}function cf(t,a,r,o){if(t.tag!==5)throw Error(i(476));var d=jy(t).queue;Ay(t,d,a,_e,r===null?ZT:function(){return ky(t),r(o)})}function jy(t){var a=t.memoizedState;if(a!==null)return a;a={memoizedState:_e,baseState:_e,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:_e},next:null};var r={};return a.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:r},next:null},t.memoizedState=a,t=t.alternate,t!==null&&(t.memoizedState=a),a}function ky(t){var a=jy(t).next.queue;Eo(t,a,{},Dn())}function uf(){return ln(Uo)}function Ry(){return Dt().memoizedState}function Iy(){return Dt().memoizedState}function JT(t){for(var a=t.return;a!==null;){switch(a.tag){case 24:case 3:var r=Dn();t=Ps(r);var o=Vs(a,t,r);o!==null&&(Mn(o,a,r),po(o,a,r)),a={cache:Ud()},t.payload=a;return}a=a.return}}function ex(t,a,r){var o=Dn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},_u(t)?Dy(a,r):(r=kd(t,a,r,o),r!==null&&(Mn(r,t,o),My(r,a,o)))}function Cy(t,a,r){var o=Dn();Eo(t,a,r,o)}function Eo(t,a,r,o){var d={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(_u(t))Dy(a,d);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var b=a.lastRenderedState,T=m(b,r);if(d.hasEagerState=!0,d.eagerState=T,jn(T,b))return nu(t,a,d,0),dt===null&&tu(),!1}catch{}finally{}if(r=kd(t,a,d,o),r!==null)return Mn(r,t,o),My(r,a,o),!0}return!1}function hf(t,a,r,o){if(o={lane:2,revertLane:qf(),action:o,hasEagerState:!1,eagerState:null,next:null},_u(t)){if(a)throw Error(i(479))}else a=kd(t,r,o,2),a!==null&&Mn(a,t,2)}function _u(t){var a=t.alternate;return t===Pe||a!==null&&a===Pe}function Dy(t,a){qr=fu=!0;var r=t.pending;r===null?a.next=a:(a.next=r.next,r.next=a),t.pending=a}function My(t,a,r){if((r&4194048)!==0){var o=a.lanes;o&=t.pendingLanes,r|=o,a.lanes=r,Hl(t,r)}}var bu={readContext:ln,use:pu,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Oy={readContext:ln,use:pu,useCallback:function(t,a){return En().memoizedState=[t,a===void 0?null:a],t},useContext:ln,useEffect:vy,useImperativeHandle:function(t,a,r){r=r!=null?r.concat([t]):null,vu(4194308,4,Ty.bind(null,a,t),r)},useLayoutEffect:function(t,a){return vu(4194308,4,t,a)},useInsertionEffect:function(t,a){vu(4,2,t,a)},useMemo:function(t,a){var r=En();a=a===void 0?null:a;var o=t();if(Qi){Vt(!0);try{t()}finally{Vt(!1)}}return r.memoizedState=[o,a],o},useReducer:function(t,a,r){var o=En();if(r!==void 0){var d=r(a);if(Qi){Vt(!0);try{r(a)}finally{Vt(!1)}}}else d=a;return o.memoizedState=o.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},o.queue=t,t=t.dispatch=ex.bind(null,Pe,t),[o.memoizedState,t]},useRef:function(t){var a=En();return t={current:t},a.memoizedState=t},useState:function(t){t=sf(t);var a=t.queue,r=Cy.bind(null,Pe,a);return a.dispatch=r,[t.memoizedState,r]},useDebugValue:lf,useDeferredValue:function(t,a){var r=En();return of(r,t,a)},useTransition:function(){var t=sf(!1);return t=Ay.bind(null,Pe,t.queue,!0,!1),En().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,a,r){var o=Pe,d=En();if(tt){if(r===void 0)throw Error(i(407));r=r()}else{if(r=a(),dt===null)throw Error(i(349));($e&124)!==0||ny(o,a,r)}d.memoizedState=r;var m={value:r,getSnapshot:a};return d.queue=m,vy(sy.bind(null,o,m,t),[t]),o.flags|=2048,Gr(9,yu(),ay.bind(null,o,m,r,a),null),r},useId:function(){var t=En(),a=dt.identifierPrefix;if(tt){var r=Ja,o=Za;r=(o&~(1<<32-Lt(o)-1)).toString(32)+r,a="«"+a+"R"+r,r=mu++,0<r&&(a+="H"+r.toString(32)),a+="»"}else r=QT++,a="«"+a+"r"+r.toString(32)+"»";return t.memoizedState=a},useHostTransitionStatus:uf,useFormState:fy,useActionState:fy,useOptimistic:function(t){var a=En();a.memoizedState=a.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=r,a=hf.bind(null,Pe,!0,r),r.dispatch=a,[t,a]},useMemoCache:tf,useCacheRefresh:function(){return En().memoizedState=JT.bind(null,Pe)}},Py={readContext:ln,use:pu,useCallback:Ny,useContext:ln,useEffect:_y,useImperativeHandle:xy,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:wy,useReducer:gu,useRef:yy,useState:function(){return gu(ns)},useDebugValue:lf,useDeferredValue:function(t,a){var r=Dt();return Sy(r,lt.memoizedState,t,a)},useTransition:function(){var t=gu(ns)[0],a=Dt().memoizedState;return[typeof t=="boolean"?t:_o(t),a]},useSyncExternalStore:ty,useId:Ry,useHostTransitionStatus:uf,useFormState:my,useActionState:my,useOptimistic:function(t,a){var r=Dt();return ly(r,lt,t,a)},useMemoCache:tf,useCacheRefresh:Iy},tx={readContext:ln,use:pu,useCallback:Ny,useContext:ln,useEffect:_y,useImperativeHandle:xy,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:wy,useReducer:af,useRef:yy,useState:function(){return af(ns)},useDebugValue:lf,useDeferredValue:function(t,a){var r=Dt();return lt===null?of(r,t,a):Sy(r,lt.memoizedState,t,a)},useTransition:function(){var t=af(ns)[0],a=Dt().memoizedState;return[typeof t=="boolean"?t:_o(t),a]},useSyncExternalStore:ty,useId:Ry,useHostTransitionStatus:uf,useFormState:gy,useActionState:gy,useOptimistic:function(t,a){var r=Dt();return lt!==null?ly(r,lt,t,a):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:tf,useCacheRefresh:Iy},Kr=null,To=0;function Eu(t){var a=To;return To+=1,Kr===null&&(Kr=[]),$g(Kr,t,a)}function xo(t,a){a=a.props.ref,t.ref=a!==void 0?a:null}function Tu(t,a){throw a.$$typeof===N?Error(i(525)):(t=Object.prototype.toString.call(a),Error(i(31,t==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":t)))}function Vy(t){var a=t._init;return a(t._payload)}function Ly(t){function a(z,L){if(t){var H=z.deletions;H===null?(z.deletions=[L],z.flags|=16):H.push(L)}}function r(z,L){if(!t)return null;for(;L!==null;)a(z,L),L=L.sibling;return null}function o(z){for(var L=new Map;z!==null;)z.key!==null?L.set(z.key,z):L.set(z.index,z),z=z.sibling;return L}function d(z,L){return z=Wa(z,L),z.index=0,z.sibling=null,z}function m(z,L,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<L?(z.flags|=67108866,L):H):(z.flags|=67108866,L)):(z.flags|=1048576,L)}function b(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,L,H,Z){return L===null||L.tag!==6?(L=Id(H,z.mode,Z),L.return=z,L):(L=d(L,H),L.return=z,L)}function k(z,L,H,Z){var ye=H.type;return ye===P?W(z,L,H.props.children,Z,H.key):L!==null&&(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Vy(ye)===L.type)?(L=d(L,H.props),xo(L,H),L.return=z,L):(L=su(H.type,H.key,H.props,null,z.mode,Z),xo(L,H),L.return=z,L)}function q(z,L,H,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==H.containerInfo||L.stateNode.implementation!==H.implementation?(L=Cd(H,z.mode,Z),L.return=z,L):(L=d(L,H.children||[]),L.return=z,L)}function W(z,L,H,Z,ye){return L===null||L.tag!==7?(L=zi(H,z.mode,Z,ye),L.return=z,L):(L=d(L,H),L.return=z,L)}function ee(z,L,H){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Id(""+L,z.mode,H),L.return=z,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case w:return H=su(L.type,L.key,L.props,null,z.mode,H),xo(H,L),H.return=z,H;case M:return L=Cd(L,z.mode,H),L.return=z,L;case A:var Z=L._init;return L=Z(L._payload),ee(z,L,H)}if(ht(L)||U(L))return L=zi(L,z.mode,H,null),L.return=z,L;if(typeof L.then=="function")return ee(z,Eu(L),H);if(L.$$typeof===J)return ee(z,ou(z,L),H);Tu(z,L)}return null}function G(z,L,H,Z){var ye=L!==null?L.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ye!==null?null:T(z,L,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return H.key===ye?k(z,L,H,Z):null;case M:return H.key===ye?q(z,L,H,Z):null;case A:return ye=H._init,H=ye(H._payload),G(z,L,H,Z)}if(ht(H)||U(H))return ye!==null?null:W(z,L,H,Z,null);if(typeof H.then=="function")return G(z,L,Eu(H),Z);if(H.$$typeof===J)return G(z,L,ou(z,H),Z);Tu(z,H)}return null}function K(z,L,H,Z,ye){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,T(L,z,""+Z,ye);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case w:return z=z.get(Z.key===null?H:Z.key)||null,k(L,z,Z,ye);case M:return z=z.get(Z.key===null?H:Z.key)||null,q(L,z,Z,ye);case A:var Le=Z._init;return Z=Le(Z._payload),K(z,L,H,Z,ye)}if(ht(Z)||U(Z))return z=z.get(H)||null,W(L,z,Z,ye,null);if(typeof Z.then=="function")return K(z,L,H,Eu(Z),ye);if(Z.$$typeof===J)return K(z,L,H,ou(L,Z),ye);Tu(L,Z)}return null}function ke(z,L,H,Z){for(var ye=null,Le=null,Te=L,Ae=L=0,Yt=null;Te!==null&&Ae<H.length;Ae++){Te.index>Ae?(Yt=Te,Te=null):Yt=Te.sibling;var We=G(z,Te,H[Ae],Z);if(We===null){Te===null&&(Te=Yt);break}t&&Te&&We.alternate===null&&a(z,Te),L=m(We,L,Ae),Le===null?ye=We:Le.sibling=We,Le=We,Te=Yt}if(Ae===H.length)return r(z,Te),tt&&Hi(z,Ae),ye;if(Te===null){for(;Ae<H.length;Ae++)Te=ee(z,H[Ae],Z),Te!==null&&(L=m(Te,L,Ae),Le===null?ye=Te:Le.sibling=Te,Le=Te);return tt&&Hi(z,Ae),ye}for(Te=o(Te);Ae<H.length;Ae++)Yt=K(Te,z,Ae,H[Ae],Z),Yt!==null&&(t&&Yt.alternate!==null&&Te.delete(Yt.key===null?Ae:Yt.key),L=m(Yt,L,Ae),Le===null?ye=Yt:Le.sibling=Yt,Le=Yt);return t&&Te.forEach(function(ei){return a(z,ei)}),tt&&Hi(z,Ae),ye}function we(z,L,H,Z){if(H==null)throw Error(i(151));for(var ye=null,Le=null,Te=L,Ae=L=0,Yt=null,We=H.next();Te!==null&&!We.done;Ae++,We=H.next()){Te.index>Ae?(Yt=Te,Te=null):Yt=Te.sibling;var ei=G(z,Te,We.value,Z);if(ei===null){Te===null&&(Te=Yt);break}t&&Te&&ei.alternate===null&&a(z,Te),L=m(ei,L,Ae),Le===null?ye=ei:Le.sibling=ei,Le=ei,Te=Yt}if(We.done)return r(z,Te),tt&&Hi(z,Ae),ye;if(Te===null){for(;!We.done;Ae++,We=H.next())We=ee(z,We.value,Z),We!==null&&(L=m(We,L,Ae),Le===null?ye=We:Le.sibling=We,Le=We);return tt&&Hi(z,Ae),ye}for(Te=o(Te);!We.done;Ae++,We=H.next())We=K(Te,z,Ae,We.value,Z),We!==null&&(t&&We.alternate!==null&&Te.delete(We.key===null?Ae:We.key),L=m(We,L,Ae),Le===null?ye=We:Le.sibling=We,Le=We);return t&&Te.forEach(function(nN){return a(z,nN)}),tt&&Hi(z,Ae),ye}function ct(z,L,H,Z){if(typeof H=="object"&&H!==null&&H.type===P&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case w:e:{for(var ye=H.key;L!==null;){if(L.key===ye){if(ye=H.type,ye===P){if(L.tag===7){r(z,L.sibling),Z=d(L,H.props.children),Z.return=z,z=Z;break e}}else if(L.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Vy(ye)===L.type){r(z,L.sibling),Z=d(L,H.props),xo(Z,H),Z.return=z,z=Z;break e}r(z,L);break}else a(z,L);L=L.sibling}H.type===P?(Z=zi(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=su(H.type,H.key,H.props,null,z.mode,Z),xo(Z,H),Z.return=z,z=Z)}return b(z);case M:e:{for(ye=H.key;L!==null;){if(L.key===ye)if(L.tag===4&&L.stateNode.containerInfo===H.containerInfo&&L.stateNode.implementation===H.implementation){r(z,L.sibling),Z=d(L,H.children||[]),Z.return=z,z=Z;break e}else{r(z,L);break}else a(z,L);L=L.sibling}Z=Cd(H,z.mode,Z),Z.return=z,z=Z}return b(z);case A:return ye=H._init,H=ye(H._payload),ct(z,L,H,Z)}if(ht(H))return ke(z,L,H,Z);if(U(H)){if(ye=U(H),typeof ye!="function")throw Error(i(150));return H=ye.call(H),we(z,L,H,Z)}if(typeof H.then=="function")return ct(z,L,Eu(H),Z);if(H.$$typeof===J)return ct(z,L,ou(z,H),Z);Tu(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,L!==null&&L.tag===6?(r(z,L.sibling),Z=d(L,H),Z.return=z,z=Z):(r(z,L),Z=Id(H,z.mode,Z),Z.return=z,z=Z),b(z)):r(z,L)}return function(z,L,H,Z){try{To=0;var ye=ct(z,L,H,Z);return Kr=null,ye}catch(Te){if(Te===fo||Te===uu)throw Te;var Le=kn(29,Te,null,z.mode);return Le.lanes=Z,Le.return=z,Le}finally{}}}var $r=Ly(!0),Uy=Ly(!1),Kn=te(null),Aa=null;function Us(t){var a=t.alternate;re(qt,qt.current&1),re(Kn,t),Aa===null&&(a===null||Hr.current!==null||a.memoizedState!==null)&&(Aa=t)}function zy(t){if(t.tag===22){if(re(qt,qt.current),re(Kn,t),Aa===null){var a=t.alternate;a!==null&&a.memoizedState!==null&&(Aa=t)}}else zs()}function zs(){re(qt,qt.current),re(Kn,Kn.current)}function as(t){ce(Kn),Aa===t&&(Aa=null),ce(qt)}var qt=te(0);function xu(t){for(var a=t;a!==null;){if(a.tag===13){var r=a.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||tm(r)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function df(t,a,r,o){a=t.memoizedState,r=r(o,a),r=r==null?a:E({},a,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ff={enqueueSetState:function(t,a,r){t=t._reactInternals;var o=Dn(),d=Ps(o);d.payload=a,r!=null&&(d.callback=r),a=Vs(t,d,o),a!==null&&(Mn(a,t,o),po(a,t,o))},enqueueReplaceState:function(t,a,r){t=t._reactInternals;var o=Dn(),d=Ps(o);d.tag=1,d.payload=a,r!=null&&(d.callback=r),a=Vs(t,d,o),a!==null&&(Mn(a,t,o),po(a,t,o))},enqueueForceUpdate:function(t,a){t=t._reactInternals;var r=Dn(),o=Ps(r);o.tag=2,a!=null&&(o.callback=a),a=Vs(t,o,r),a!==null&&(Mn(a,t,r),po(a,t,r))}};function By(t,a,r,o,d,m,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,m,b):a.prototype&&a.prototype.isPureReactComponent?!so(r,o)||!so(d,m):!0}function Hy(t,a,r,o){t=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(r,o),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(r,o),a.state!==t&&ff.enqueueReplaceState(a,a.state,null)}function Yi(t,a){var r=a;if("ref"in a){r={};for(var o in a)o!=="ref"&&(r[o]=a[o])}if(t=t.defaultProps){r===a&&(r=E({},r));for(var d in t)r[d]===void 0&&(r[d]=t[d])}return r}var Nu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qy(t){Nu(t)}function Fy(t){console.error(t)}function Gy(t){Nu(t)}function wu(t,a){try{var r=t.onUncaughtError;r(a.value,{componentStack:a.stack})}catch(o){setTimeout(function(){throw o})}}function Ky(t,a,r){try{var o=t.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function mf(t,a,r){return r=Ps(r),r.tag=3,r.payload={element:null},r.callback=function(){wu(t,a)},r}function $y(t){return t=Ps(t),t.tag=3,t}function Qy(t,a,r,o){var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=o.value;t.payload=function(){return d(m)},t.callback=function(){Ky(a,r,o)}}var b=r.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){Ky(a,r,o),typeof d!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function nx(t,a,r,o,d){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(a=r.alternate,a!==null&&co(a,r,d,!0),r=Kn.current,r!==null){switch(r.tag){case 13:return Aa===null?Lf():r.alternate===null&&Nt===0&&(Nt=3),r.flags&=-257,r.flags|=65536,r.lanes=d,o===Hd?r.flags|=16384:(a=r.updateQueue,a===null?r.updateQueue=new Set([o]):a.add(o),zf(t,o,d)),!1;case 22:return r.flags|=65536,o===Hd?r.flags|=16384:(a=r.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=a):(r=a.retryQueue,r===null?a.retryQueue=new Set([o]):r.add(o)),zf(t,o,d)),!1}throw Error(i(435,r.tag))}return zf(t,o,d),Lf(),!1}if(tt)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=d,o!==Od&&(t=Error(i(422),{cause:o}),oo(Hn(t,r)))):(o!==Od&&(a=Error(i(423),{cause:o}),oo(Hn(a,r))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,o=Hn(o,r),d=mf(t.stateNode,o,d),Gd(t,d),Nt!==4&&(Nt=2)),!1;var m=Error(i(520),{cause:o});if(m=Hn(m,r),Ro===null?Ro=[m]:Ro.push(m),Nt!==4&&(Nt=2),a===null)return!0;o=Hn(o,r),r=a;do{switch(r.tag){case 3:return r.flags|=65536,t=d&-d,r.lanes|=t,t=mf(r.stateNode,o,t),Gd(r,t),!1;case 1:if(a=r.type,m=r.stateNode,(r.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ks===null||!Ks.has(m))))return r.flags|=65536,d&=-d,r.lanes|=d,d=$y(d),Qy(d,t,r,o),Gd(r,d),!1}r=r.return}while(r!==null);return!1}var Yy=Error(i(461)),$t=!1;function Jt(t,a,r,o){a.child=t===null?Uy(a,null,r,o):$r(a,t.child,r,o)}function Xy(t,a,r,o,d){r=r.render;var m=a.ref;if("ref"in o){var b={};for(var T in o)T!=="ref"&&(b[T]=o[T])}else b=o;return Ki(a),o=Xd(t,a,r,b,m,d),T=Wd(),t!==null&&!$t?(Zd(t,a,d),ss(t,a,d)):(tt&&T&&Dd(a),a.flags|=1,Jt(t,a,o,d),a.child)}function Wy(t,a,r,o,d){if(t===null){var m=r.type;return typeof m=="function"&&!Rd(m)&&m.defaultProps===void 0&&r.compare===null?(a.tag=15,a.type=m,Zy(t,a,m,o,d)):(t=su(r.type,null,o,a,a.mode,d),t.ref=a.ref,t.return=a,a.child=t)}if(m=t.child,!Tf(t,d)){var b=m.memoizedProps;if(r=r.compare,r=r!==null?r:so,r(b,o)&&t.ref===a.ref)return ss(t,a,d)}return a.flags|=1,t=Wa(m,o),t.ref=a.ref,t.return=a,a.child=t}function Zy(t,a,r,o,d){if(t!==null){var m=t.memoizedProps;if(so(m,o)&&t.ref===a.ref)if($t=!1,a.pendingProps=o=m,Tf(t,d))(t.flags&131072)!==0&&($t=!0);else return a.lanes=t.lanes,ss(t,a,d)}return pf(t,a,r,o,d)}function Jy(t,a,r){var o=a.pendingProps,d=o.children,m=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((a.flags&128)!==0){if(o=m!==null?m.baseLanes|r:r,t!==null){for(d=a.child=t.child,m=0;d!==null;)m=m|d.lanes|d.childLanes,d=d.sibling;a.childLanes=m&~o}else a.childLanes=0,a.child=null;return ev(t,a,o,r)}if((r&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},t!==null&&cu(a,m!==null?m.cachePool:null),m!==null?Zg(a,m):$d(),zy(a);else return a.lanes=a.childLanes=536870912,ev(t,a,m!==null?m.baseLanes|r:r,r)}else m!==null?(cu(a,m.cachePool),Zg(a,m),zs(),a.memoizedState=null):(t!==null&&cu(a,null),$d(),zs());return Jt(t,a,d,r),a.child}function ev(t,a,r,o){var d=Bd();return d=d===null?null:{parent:Ht._currentValue,pool:d},a.memoizedState={baseLanes:r,cachePool:d},t!==null&&cu(a,null),$d(),zy(a),t!==null&&co(t,a,o,!0),null}function Su(t,a){var r=a.ref;if(r===null)t!==null&&t.ref!==null&&(a.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(i(284));(t===null||t.ref!==r)&&(a.flags|=4194816)}}function pf(t,a,r,o,d){return Ki(a),r=Xd(t,a,r,o,void 0,d),o=Wd(),t!==null&&!$t?(Zd(t,a,d),ss(t,a,d)):(tt&&o&&Dd(a),a.flags|=1,Jt(t,a,r,d),a.child)}function tv(t,a,r,o,d,m){return Ki(a),a.updateQueue=null,r=ey(a,o,r,d),Jg(t),o=Wd(),t!==null&&!$t?(Zd(t,a,m),ss(t,a,m)):(tt&&o&&Dd(a),a.flags|=1,Jt(t,a,r,m),a.child)}function nv(t,a,r,o,d){if(Ki(a),a.stateNode===null){var m=Vr,b=r.contextType;typeof b=="object"&&b!==null&&(m=ln(b)),m=new r(o,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ff,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=o,m.state=a.memoizedState,m.refs={},qd(a),b=r.contextType,m.context=typeof b=="object"&&b!==null?ln(b):Vr,m.state=a.memoizedState,b=r.getDerivedStateFromProps,typeof b=="function"&&(df(a,r,b,o),m.state=a.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(b=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),b!==m.state&&ff.enqueueReplaceState(m,m.state,null),yo(a,o,m,d),go(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!0}else if(t===null){m=a.stateNode;var T=a.memoizedProps,k=Yi(r,T);m.props=k;var q=m.context,W=r.contextType;b=Vr,typeof W=="object"&&W!==null&&(b=ln(W));var ee=r.getDerivedStateFromProps;W=typeof ee=="function"||typeof m.getSnapshotBeforeUpdate=="function",T=a.pendingProps!==T,W||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(T||q!==b)&&Hy(a,m,o,b),Os=!1;var G=a.memoizedState;m.state=G,yo(a,o,m,d),go(),q=a.memoizedState,T||G!==q||Os?(typeof ee=="function"&&(df(a,r,ee,o),q=a.memoizedState),(k=Os||By(a,r,k,o,G,q,b))?(W||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=o,a.memoizedState=q),m.props=o,m.state=q,m.context=b,o=k):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),o=!1)}else{m=a.stateNode,Fd(t,a),b=a.memoizedProps,W=Yi(r,b),m.props=W,ee=a.pendingProps,G=m.context,q=r.contextType,k=Vr,typeof q=="object"&&q!==null&&(k=ln(q)),T=r.getDerivedStateFromProps,(q=typeof T=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b!==ee||G!==k)&&Hy(a,m,o,k),Os=!1,G=a.memoizedState,m.state=G,yo(a,o,m,d),go();var K=a.memoizedState;b!==ee||G!==K||Os||t!==null&&t.dependencies!==null&&lu(t.dependencies)?(typeof T=="function"&&(df(a,r,T,o),K=a.memoizedState),(W=Os||By(a,r,W,o,G,K,k)||t!==null&&t.dependencies!==null&&lu(t.dependencies))?(q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,K,k),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,K,k)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),a.memoizedProps=o,a.memoizedState=K),m.props=o,m.state=K,m.context=k,o=W):(typeof m.componentDidUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&G===t.memoizedState||(a.flags|=1024),o=!1)}return m=o,Su(t,a),o=(a.flags&128)!==0,m||o?(m=a.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,t!==null&&o?(a.child=$r(a,t.child,null,d),a.child=$r(a,null,r,d)):Jt(t,a,r,d),a.memoizedState=m.state,t=a.child):t=ss(t,a,d),t}function av(t,a,r,o){return lo(),a.flags|=256,Jt(t,a,r,o),a.child}var gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yf(t){return{baseLanes:t,cachePool:Fg()}}function vf(t,a,r){return t=t!==null?t.childLanes&~r:0,a&&(t|=$n),t}function sv(t,a,r){var o=a.pendingProps,d=!1,m=(a.flags&128)!==0,b;if((b=m)||(b=t!==null&&t.memoizedState===null?!1:(qt.current&2)!==0),b&&(d=!0,a.flags&=-129),b=(a.flags&32)!==0,a.flags&=-33,t===null){if(tt){if(d?Us(a):zs(),tt){var T=xt,k;if(k=T){e:{for(k=T,T=Sa;k.nodeType!==8;){if(!T){T=null;break e}if(k=la(k.nextSibling),k===null){T=null;break e}}T=k}T!==null?(a.memoizedState={dehydrated:T,treeContext:Bi!==null?{id:Za,overflow:Ja}:null,retryLane:536870912,hydrationErrors:null},k=kn(18,null,null,0),k.stateNode=T,k.return=a,a.child=k,yn=a,xt=null,k=!0):k=!1}k||Fi(a)}if(T=a.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return tm(T)?a.lanes=32:a.lanes=536870912,null;as(a)}return T=o.children,o=o.fallback,d?(zs(),d=a.mode,T=Au({mode:"hidden",children:T},d),o=zi(o,d,r,null),T.return=a,o.return=a,T.sibling=o,a.child=T,d=a.child,d.memoizedState=yf(r),d.childLanes=vf(t,b,r),a.memoizedState=gf,o):(Us(a),_f(a,T))}if(k=t.memoizedState,k!==null&&(T=k.dehydrated,T!==null)){if(m)a.flags&256?(Us(a),a.flags&=-257,a=bf(t,a,r)):a.memoizedState!==null?(zs(),a.child=t.child,a.flags|=128,a=null):(zs(),d=o.fallback,T=a.mode,o=Au({mode:"visible",children:o.children},T),d=zi(d,T,r,null),d.flags|=2,o.return=a,d.return=a,o.sibling=d,a.child=o,$r(a,t.child,null,r),o=a.child,o.memoizedState=yf(r),o.childLanes=vf(t,b,r),a.memoizedState=gf,a=d);else if(Us(a),tm(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var q=b.dgst;b=q,o=Error(i(419)),o.stack="",o.digest=b,oo({value:o,source:null,stack:null}),a=bf(t,a,r)}else if($t||co(t,a,r,!1),b=(r&t.childLanes)!==0,$t||b){if(b=dt,b!==null&&(o=r&-r,o=(o&42)!==0?1:As(o),o=(o&(b.suspendedLanes|r))!==0?0:o,o!==0&&o!==k.retryLane))throw k.retryLane=o,Pr(t,o),Mn(b,t,o),Yy;T.data==="$?"||Lf(),a=bf(t,a,r)}else T.data==="$?"?(a.flags|=192,a.child=t.child,a=null):(t=k.treeContext,xt=la(T.nextSibling),yn=a,tt=!0,qi=null,Sa=!1,t!==null&&(Fn[Gn++]=Za,Fn[Gn++]=Ja,Fn[Gn++]=Bi,Za=t.id,Ja=t.overflow,Bi=a),a=_f(a,o.children),a.flags|=4096);return a}return d?(zs(),d=o.fallback,T=a.mode,k=t.child,q=k.sibling,o=Wa(k,{mode:"hidden",children:o.children}),o.subtreeFlags=k.subtreeFlags&65011712,q!==null?d=Wa(q,d):(d=zi(d,T,r,null),d.flags|=2),d.return=a,o.return=a,o.sibling=d,a.child=o,o=d,d=a.child,T=t.child.memoizedState,T===null?T=yf(r):(k=T.cachePool,k!==null?(q=Ht._currentValue,k=k.parent!==q?{parent:q,pool:q}:k):k=Fg(),T={baseLanes:T.baseLanes|r,cachePool:k}),d.memoizedState=T,d.childLanes=vf(t,b,r),a.memoizedState=gf,o):(Us(a),r=t.child,t=r.sibling,r=Wa(r,{mode:"visible",children:o.children}),r.return=a,r.sibling=null,t!==null&&(b=a.deletions,b===null?(a.deletions=[t],a.flags|=16):b.push(t)),a.child=r,a.memoizedState=null,r)}function _f(t,a){return a=Au({mode:"visible",children:a},t.mode),a.return=t,t.child=a}function Au(t,a){return t=kn(22,t,null,a),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bf(t,a,r){return $r(a,t.child,null,r),t=_f(a,a.pendingProps.children),t.flags|=2,a.memoizedState=null,t}function iv(t,a,r){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a),Vd(t.return,a,r)}function Ef(t,a,r,o,d){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:d}:(m.isBackwards=a,m.rendering=null,m.renderingStartTime=0,m.last=o,m.tail=r,m.tailMode=d)}function rv(t,a,r){var o=a.pendingProps,d=o.revealOrder,m=o.tail;if(Jt(t,a,o.children,r),o=qt.current,(o&2)!==0)o=o&1|2,a.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=a.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iv(t,r,a);else if(t.tag===19)iv(t,r,a);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===a)break e;for(;t.sibling===null;){if(t.return===null||t.return===a)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch(re(qt,o),d){case"forwards":for(r=a.child,d=null;r!==null;)t=r.alternate,t!==null&&xu(t)===null&&(d=r),r=r.sibling;r=d,r===null?(d=a.child,a.child=null):(d=r.sibling,r.sibling=null),Ef(a,!1,d,r,m);break;case"backwards":for(r=null,d=a.child,a.child=null;d!==null;){if(t=d.alternate,t!==null&&xu(t)===null){a.child=d;break}t=d.sibling,d.sibling=r,r=d,d=t}Ef(a,!0,r,null,m);break;case"together":Ef(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function ss(t,a,r){if(t!==null&&(a.dependencies=t.dependencies),Gs|=a.lanes,(r&a.childLanes)===0)if(t!==null){if(co(t,a,r,!1),(r&a.childLanes)===0)return null}else return null;if(t!==null&&a.child!==t.child)throw Error(i(153));if(a.child!==null){for(t=a.child,r=Wa(t,t.pendingProps),a.child=r,r.return=a;t.sibling!==null;)t=t.sibling,r=r.sibling=Wa(t,t.pendingProps),r.return=a;r.sibling=null}return a.child}function Tf(t,a){return(t.lanes&a)!==0?!0:(t=t.dependencies,!!(t!==null&&lu(t)))}function ax(t,a,r){switch(a.tag){case 3:Ze(a,a.stateNode.containerInfo),Ms(a,Ht,t.memoizedState.cache),lo();break;case 27:case 5:_n(a);break;case 4:Ze(a,a.stateNode.containerInfo);break;case 10:Ms(a,a.type,a.memoizedProps.value);break;case 13:var o=a.memoizedState;if(o!==null)return o.dehydrated!==null?(Us(a),a.flags|=128,null):(r&a.child.childLanes)!==0?sv(t,a,r):(Us(a),t=ss(t,a,r),t!==null?t.sibling:null);Us(a);break;case 19:var d=(t.flags&128)!==0;if(o=(r&a.childLanes)!==0,o||(co(t,a,r,!1),o=(r&a.childLanes)!==0),d){if(o)return rv(t,a,r);a.flags|=128}if(d=a.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),re(qt,qt.current),o)break;return null;case 22:case 23:return a.lanes=0,Jy(t,a,r);case 24:Ms(a,Ht,t.memoizedState.cache)}return ss(t,a,r)}function lv(t,a,r){if(t!==null)if(t.memoizedProps!==a.pendingProps)$t=!0;else{if(!Tf(t,r)&&(a.flags&128)===0)return $t=!1,ax(t,a,r);$t=(t.flags&131072)!==0}else $t=!1,tt&&(a.flags&1048576)!==0&&Vg(a,ru,a.index);switch(a.lanes=0,a.tag){case 16:e:{t=a.pendingProps;var o=a.elementType,d=o._init;if(o=d(o._payload),a.type=o,typeof o=="function")Rd(o)?(t=Yi(o,t),a.tag=1,a=nv(null,a,o,t,r)):(a.tag=0,a=pf(null,a,o,t,r));else{if(o!=null){if(d=o.$$typeof,d===fe){a.tag=11,a=Xy(null,a,o,t,r);break e}else if(d===C){a.tag=14,a=Wy(null,a,o,t,r);break e}}throw a=vt(o)||o,Error(i(306,a,""))}}return a;case 0:return pf(t,a,a.type,a.pendingProps,r);case 1:return o=a.type,d=Yi(o,a.pendingProps),nv(t,a,o,d,r);case 3:e:{if(Ze(a,a.stateNode.containerInfo),t===null)throw Error(i(387));o=a.pendingProps;var m=a.memoizedState;d=m.element,Fd(t,a),yo(a,o,null,r);var b=a.memoizedState;if(o=b.cache,Ms(a,Ht,o),o!==m.cache&&Ld(a,[Ht],r,!0),go(),o=b.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:b.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=av(t,a,o,r);break e}else if(o!==d){d=Hn(Error(i(424)),a),oo(d),a=av(t,a,o,r);break e}else{switch(t=a.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(xt=la(t.firstChild),yn=a,tt=!0,qi=null,Sa=!0,r=Uy(a,null,o,r),a.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(lo(),o===d){a=ss(t,a,r);break e}Jt(t,a,o,r)}a=a.child}return a;case 26:return Su(t,a),t===null?(r=h_(a.type,null,a.pendingProps,null))?a.memoizedState=r:tt||(r=a.type,t=a.pendingProps,o=Bu(Se.current).createElement(r),o[Ut]=a,o[Rt]=t,tn(o,r,t),St(o),a.stateNode=o):a.memoizedState=h_(a.type,t.memoizedProps,a.pendingProps,t.memoizedState),null;case 27:return _n(a),t===null&&tt&&(o=a.stateNode=o_(a.type,a.pendingProps,Se.current),yn=a,Sa=!0,d=xt,Ys(a.type)?(nm=d,xt=la(o.firstChild)):xt=d),Jt(t,a,a.pendingProps.children,r),Su(t,a),t===null&&(a.flags|=4194304),a.child;case 5:return t===null&&tt&&((d=o=xt)&&(o=Ix(o,a.type,a.pendingProps,Sa),o!==null?(a.stateNode=o,yn=a,xt=la(o.firstChild),Sa=!1,d=!0):d=!1),d||Fi(a)),_n(a),d=a.type,m=a.pendingProps,b=t!==null?t.memoizedProps:null,o=m.children,Zf(d,m)?o=null:b!==null&&Zf(d,b)&&(a.flags|=32),a.memoizedState!==null&&(d=Xd(t,a,YT,null,null,r),Uo._currentValue=d),Su(t,a),Jt(t,a,o,r),a.child;case 6:return t===null&&tt&&((t=r=xt)&&(r=Cx(r,a.pendingProps,Sa),r!==null?(a.stateNode=r,yn=a,xt=null,t=!0):t=!1),t||Fi(a)),null;case 13:return sv(t,a,r);case 4:return Ze(a,a.stateNode.containerInfo),o=a.pendingProps,t===null?a.child=$r(a,null,o,r):Jt(t,a,o,r),a.child;case 11:return Xy(t,a,a.type,a.pendingProps,r);case 7:return Jt(t,a,a.pendingProps,r),a.child;case 8:return Jt(t,a,a.pendingProps.children,r),a.child;case 12:return Jt(t,a,a.pendingProps.children,r),a.child;case 10:return o=a.pendingProps,Ms(a,a.type,o.value),Jt(t,a,o.children,r),a.child;case 9:return d=a.type._context,o=a.pendingProps.children,Ki(a),d=ln(d),o=o(d),a.flags|=1,Jt(t,a,o,r),a.child;case 14:return Wy(t,a,a.type,a.pendingProps,r);case 15:return Zy(t,a,a.type,a.pendingProps,r);case 19:return rv(t,a,r);case 31:return o=a.pendingProps,r=a.mode,o={mode:o.mode,children:o.children},t===null?(r=Au(o,r),r.ref=a.ref,a.child=r,r.return=a,a=r):(r=Wa(t.child,o),r.ref=a.ref,a.child=r,r.return=a,a=r),a;case 22:return Jy(t,a,r);case 24:return Ki(a),o=ln(Ht),t===null?(d=Bd(),d===null&&(d=dt,m=Ud(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=r),d=m),a.memoizedState={parent:o,cache:d},qd(a),Ms(a,Ht,d)):((t.lanes&r)!==0&&(Fd(t,a),yo(a,null,null,r),go()),d=t.memoizedState,m=a.memoizedState,d.parent!==o?(d={parent:o,cache:o},a.memoizedState=d,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=d),Ms(a,Ht,o)):(o=m.cache,Ms(a,Ht,o),o!==d.cache&&Ld(a,[Ht],r,!0))),Jt(t,a,a.pendingProps.children,r),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function is(t){t.flags|=4}function ov(t,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!g_(a)){if(a=Kn.current,a!==null&&(($e&4194048)===$e?Aa!==null:($e&62914560)!==$e&&($e&536870912)===0||a!==Aa))throw mo=Hd,Gg;t.flags|=8192}}function ju(t,a){a!==null&&(t.flags|=4),t.flags&16384&&(a=t.tag!==22?zl():536870912,t.lanes|=a,Wr|=a)}function No(t,a){if(!tt)switch(t.tailMode){case"hidden":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?a||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function _t(t){var a=t.alternate!==null&&t.alternate.child===t.child,r=0,o=0;if(a)for(var d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags&65011712,o|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)r|=d.lanes|d.childLanes,o|=d.subtreeFlags,o|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=o,t.childLanes=r,a}function sx(t,a,r){var o=a.pendingProps;switch(Md(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(a),null;case 1:return _t(a),null;case 3:return r=a.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),ts(Ht),rn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ro(a)?is(a):t===null||t.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,zg())),_t(a),null;case 26:return r=a.memoizedState,t===null?(is(a),r!==null?(_t(a),ov(a,r)):(_t(a),a.flags&=-16777217)):r?r!==t.memoizedState?(is(a),_t(a),ov(a,r)):(_t(a),a.flags&=-16777217):(t.memoizedProps!==o&&is(a),_t(a),a.flags&=-16777217),null;case 27:bn(a),r=Se.current;var d=a.type;if(t!==null&&a.stateNode!=null)t.memoizedProps!==o&&is(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return _t(a),null}t=Ee.current,ro(a)?Lg(a):(t=o_(d,o,r),a.stateNode=t,is(a))}return _t(a),null;case 5:if(bn(a),r=a.type,t!==null&&a.stateNode!=null)t.memoizedProps!==o&&is(a);else{if(!o){if(a.stateNode===null)throw Error(i(166));return _t(a),null}if(t=Ee.current,ro(a))Lg(a);else{switch(d=Bu(Se.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?d.createElement("select",{is:o.is}):d.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?d.createElement(r,{is:o.is}):d.createElement(r)}}t[Ut]=a,t[Rt]=o;e:for(d=a.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===a)break e;for(;d.sibling===null;){if(d.return===null||d.return===a)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}a.stateNode=t;e:switch(tn(t,r,o),r){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&is(a)}}return _t(a),a.flags&=-16777217,null;case 6:if(t&&a.stateNode!=null)t.memoizedProps!==o&&is(a);else{if(typeof o!="string"&&a.stateNode===null)throw Error(i(166));if(t=Se.current,ro(a)){if(t=a.stateNode,r=a.memoizedProps,o=null,d=yn,d!==null)switch(d.tag){case 27:case 5:o=d.memoizedProps}t[Ut]=a,t=!!(t.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||t_(t.nodeValue,r)),t||Fi(a)}else t=Bu(t).createTextNode(o),t[Ut]=a,a.stateNode=t}return _t(a),null;case 13:if(o=a.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=ro(a),o!==null&&o.dehydrated!==null){if(t===null){if(!d)throw Error(i(318));if(d=a.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Ut]=a}else lo(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;_t(a),d=!1}else d=zg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return a.flags&256?(as(a),a):(as(a),null)}if(as(a),(a.flags&128)!==0)return a.lanes=r,a;if(r=o!==null,t=t!==null&&t.memoizedState!==null,r){o=a.child,d=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(d=o.alternate.memoizedState.cachePool.pool);var m=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==d&&(o.flags|=2048)}return r!==t&&r&&(a.child.flags|=8192),ju(a,a.updateQueue),_t(a),null;case 4:return rn(),t===null&&$f(a.stateNode.containerInfo),_t(a),null;case 10:return ts(a.type),_t(a),null;case 19:if(ce(qt),d=a.memoizedState,d===null)return _t(a),null;if(o=(a.flags&128)!==0,m=d.rendering,m===null)if(o)No(d,!1);else{if(Nt!==0||t!==null&&(t.flags&128)!==0)for(t=a.child;t!==null;){if(m=xu(t),m!==null){for(a.flags|=128,No(d,!1),t=m.updateQueue,a.updateQueue=t,ju(a,t),a.subtreeFlags=0,t=r,r=a.child;r!==null;)Pg(r,t),r=r.sibling;return re(qt,qt.current&1|2),a.child}t=t.sibling}d.tail!==null&&ve()>Iu&&(a.flags|=128,o=!0,No(d,!1),a.lanes=4194304)}else{if(!o)if(t=xu(m),t!==null){if(a.flags|=128,o=!0,t=t.updateQueue,a.updateQueue=t,ju(a,t),No(d,!0),d.tail===null&&d.tailMode==="hidden"&&!m.alternate&&!tt)return _t(a),null}else 2*ve()-d.renderingStartTime>Iu&&r!==536870912&&(a.flags|=128,o=!0,No(d,!1),a.lanes=4194304);d.isBackwards?(m.sibling=a.child,a.child=m):(t=d.last,t!==null?t.sibling=m:a.child=m,d.last=m)}return d.tail!==null?(a=d.tail,d.rendering=a,d.tail=a.sibling,d.renderingStartTime=ve(),a.sibling=null,t=qt.current,re(qt,o?t&1|2:t&1),a):(_t(a),null);case 22:case 23:return as(a),Qd(),o=a.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(a.flags|=8192):o&&(a.flags|=8192),o?(r&536870912)!==0&&(a.flags&128)===0&&(_t(a),a.subtreeFlags&6&&(a.flags|=8192)):_t(a),r=a.updateQueue,r!==null&&ju(a,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==r&&(a.flags|=2048),t!==null&&ce($i),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),a.memoizedState.cache!==r&&(a.flags|=2048),ts(Ht),_t(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function ix(t,a){switch(Md(a),a.tag){case 1:return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 3:return ts(Ht),rn(),t=a.flags,(t&65536)!==0&&(t&128)===0?(a.flags=t&-65537|128,a):null;case 26:case 27:case 5:return bn(a),null;case 13:if(as(a),t=a.memoizedState,t!==null&&t.dehydrated!==null){if(a.alternate===null)throw Error(i(340));lo()}return t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 19:return ce(qt),null;case 4:return rn(),null;case 10:return ts(a.type),null;case 22:case 23:return as(a),Qd(),t!==null&&ce($i),t=a.flags,t&65536?(a.flags=t&-65537|128,a):null;case 24:return ts(Ht),null;case 25:return null;default:return null}}function cv(t,a){switch(Md(a),a.tag){case 3:ts(Ht),rn();break;case 26:case 27:case 5:bn(a);break;case 4:rn();break;case 13:as(a);break;case 19:ce(qt);break;case 10:ts(a.type);break;case 22:case 23:as(a),Qd(),t!==null&&ce($i);break;case 24:ts(Ht)}}function wo(t,a){try{var r=a.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var d=o.next;r=d;do{if((r.tag&t)===t){o=void 0;var m=r.create,b=r.inst;o=m(),b.destroy=o}r=r.next}while(r!==d)}}catch(T){ut(a,a.return,T)}}function Bs(t,a,r){try{var o=a.updateQueue,d=o!==null?o.lastEffect:null;if(d!==null){var m=d.next;o=m;do{if((o.tag&t)===t){var b=o.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,d=a;var k=r,q=T;try{q()}catch(W){ut(d,k,W)}}}o=o.next}while(o!==m)}}catch(W){ut(a,a.return,W)}}function uv(t){var a=t.updateQueue;if(a!==null){var r=t.stateNode;try{Wg(a,r)}catch(o){ut(t,t.return,o)}}}function hv(t,a,r){r.props=Yi(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(o){ut(t,a,o)}}function So(t,a){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof r=="function"?t.refCleanup=r(o):r.current=o}}catch(d){ut(t,a,d)}}function ja(t,a){var r=t.ref,o=t.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(d){ut(t,a,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(d){ut(t,a,d)}else r.current=null}function dv(t){var a=t.type,r=t.memoizedProps,o=t.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break e;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(d){ut(t,t.return,d)}}function xf(t,a,r){try{var o=t.stateNode;Sx(o,t.type,r,a),o[Rt]=a}catch(d){ut(t,t.return,d)}}function fv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ys(t.type)||t.tag===4}function Nf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||fv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ys(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wf(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,a):(a=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,a.appendChild(t),r=r._reactRootContainer,r!=null||a.onclick!==null||(a.onclick=zu));else if(o!==4&&(o===27&&Ys(t.type)&&(r=t.stateNode,a=null),t=t.child,t!==null))for(wf(t,a,r),t=t.sibling;t!==null;)wf(t,a,r),t=t.sibling}function ku(t,a,r){var o=t.tag;if(o===5||o===6)t=t.stateNode,a?r.insertBefore(t,a):r.appendChild(t);else if(o!==4&&(o===27&&Ys(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(ku(t,a,r),t=t.sibling;t!==null;)ku(t,a,r),t=t.sibling}function mv(t){var a=t.stateNode,r=t.memoizedProps;try{for(var o=t.type,d=a.attributes;d.length;)a.removeAttributeNode(d[0]);tn(a,o,r),a[Ut]=t,a[Rt]=r}catch(m){ut(t,t.return,m)}}var rs=!1,jt=!1,Sf=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function rx(t,a){if(t=t.containerInfo,Xf=$u,t=Sg(t),xd(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var d=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{r.nodeType,m.nodeType}catch{r=null;break e}var b=0,T=-1,k=-1,q=0,W=0,ee=t,G=null;t:for(;;){for(var K;ee!==r||d!==0&&ee.nodeType!==3||(T=b+d),ee!==m||o!==0&&ee.nodeType!==3||(k=b+o),ee.nodeType===3&&(b+=ee.nodeValue.length),(K=ee.firstChild)!==null;)G=ee,ee=K;for(;;){if(ee===t)break t;if(G===r&&++q===d&&(T=b),G===m&&++W===o&&(k=b),(K=ee.nextSibling)!==null)break;ee=G,G=ee.parentNode}ee=K}r=T===-1||k===-1?null:{start:T,end:k}}else r=null}r=r||{start:0,end:0}}else r=null;for(Wf={focusedElem:t,selectionRange:r},$u=!1,Qt=a;Qt!==null;)if(a=Qt,t=a.child,(a.subtreeFlags&1024)!==0&&t!==null)t.return=a,Qt=t;else for(;Qt!==null;){switch(a=Qt,m=a.alternate,t=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,r=a,d=m.memoizedProps,m=m.memoizedState,o=r.stateNode;try{var ke=Yi(r.type,d,r.elementType===r.type);t=o.getSnapshotBeforeUpdate(ke,m),o.__reactInternalSnapshotBeforeUpdate=t}catch(we){ut(r,r.return,we)}}break;case 3:if((t&1024)!==0){if(t=a.stateNode.containerInfo,r=t.nodeType,r===9)em(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(i(163))}if(t=a.sibling,t!==null){t.return=a.return,Qt=t;break}Qt=a.return}}function gv(t,a,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Hs(t,r),o&4&&wo(5,r);break;case 1:if(Hs(t,r),o&4)if(t=r.stateNode,a===null)try{t.componentDidMount()}catch(b){ut(r,r.return,b)}else{var d=Yi(r.type,a.memoizedProps);a=a.memoizedState;try{t.componentDidUpdate(d,a,t.__reactInternalSnapshotBeforeUpdate)}catch(b){ut(r,r.return,b)}}o&64&&uv(r),o&512&&So(r,r.return);break;case 3:if(Hs(t,r),o&64&&(t=r.updateQueue,t!==null)){if(a=null,r.child!==null)switch(r.child.tag){case 27:case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}try{Wg(t,a)}catch(b){ut(r,r.return,b)}}break;case 27:a===null&&o&4&&mv(r);case 26:case 5:Hs(t,r),a===null&&o&4&&dv(r),o&512&&So(r,r.return);break;case 12:Hs(t,r);break;case 13:Hs(t,r),o&4&&_v(t,r),o&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=px.bind(null,r),Dx(t,r))));break;case 22:if(o=r.memoizedState!==null||rs,!o){a=a!==null&&a.memoizedState!==null||jt,d=rs;var m=jt;rs=o,(jt=a)&&!m?qs(t,r,(r.subtreeFlags&8772)!==0):Hs(t,r),rs=d,jt=m}break;case 30:break;default:Hs(t,r)}}function yv(t){var a=t.alternate;a!==null&&(t.alternate=null,yv(a)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(a=t.stateNode,a!==null&&Rs(a)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var gt=null,Tn=!1;function ls(t,a,r){for(r=r.child;r!==null;)vv(t,a,r),r=r.sibling}function vv(t,a,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(et,r)}catch{}switch(r.tag){case 26:jt||ja(r,a),ls(t,a,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:jt||ja(r,a);var o=gt,d=Tn;Ys(r.type)&&(gt=r.stateNode,Tn=!1),ls(t,a,r),Oo(r.stateNode),gt=o,Tn=d;break;case 5:jt||ja(r,a);case 6:if(o=gt,d=Tn,gt=null,ls(t,a,r),gt=o,Tn=d,gt!==null)if(Tn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(r.stateNode)}catch(m){ut(r,a,m)}else try{gt.removeChild(r.stateNode)}catch(m){ut(r,a,m)}break;case 18:gt!==null&&(Tn?(t=gt,r_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),qo(t)):r_(gt,r.stateNode));break;case 4:o=gt,d=Tn,gt=r.stateNode.containerInfo,Tn=!0,ls(t,a,r),gt=o,Tn=d;break;case 0:case 11:case 14:case 15:jt||Bs(2,r,a),jt||Bs(4,r,a),ls(t,a,r);break;case 1:jt||(ja(r,a),o=r.stateNode,typeof o.componentWillUnmount=="function"&&hv(r,a,o)),ls(t,a,r);break;case 21:ls(t,a,r);break;case 22:jt=(o=jt)||r.memoizedState!==null,ls(t,a,r),jt=o;break;default:ls(t,a,r)}}function _v(t,a){if(a.memoizedState===null&&(t=a.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{qo(t)}catch(r){ut(a,a.return,r)}}function lx(t){switch(t.tag){case 13:case 19:var a=t.stateNode;return a===null&&(a=t.stateNode=new pv),a;case 22:return t=t.stateNode,a=t._retryCache,a===null&&(a=t._retryCache=new pv),a;default:throw Error(i(435,t.tag))}}function Af(t,a){var r=lx(t);a.forEach(function(o){var d=gx.bind(null,t,o);r.has(o)||(r.add(o),o.then(d,d))})}function Rn(t,a){var r=a.deletions;if(r!==null)for(var o=0;o<r.length;o++){var d=r[o],m=t,b=a,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(Ys(T.type)){gt=T.stateNode,Tn=!1;break e}break;case 5:gt=T.stateNode,Tn=!1;break e;case 3:case 4:gt=T.stateNode.containerInfo,Tn=!0;break e}T=T.return}if(gt===null)throw Error(i(160));vv(m,b,d),gt=null,Tn=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)bv(a,t),a=a.sibling}var ra=null;function bv(t,a){var r=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Rn(a,t),In(t),o&4&&(Bs(3,t,t.return),wo(3,t),Bs(5,t,t.return));break;case 1:Rn(a,t),In(t),o&512&&(jt||r===null||ja(r,r.return)),o&64&&rs&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var d=ra;if(Rn(a,t),In(t),o&512&&(jt||r===null||ja(r,r.return)),o&4){var m=r!==null?r.memoizedState:null;if(o=t.memoizedState,r===null)if(o===null)if(t.stateNode===null){e:{o=t.type,r=t.memoizedProps,d=d.ownerDocument||d;t:switch(o){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ni]||m[Ut]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(o),d.head.insertBefore(m,d.querySelector("head > title"))),tn(m,o,r),m[Ut]=t,St(m),o=m;break e;case"link":var b=m_("link","href",d).get(o+(r.href||""));if(b){for(var T=0;T<b.length;T++)if(m=b[T],m.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&m.getAttribute("rel")===(r.rel==null?null:r.rel)&&m.getAttribute("title")===(r.title==null?null:r.title)&&m.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){b.splice(T,1);break t}}m=d.createElement(o),tn(m,o,r),d.head.appendChild(m);break;case"meta":if(b=m_("meta","content",d).get(o+(r.content||""))){for(T=0;T<b.length;T++)if(m=b[T],m.getAttribute("content")===(r.content==null?null:""+r.content)&&m.getAttribute("name")===(r.name==null?null:r.name)&&m.getAttribute("property")===(r.property==null?null:r.property)&&m.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&m.getAttribute("charset")===(r.charSet==null?null:r.charSet)){b.splice(T,1);break t}}m=d.createElement(o),tn(m,o,r),d.head.appendChild(m);break;default:throw Error(i(468,o))}m[Ut]=t,St(m),o=m}t.stateNode=o}else p_(d,t.type,t.stateNode);else t.stateNode=f_(d,o,t.memoizedProps);else m!==o?(m===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):m.count--,o===null?p_(d,t.type,t.stateNode):f_(d,o,t.memoizedProps)):o===null&&t.stateNode!==null&&xf(t,t.memoizedProps,r.memoizedProps)}break;case 27:Rn(a,t),In(t),o&512&&(jt||r===null||ja(r,r.return)),r!==null&&o&4&&xf(t,t.memoizedProps,r.memoizedProps);break;case 5:if(Rn(a,t),In(t),o&512&&(jt||r===null||ja(r,r.return)),t.flags&32){d=t.stateNode;try{Ln(d,"")}catch(K){ut(t,t.return,K)}}o&4&&t.stateNode!=null&&(d=t.memoizedProps,xf(t,d,r!==null?r.memoizedProps:d)),o&1024&&(Sf=!0);break;case 6:if(Rn(a,t),In(t),o&4){if(t.stateNode===null)throw Error(i(162));o=t.memoizedProps,r=t.stateNode;try{r.nodeValue=o}catch(K){ut(t,t.return,K)}}break;case 3:if(Fu=null,d=ra,ra=Hu(a.containerInfo),Rn(a,t),ra=d,In(t),o&4&&r!==null&&r.memoizedState.isDehydrated)try{qo(a.containerInfo)}catch(K){ut(t,t.return,K)}Sf&&(Sf=!1,Ev(t));break;case 4:o=ra,ra=Hu(t.stateNode.containerInfo),Rn(a,t),In(t),ra=o;break;case 12:Rn(a,t),In(t);break;case 13:Rn(a,t),In(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Df=ve()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Af(t,o)));break;case 22:d=t.memoizedState!==null;var k=r!==null&&r.memoizedState!==null,q=rs,W=jt;if(rs=q||d,jt=W||k,Rn(a,t),jt=W,rs=q,In(t),o&8192)e:for(a=t.stateNode,a._visibility=d?a._visibility&-2:a._visibility|1,d&&(r===null||k||rs||jt||Xi(t)),r=null,a=t;;){if(a.tag===5||a.tag===26){if(r===null){k=r=a;try{if(m=k.stateNode,d)b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=k.stateNode;var ee=k.memoizedProps.style,G=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;T.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){ut(k,k.return,K)}}}else if(a.tag===6){if(r===null){k=a;try{k.stateNode.nodeValue=d?"":k.memoizedProps}catch(K){ut(k,k.return,K)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===t)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;r===a&&(r=null),a=a.return}r===a&&(r=null),a.sibling.return=a.return,a=a.sibling}o&4&&(o=t.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Af(t,r))));break;case 19:Rn(a,t),In(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,Af(t,o)));break;case 30:break;case 21:break;default:Rn(a,t),In(t)}}function In(t){var a=t.flags;if(a&2){try{for(var r,o=t.return;o!==null;){if(fv(o)){r=o;break}o=o.return}if(r==null)throw Error(i(160));switch(r.tag){case 27:var d=r.stateNode,m=Nf(t);ku(t,m,d);break;case 5:var b=r.stateNode;r.flags&32&&(Ln(b,""),r.flags&=-33);var T=Nf(t);ku(t,T,b);break;case 3:case 4:var k=r.stateNode.containerInfo,q=Nf(t);wf(t,q,k);break;default:throw Error(i(161))}}catch(W){ut(t,t.return,W)}t.flags&=-3}a&4096&&(t.flags&=-4097)}function Ev(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var a=t;Ev(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),t=t.sibling}}function Hs(t,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)gv(t,a.alternate,a),a=a.sibling}function Xi(t){for(t=t.child;t!==null;){var a=t;switch(a.tag){case 0:case 11:case 14:case 15:Bs(4,a,a.return),Xi(a);break;case 1:ja(a,a.return);var r=a.stateNode;typeof r.componentWillUnmount=="function"&&hv(a,a.return,r),Xi(a);break;case 27:Oo(a.stateNode);case 26:case 5:ja(a,a.return),Xi(a);break;case 22:a.memoizedState===null&&Xi(a);break;case 30:Xi(a);break;default:Xi(a)}t=t.sibling}}function qs(t,a,r){for(r=r&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var o=a.alternate,d=t,m=a,b=m.flags;switch(m.tag){case 0:case 11:case 15:qs(d,m,r),wo(4,m);break;case 1:if(qs(d,m,r),o=m,d=o.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(q){ut(o,o.return,q)}if(o=m,d=o.updateQueue,d!==null){var T=o.stateNode;try{var k=d.shared.hiddenCallbacks;if(k!==null)for(d.shared.hiddenCallbacks=null,d=0;d<k.length;d++)Xg(k[d],T)}catch(q){ut(o,o.return,q)}}r&&b&64&&uv(m),So(m,m.return);break;case 27:mv(m);case 26:case 5:qs(d,m,r),r&&o===null&&b&4&&dv(m),So(m,m.return);break;case 12:qs(d,m,r);break;case 13:qs(d,m,r),r&&b&4&&_v(d,m);break;case 22:m.memoizedState===null&&qs(d,m,r),So(m,m.return);break;case 30:break;default:qs(d,m,r)}a=a.sibling}}function jf(t,a){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(t=a.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&uo(r))}function kf(t,a){t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&uo(t))}function ka(t,a,r,o){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tv(t,a,r,o),a=a.sibling}function Tv(t,a,r,o){var d=a.flags;switch(a.tag){case 0:case 11:case 15:ka(t,a,r,o),d&2048&&wo(9,a);break;case 1:ka(t,a,r,o);break;case 3:ka(t,a,r,o),d&2048&&(t=null,a.alternate!==null&&(t=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==t&&(a.refCount++,t!=null&&uo(t)));break;case 12:if(d&2048){ka(t,a,r,o),t=a.stateNode;try{var m=a.memoizedProps,b=m.id,T=m.onPostCommit;typeof T=="function"&&T(b,a.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(k){ut(a,a.return,k)}}else ka(t,a,r,o);break;case 13:ka(t,a,r,o);break;case 23:break;case 22:m=a.stateNode,b=a.alternate,a.memoizedState!==null?m._visibility&2?ka(t,a,r,o):Ao(t,a):m._visibility&2?ka(t,a,r,o):(m._visibility|=2,Qr(t,a,r,o,(a.subtreeFlags&10256)!==0)),d&2048&&jf(b,a);break;case 24:ka(t,a,r,o),d&2048&&kf(a.alternate,a);break;default:ka(t,a,r,o)}}function Qr(t,a,r,o,d){for(d=d&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var m=t,b=a,T=r,k=o,q=b.flags;switch(b.tag){case 0:case 11:case 15:Qr(m,b,T,k,d),wo(8,b);break;case 23:break;case 22:var W=b.stateNode;b.memoizedState!==null?W._visibility&2?Qr(m,b,T,k,d):Ao(m,b):(W._visibility|=2,Qr(m,b,T,k,d)),d&&q&2048&&jf(b.alternate,b);break;case 24:Qr(m,b,T,k,d),d&&q&2048&&kf(b.alternate,b);break;default:Qr(m,b,T,k,d)}a=a.sibling}}function Ao(t,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var r=t,o=a,d=o.flags;switch(o.tag){case 22:Ao(r,o),d&2048&&jf(o.alternate,o);break;case 24:Ao(r,o),d&2048&&kf(o.alternate,o);break;default:Ao(r,o)}a=a.sibling}}var jo=8192;function Yr(t){if(t.subtreeFlags&jo)for(t=t.child;t!==null;)xv(t),t=t.sibling}function xv(t){switch(t.tag){case 26:Yr(t),t.flags&jo&&t.memoizedState!==null&&Kx(ra,t.memoizedState,t.memoizedProps);break;case 5:Yr(t);break;case 3:case 4:var a=ra;ra=Hu(t.stateNode.containerInfo),Yr(t),ra=a;break;case 22:t.memoizedState===null&&(a=t.alternate,a!==null&&a.memoizedState!==null?(a=jo,jo=16777216,Yr(t),jo=a):Yr(t));break;default:Yr(t)}}function Nv(t){var a=t.alternate;if(a!==null&&(t=a.child,t!==null)){a.child=null;do a=t.sibling,t.sibling=null,t=a;while(t!==null)}}function ko(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Qt=o,Sv(o,t)}Nv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wv(t),t=t.sibling}function wv(t){switch(t.tag){case 0:case 11:case 15:ko(t),t.flags&2048&&Bs(9,t,t.return);break;case 3:ko(t);break;case 12:ko(t);break;case 22:var a=t.stateNode;t.memoizedState!==null&&a._visibility&2&&(t.return===null||t.return.tag!==13)?(a._visibility&=-3,Ru(t)):ko(t);break;default:ko(t)}}function Ru(t){var a=t.deletions;if((t.flags&16)!==0){if(a!==null)for(var r=0;r<a.length;r++){var o=a[r];Qt=o,Sv(o,t)}Nv(t)}for(t=t.child;t!==null;){switch(a=t,a.tag){case 0:case 11:case 15:Bs(8,a,a.return),Ru(a);break;case 22:r=a.stateNode,r._visibility&2&&(r._visibility&=-3,Ru(a));break;default:Ru(a)}t=t.sibling}}function Sv(t,a){for(;Qt!==null;){var r=Qt;switch(r.tag){case 0:case 11:case 15:Bs(8,r,a);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:uo(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Qt=o;else e:for(r=t;Qt!==null;){o=Qt;var d=o.sibling,m=o.return;if(yv(o),o===r){Qt=null;break e}if(d!==null){d.return=m,Qt=d;break e}Qt=m}}}var ox={getCacheForType:function(t){var a=ln(Ht),r=a.data.get(t);return r===void 0&&(r=t(),a.data.set(t,r)),r}},cx=typeof WeakMap=="function"?WeakMap:Map,st=0,dt=null,Be=null,$e=0,it=0,Cn=null,Fs=!1,Xr=!1,Rf=!1,os=0,Nt=0,Gs=0,Wi=0,If=0,$n=0,Wr=0,Ro=null,xn=null,Cf=!1,Df=0,Iu=1/0,Cu=null,Ks=null,en=0,$s=null,Zr=null,Jr=0,Mf=0,Of=null,Av=null,Io=0,Pf=null;function Dn(){if((st&2)!==0&&$e!==0)return $e&-$e;if(Q.T!==null){var t=zr;return t!==0?t:qf()}return js()}function jv(){$n===0&&($n=($e&536870912)===0||tt?Ul():536870912);var t=Kn.current;return t!==null&&(t.flags|=32),$n}function Mn(t,a,r){(t===dt&&(it===2||it===9)||t.cancelPendingCommit!==null)&&(el(t,0),Qs(t,$e,$n,!1)),za(t,r),((st&2)===0||t!==dt)&&(t===dt&&((st&2)===0&&(Wi|=r),Nt===4&&Qs(t,$e,$n,!1)),Ra(t))}function kv(t,a,r){if((st&6)!==0)throw Error(i(327));var o=!r&&(a&124)===0&&(a&t.expiredLanes)===0||xi(t,a),d=o?dx(t,a):Uf(t,a,!0),m=o;do{if(d===0){Xr&&!o&&Qs(t,a,0,!1);break}else{if(r=t.current.alternate,m&&!ux(r)){d=Uf(t,a,!1),m=!1;continue}if(d===2){if(m=a,t.errorRecoveryDisabledLanes&m)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){a=b;e:{var T=t;d=Ro;var k=T.current.memoizedState.isDehydrated;if(k&&(el(T,b).flags|=256),b=Uf(T,b,!1),b!==2){if(Rf&&!k){T.errorRecoveryDisabledLanes|=m,Wi|=m,d=4;break e}m=xn,xn=d,m!==null&&(xn===null?xn=m:xn.push.apply(xn,m))}d=b}if(m=!1,d!==2)continue}}if(d===1){el(t,0),Qs(t,a,0,!0);break}e:{switch(o=t,m=d,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Qs(o,a,$n,!Fs);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(d=Df+300-ve(),10<d)){if(Qs(o,a,$n,!Fs),yr(o,0,!0)!==0)break e;o.timeoutHandle=s_(Rv.bind(null,o,r,xn,Cu,Cf,a,$n,Wi,Wr,Fs,m,2,-0,0),d);break e}Rv(o,r,xn,Cu,Cf,a,$n,Wi,Wr,Fs,m,0,-0,0)}}break}while(!0);Ra(t)}function Rv(t,a,r,o,d,m,b,T,k,q,W,ee,G,K){if(t.timeoutHandle=-1,ee=a.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(Lo={stylesheets:null,count:0,unsuspend:Gx},xv(a),ee=$x(),ee!==null)){t.cancelPendingCommit=ee(Vv.bind(null,t,a,m,r,o,d,b,T,k,W,1,G,K)),Qs(t,m,b,!q);return}Vv(t,a,m,r,o,d,b,T,k)}function ux(t){for(var a=t;;){var r=a.tag;if((r===0||r===11||r===15)&&a.flags&16384&&(r=a.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var d=r[o],m=d.getSnapshot;d=d.value;try{if(!jn(m(),d))return!1}catch{return!1}}if(r=a.child,a.subtreeFlags&16384&&r!==null)r.return=a,a=r;else{if(a===t)break;for(;a.sibling===null;){if(a.return===null||a.return===t)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qs(t,a,r,o){a&=~If,a&=~Wi,t.suspendedLanes|=a,t.pingedLanes&=~a,o&&(t.warmLanes|=a),o=t.expirationTimes;for(var d=a;0<d;){var m=31-Lt(d),b=1<<m;o[m]=-1,d&=~b}r!==0&&pa(t,r,a)}function Du(){return(st&6)===0?(Co(0),!1):!0}function Vf(){if(Be!==null){if(it===0)var t=Be.return;else t=Be,es=Gi=null,Jd(t),Kr=null,To=0,t=Be;for(;t!==null;)cv(t.alternate,t),t=t.return;Be=null}}function el(t,a){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,jx(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),Vf(),dt=t,Be=r=Wa(t.current,null),$e=a,it=0,Cn=null,Fs=!1,Xr=xi(t,a),Rf=!1,Wr=$n=If=Wi=Gs=Nt=0,xn=Ro=null,Cf=!1,(a&8)!==0&&(a|=a&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=a;0<o;){var d=31-Lt(o),m=1<<d;a|=t[d],o&=~m}return os=a,tu(),r}function Iv(t,a){Pe=null,Q.H=bu,a===fo||a===uu?(a=Qg(),it=3):a===Gg?(a=Qg(),it=4):it=a===Yy?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Cn=a,Be===null&&(Nt=1,wu(t,Hn(a,t.current)))}function Cv(){var t=Q.H;return Q.H=bu,t===null?bu:t}function Dv(){var t=Q.A;return Q.A=ox,t}function Lf(){Nt=4,Fs||($e&4194048)!==$e&&Kn.current!==null||(Xr=!0),(Gs&134217727)===0&&(Wi&134217727)===0||dt===null||Qs(dt,$e,$n,!1)}function Uf(t,a,r){var o=st;st|=2;var d=Cv(),m=Dv();(dt!==t||$e!==a)&&(Cu=null,el(t,a)),a=!1;var b=Nt;e:do try{if(it!==0&&Be!==null){var T=Be,k=Cn;switch(it){case 8:Vf(),b=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var q=it;if(it=0,Cn=null,tl(t,T,k,q),r&&Xr){b=0;break e}break;default:q=it,it=0,Cn=null,tl(t,T,k,q)}}hx(),b=Nt;break}catch(W){Iv(t,W)}while(!0);return a&&t.shellSuspendCounter++,es=Gi=null,st=o,Q.H=d,Q.A=m,Be===null&&(dt=null,$e=0,tu()),b}function hx(){for(;Be!==null;)Mv(Be)}function dx(t,a){var r=st;st|=2;var o=Cv(),d=Dv();dt!==t||$e!==a?(Cu=null,Iu=ve()+500,el(t,a)):Xr=xi(t,a);e:do try{if(it!==0&&Be!==null){a=Be;var m=Cn;t:switch(it){case 1:it=0,Cn=null,tl(t,a,m,1);break;case 2:case 9:if(Kg(m)){it=0,Cn=null,Ov(a);break}a=function(){it!==2&&it!==9||dt!==t||(it=7),Ra(t)},m.then(a,a);break e;case 3:it=7;break e;case 4:it=5;break e;case 7:Kg(m)?(it=0,Cn=null,Ov(a)):(it=0,Cn=null,tl(t,a,m,7));break;case 5:var b=null;switch(Be.tag){case 26:b=Be.memoizedState;case 5:case 27:var T=Be;if(!b||g_(b)){it=0,Cn=null;var k=T.sibling;if(k!==null)Be=k;else{var q=T.return;q!==null?(Be=q,Mu(q)):Be=null}break t}}it=0,Cn=null,tl(t,a,m,5);break;case 6:it=0,Cn=null,tl(t,a,m,6);break;case 8:Vf(),Nt=6;break e;default:throw Error(i(462))}}fx();break}catch(W){Iv(t,W)}while(!0);return es=Gi=null,Q.H=o,Q.A=d,st=r,Be!==null?0:(dt=null,$e=0,tu(),Nt)}function fx(){for(;Be!==null&&!X();)Mv(Be)}function Mv(t){var a=lv(t.alternate,t,os);t.memoizedProps=t.pendingProps,a===null?Mu(t):Be=a}function Ov(t){var a=t,r=a.alternate;switch(a.tag){case 15:case 0:a=tv(r,a,a.pendingProps,a.type,void 0,$e);break;case 11:a=tv(r,a,a.pendingProps,a.type.render,a.ref,$e);break;case 5:Jd(a);default:cv(r,a),a=Be=Pg(a,os),a=lv(r,a,os)}t.memoizedProps=t.pendingProps,a===null?Mu(t):Be=a}function tl(t,a,r,o){es=Gi=null,Jd(a),Kr=null,To=0;var d=a.return;try{if(nx(t,d,a,r,$e)){Nt=1,wu(t,Hn(r,t.current)),Be=null;return}}catch(m){if(d!==null)throw Be=d,m;Nt=1,wu(t,Hn(r,t.current)),Be=null;return}a.flags&32768?(tt||o===1?t=!0:Xr||($e&536870912)!==0?t=!1:(Fs=t=!0,(o===2||o===9||o===3||o===6)&&(o=Kn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Pv(a,t)):Mu(a)}function Mu(t){var a=t;do{if((a.flags&32768)!==0){Pv(a,Fs);return}t=a.return;var r=sx(a.alternate,a,os);if(r!==null){Be=r;return}if(a=a.sibling,a!==null){Be=a;return}Be=a=t}while(a!==null);Nt===0&&(Nt=5)}function Pv(t,a){do{var r=ix(t.alternate,t);if(r!==null){r.flags&=32767,Be=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!a&&(t=t.sibling,t!==null)){Be=t;return}Be=t=r}while(t!==null);Nt=6,Be=null}function Vv(t,a,r,o,d,m,b,T,k){t.cancelPendingCommit=null;do Ou();while(en!==0);if((st&6)!==0)throw Error(i(327));if(a!==null){if(a===t.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=jd,Bl(t,r,m,b,T,k),t===dt&&(Be=dt=null,$e=0),Zr=a,$s=t,Jr=r,Mf=m,Of=d,Av=o,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,yx(ge,function(){return Hv(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null,d=le.p,le.p=2,b=st,st|=4;try{rx(t,a,r)}finally{st=b,le.p=d,Q.T=o}}en=1,Lv(),Uv(),zv()}}function Lv(){if(en===1){en=0;var t=$s,a=Zr,r=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null;var o=le.p;le.p=2;var d=st;st|=4;try{bv(a,t);var m=Wf,b=Sg(t.containerInfo),T=m.focusedElem,k=m.selectionRange;if(b!==T&&T&&T.ownerDocument&&wg(T.ownerDocument.documentElement,T)){if(k!==null&&xd(T)){var q=k.start,W=k.end;if(W===void 0&&(W=q),"selectionStart"in T)T.selectionStart=q,T.selectionEnd=Math.min(W,T.value.length);else{var ee=T.ownerDocument||document,G=ee&&ee.defaultView||window;if(G.getSelection){var K=G.getSelection(),ke=T.textContent.length,we=Math.min(k.start,ke),ct=k.end===void 0?we:Math.min(k.end,ke);!K.extend&&we>ct&&(b=ct,ct=we,we=b);var z=Ng(T,we),L=Ng(T,ct);if(z&&L&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==L.node||K.focusOffset!==L.offset)){var H=ee.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),we>ct?(K.addRange(H),K.extend(L.node,L.offset)):(H.setEnd(L.node,L.offset),K.addRange(H))}}}}for(ee=[],K=T;K=K.parentNode;)K.nodeType===1&&ee.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<ee.length;T++){var Z=ee[T];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}$u=!!Xf,Wf=Xf=null}finally{st=d,le.p=o,Q.T=r}}t.current=a,en=2}}function Uv(){if(en===2){en=0;var t=$s,a=Zr,r=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||r){r=Q.T,Q.T=null;var o=le.p;le.p=2;var d=st;st|=4;try{gv(t,a.alternate,a)}finally{st=d,le.p=o,Q.T=r}}en=3}}function zv(){if(en===4||en===3){en=0,he();var t=$s,a=Zr,r=Jr,o=Av;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?en=5:(en=0,Zr=$s=null,Bv(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(Ks=null),vr(r),a=a.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(et,a,void 0,(a.current.flags&128)===128)}catch{}if(o!==null){a=Q.T,d=le.p,le.p=2,Q.T=null;try{for(var m=t.onRecoverableError,b=0;b<o.length;b++){var T=o[b];m(T.value,{componentStack:T.stack})}}finally{Q.T=a,le.p=d}}(Jr&3)!==0&&Ou(),Ra(t),d=t.pendingLanes,(r&4194090)!==0&&(d&42)!==0?t===Pf?Io++:(Io=0,Pf=t):Io=0,Co(0)}}function Bv(t,a){(t.pooledCacheLanes&=a)===0&&(a=t.pooledCache,a!=null&&(t.pooledCache=null,uo(a)))}function Ou(t){return Lv(),Uv(),zv(),Hv()}function Hv(){if(en!==5)return!1;var t=$s,a=Mf;Mf=0;var r=vr(Jr),o=Q.T,d=le.p;try{le.p=32>r?32:r,Q.T=null,r=Of,Of=null;var m=$s,b=Jr;if(en=0,Zr=$s=null,Jr=0,(st&6)!==0)throw Error(i(331));var T=st;if(st|=4,wv(m.current),Tv(m,m.current,b,r),st=T,Co(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(et,m)}catch{}return!0}finally{le.p=d,Q.T=o,Bv(t,a)}}function qv(t,a,r){a=Hn(r,a),a=mf(t.stateNode,a,2),t=Vs(t,a,2),t!==null&&(za(t,2),Ra(t))}function ut(t,a,r){if(t.tag===3)qv(t,t,r);else for(;a!==null;){if(a.tag===3){qv(a,t,r);break}else if(a.tag===1){var o=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ks===null||!Ks.has(o))){t=Hn(r,t),r=$y(2),o=Vs(a,r,2),o!==null&&(Qy(r,o,a,t),za(o,2),Ra(o));break}}a=a.return}}function zf(t,a,r){var o=t.pingCache;if(o===null){o=t.pingCache=new cx;var d=new Set;o.set(a,d)}else d=o.get(a),d===void 0&&(d=new Set,o.set(a,d));d.has(r)||(Rf=!0,d.add(r),t=mx.bind(null,t,a,r),a.then(t,t))}function mx(t,a,r){var o=t.pingCache;o!==null&&o.delete(a),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,dt===t&&($e&r)===r&&(Nt===4||Nt===3&&($e&62914560)===$e&&300>ve()-Df?(st&2)===0&&el(t,0):If|=r,Wr===$e&&(Wr=0)),Ra(t)}function Fv(t,a){a===0&&(a=zl()),t=Pr(t,a),t!==null&&(za(t,a),Ra(t))}function px(t){var a=t.memoizedState,r=0;a!==null&&(r=a.retryLane),Fv(t,r)}function gx(t,a){var r=0;switch(t.tag){case 13:var o=t.stateNode,d=t.memoizedState;d!==null&&(r=d.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(i(314))}o!==null&&o.delete(a),Fv(t,r)}function yx(t,a){return ta(t,a)}var Pu=null,nl=null,Bf=!1,Vu=!1,Hf=!1,Zi=0;function Ra(t){t!==nl&&t.next===null&&(nl===null?Pu=nl=t:nl=nl.next=t),Vu=!0,Bf||(Bf=!0,_x())}function Co(t,a){if(!Hf&&Vu){Hf=!0;do for(var r=!1,o=Pu;o!==null;){if(t!==0){var d=o.pendingLanes;if(d===0)var m=0;else{var b=o.suspendedLanes,T=o.pingedLanes;m=(1<<31-Lt(42|t)+1)-1,m&=d&~(b&~T),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(r=!0,Qv(o,m))}else m=$e,m=yr(o,o===dt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||xi(o,m)||(r=!0,Qv(o,m));o=o.next}while(r);Hf=!1}}function vx(){Gv()}function Gv(){Vu=Bf=!1;var t=0;Zi!==0&&(Ax()&&(t=Zi),Zi=0);for(var a=ve(),r=null,o=Pu;o!==null;){var d=o.next,m=Kv(o,a);m===0?(o.next=null,r===null?Pu=d:r.next=d,d===null&&(nl=r)):(r=o,(t!==0||(m&3)!==0)&&(Vu=!0)),o=d}Co(t)}function Kv(t,a){for(var r=t.suspendedLanes,o=t.pingedLanes,d=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var b=31-Lt(m),T=1<<b,k=d[b];k===-1?((T&r)===0||(T&o)!==0)&&(d[b]=Ll(T,a)):k<=a&&(t.expiredLanes|=T),m&=~T}if(a=dt,r=$e,r=yr(t,t===a?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,r===0||t===a&&(it===2||it===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Sn(o),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||xi(t,r)){if(a=r&-r,a===t.callbackPriority)return a;switch(o!==null&&Sn(o),vr(r)){case 2:case 8:r=Me;break;case 32:r=ge;break;case 268435456:r=mt;break;default:r=ge}return o=$v.bind(null,t),r=ta(r,o),t.callbackPriority=a,t.callbackNode=r,a}return o!==null&&o!==null&&Sn(o),t.callbackPriority=2,t.callbackNode=null,2}function $v(t,a){if(en!==0&&en!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(Ou()&&t.callbackNode!==r)return null;var o=$e;return o=yr(t,t===dt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(kv(t,o,a),Kv(t,ve()),t.callbackNode!=null&&t.callbackNode===r?$v.bind(null,t):null)}function Qv(t,a){if(Ou())return null;kv(t,a,!0)}function _x(){kx(function(){(st&6)!==0?ta(be,vx):Gv()})}function qf(){return Zi===0&&(Zi=Ul()),Zi}function Yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Nr(""+t)}function Xv(t,a){var r=a.ownerDocument.createElement("input");return r.name=a.name,r.value=a.value,t.id&&r.setAttribute("form",t.id),a.parentNode.insertBefore(r,a),t=new FormData(t),r.parentNode.removeChild(r),t}function bx(t,a,r,o,d){if(a==="submit"&&r&&r.stateNode===d){var m=Yv((d[Rt]||null).action),b=o.submitter;b&&(a=(a=b[Rt]||null)?Yv(a.formAction):b.getAttribute("formAction"),a!==null&&(m=a,b=null));var T=new wr("action","action",null,o,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Zi!==0){var k=b?Xv(d,b):new FormData(d);cf(r,{pending:!0,data:k,method:d.method,action:m},null,k)}}else typeof m=="function"&&(T.preventDefault(),k=b?Xv(d,b):new FormData(d),cf(r,{pending:!0,data:k,method:d.method,action:m},m,k))},currentTarget:d}]})}}for(var Ff=0;Ff<Ad.length;Ff++){var Gf=Ad[Ff],Ex=Gf.toLowerCase(),Tx=Gf[0].toUpperCase()+Gf.slice(1);ia(Ex,"on"+Tx)}ia(kg,"onAnimationEnd"),ia(Rg,"onAnimationIteration"),ia(Ig,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(UT,"onTransitionRun"),ia(zT,"onTransitionStart"),ia(BT,"onTransitionCancel"),ia(Cg,"onTransitionEnd"),Ha("onMouseEnter",["mouseout","mouseover"]),Ha("onMouseLeave",["mouseout","mouseover"]),Ha("onPointerEnter",["pointerout","pointerover"]),Ha("onPointerLeave",["pointerout","pointerover"]),aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),aa("onBeforeInput",["compositionend","keypress","textInput","paste"]),aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Do="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Do));function Wv(t,a){a=(a&4)!==0;for(var r=0;r<t.length;r++){var o=t[r],d=o.event;o=o.listeners;e:{var m=void 0;if(a)for(var b=o.length-1;0<=b;b--){var T=o[b],k=T.instance,q=T.currentTarget;if(T=T.listener,k!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=q;try{m(d)}catch(W){Nu(W)}d.currentTarget=null,m=k}else for(b=0;b<o.length;b++){if(T=o[b],k=T.instance,q=T.currentTarget,T=T.listener,k!==m&&d.isPropagationStopped())break e;m=T,d.currentTarget=q;try{m(d)}catch(W){Nu(W)}d.currentTarget=null,m=k}}}}function He(t,a){var r=a[ql];r===void 0&&(r=a[ql]=new Set);var o=t+"__bubble";r.has(o)||(Zv(a,t,2,!1),r.add(o))}function Kf(t,a,r){var o=0;a&&(o|=4),Zv(r,t,o,a)}var Lu="_reactListening"+Math.random().toString(36).slice(2);function $f(t){if(!t[Lu]){t[Lu]=!0,Fl.forEach(function(r){r!=="selectionchange"&&(xx.has(r)||Kf(r,!1,t),Kf(r,!0,t))});var a=t.nodeType===9?t:t.ownerDocument;a===null||a[Lu]||(a[Lu]=!0,Kf("selectionchange",!1,a))}}function Zv(t,a,r,o){switch(T_(a)){case 2:var d=Xx;break;case 8:d=Wx;break;default:d=lm}r=d.bind(null,a,r,t),d=void 0,!zn||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(d=!0),o?d!==void 0?t.addEventListener(a,r,{capture:!0,passive:d}):t.addEventListener(a,r,!0):d!==void 0?t.addEventListener(a,r,{passive:d}):t.addEventListener(a,r,!1)}function Qf(t,a,r,o,d){var m=o;if((a&1)===0&&(a&2)===0&&o!==null)e:for(;;){if(o===null)return;var b=o.tag;if(b===3||b===4){var T=o.stateNode.containerInfo;if(T===d)break;if(b===4)for(b=o.return;b!==null;){var k=b.tag;if((k===3||k===4)&&b.stateNode.containerInfo===d)return;b=b.return}for(;T!==null;){if(b=Ba(T),b===null)return;if(k=b.tag,k===5||k===6||k===26||k===27){o=m=b;continue e}T=T.parentNode}}o=o.return}zc(function(){var q=m,W=Un(r),ee=[];e:{var G=Dg.get(t);if(G!==void 0){var K=wr,ke=t;switch(t){case"keypress":if(Ea(r)===0)break e;case"keydown":case"keyup":K=Ir;break;case"focusin":ke="focus",K=jr;break;case"focusout":ke="blur",K=jr;break;case"beforeblur":case"afterblur":K=jr;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=_d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Qc;break;case kg:case Rg:case Ig:K=kr;break;case Cg:K=Xc;break;case"scroll":case"scrollend":K=Bc;break;case"wheel":K=Cr;break;case"copy":case"cut":case"paste":K=Rr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=no;break;case"toggle":case"beforetoggle":K=Zc}var we=(a&4)!==0,ct=!we&&(t==="scroll"||t==="scrollend"),z=we?G!==null?G+"Capture":null:G;we=[];for(var L=q,H;L!==null;){var Z=L;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=Ii(L,z),Z!=null&&we.push(Mo(L,Z,H))),ct)break;L=L.return}0<we.length&&(G=new K(G,ke,null,r,W),ee.push({event:G,listeners:we}))}}if((a&7)===0){e:{if(G=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",G&&r!==Ga&&(ke=r.relatedTarget||r.fromElement)&&(Ba(ke)||ke[Vn]))break e;if((K||G)&&(G=W.window===W?W:(G=W.ownerDocument)?G.defaultView||G.parentWindow:window,K?(ke=r.relatedTarget||r.toElement,K=q,ke=ke?Ba(ke):null,ke!==null&&(ct=u(ke),we=ke.tag,ke!==ct||we!==5&&we!==27&&we!==6)&&(ke=null)):(K=null,ke=q),K!==ke)){if(we=Bn,Z="onMouseLeave",z="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(we=no,Z="onPointerLeave",z="onPointerEnter",L="pointer"),ct=K==null?G:ya(K),H=ke==null?G:ya(ke),G=new we(Z,L+"leave",K,r,W),G.target=ct,G.relatedTarget=H,Z=null,Ba(W)===q&&(we=new we(z,L+"enter",ke,r,W),we.target=H,we.relatedTarget=ct,Z=we),ct=Z,K&&ke)t:{for(we=K,z=ke,L=0,H=we;H;H=al(H))L++;for(H=0,Z=z;Z;Z=al(Z))H++;for(;0<L-H;)we=al(we),L--;for(;0<H-L;)z=al(z),H--;for(;L--;){if(we===z||z!==null&&we===z.alternate)break t;we=al(we),z=al(z)}we=null}else we=null;K!==null&&Jv(ee,G,K,we,!1),ke!==null&&ct!==null&&Jv(ee,ct,ke,we,!0)}}e:{if(G=q?ya(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var ye=vg;else if(Bt(G))if(_g)ye=PT;else{ye=MT;var Le=DT}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Yl(q.elementType)&&(ye=vg):ye=OT;if(ye&&(ye=ye(t,q))){Xa(ee,ye,r,W);break e}Le&&Le(t,G,q),t==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Cs(G,"number",G.value)}switch(Le=q?ya(q):window,t){case"focusin":(Bt(Le)||Le.contentEditable==="true")&&(Dr=Le,Nd=q,io=null);break;case"focusout":io=Nd=Dr=null;break;case"mousedown":wd=!0;break;case"contextmenu":case"mouseup":case"dragend":wd=!1,Ag(ee,r,W);break;case"selectionchange":if(LT)break;case"keydown":case"keyup":Ag(ee,r,W)}var Te;if(Na)e:{switch(t){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ge?Y(t,r)&&(Ae="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&r.locale!=="ko"&&(Ge||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ge&&(Te=Wl()):(ba=W,Ds="value"in ba?ba.value:ba.textContent,Ge=!0)),Le=Uu(q,Ae),0<Le.length&&(Ae=new eo(Ae,t,null,r,W),ee.push({event:Ae,listeners:Le}),Te?Ae.data=Te:(Te=oe(r),Te!==null&&(Ae.data=Te)))),(Te=v?zt(t,r):Ke(t,r))&&(Ae=Uu(q,"onBeforeInput"),0<Ae.length&&(Le=new eo("onBeforeInput","beforeinput",null,r,W),ee.push({event:Le,listeners:Ae}),Le.data=Te)),bx(ee,t,q,r,W)}Wv(ee,a)})}function Mo(t,a,r){return{instance:t,listener:a,currentTarget:r}}function Uu(t,a){for(var r=a+"Capture",o=[];t!==null;){var d=t,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Ii(t,r),d!=null&&o.unshift(Mo(t,d,m)),d=Ii(t,a),d!=null&&o.push(Mo(t,d,m))),t.tag===3)return o;t=t.return}return[]}function al(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jv(t,a,r,o,d){for(var m=a._reactName,b=[];r!==null&&r!==o;){var T=r,k=T.alternate,q=T.stateNode;if(T=T.tag,k!==null&&k===o)break;T!==5&&T!==26&&T!==27||q===null||(k=q,d?(q=Ii(r,m),q!=null&&b.unshift(Mo(r,q,k))):d||(q=Ii(r,m),q!=null&&b.push(Mo(r,q,k)))),r=r.return}b.length!==0&&t.push({event:a,listeners:b})}var Nx=/\r\n?/g,wx=/\u0000|\uFFFD/g;function e_(t){return(typeof t=="string"?t:""+t).replace(Nx,`
`).replace(wx,"")}function t_(t,a){return a=e_(a),e_(t)===a}function zu(){}function ot(t,a,r,o,d,m){switch(r){case"children":typeof o=="string"?a==="body"||a==="textarea"&&o===""||Ln(t,o):(typeof o=="number"||typeof o=="bigint")&&a!=="body"&&Ln(t,""+o);break;case"className":va(t,"class",o);break;case"tabIndex":va(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":va(t,r,o);break;case"style":Ql(t,o,m);break;case"data":if(a!=="object"){va(t,"data",o);break}case"src":case"href":if(o===""&&(a!=="a"||r!=="href")){t.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Nr(""+o),t.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(r==="formAction"?(a!=="input"&&ot(t,a,"name",d.name,d,null),ot(t,a,"formEncType",d.formEncType,d,null),ot(t,a,"formMethod",d.formMethod,d,null),ot(t,a,"formTarget",d.formTarget,d,null)):(ot(t,a,"encType",d.encType,d,null),ot(t,a,"method",d.method,d,null),ot(t,a,"target",d.target,d,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(r);break}o=Nr(""+o),t.setAttribute(r,o);break;case"onClick":o!=null&&(t.onclick=zu);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}r=Nr(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""+o):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":o===!0?t.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(r,o):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(r,o):t.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(r):t.setAttribute(r,o);break;case"popover":He("beforetoggle",t),He("toggle",t),Is(t,"popover",o);break;case"xlinkActuate":Wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Wt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Wt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Wt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Wt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Is(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=yd.get(r)||r,Is(t,r,o))}}function Yf(t,a,r,o,d,m){switch(r){case"style":Ql(t,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(i(61));if(r=o.__html,r!=null){if(d.children!=null)throw Error(i(60));t.innerHTML=r}}break;case"children":typeof o=="string"?Ln(t,o):(typeof o=="number"||typeof o=="bigint")&&Ln(t,""+o);break;case"onScroll":o!=null&&He("scroll",t);break;case"onScrollEnd":o!=null&&He("scrollend",t);break;case"onClick":o!=null&&(t.onclick=zu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_r.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(d=r.endsWith("Capture"),a=r.slice(2,d?r.length-7:void 0),m=t[Rt]||null,m=m!=null?m[r]:null,typeof m=="function"&&t.removeEventListener(a,m,d),typeof o=="function")){typeof m!="function"&&m!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(a,o,d);break e}r in t?t[r]=o:o===!0?t.setAttribute(r,""):Is(t,r,o)}}}function tn(t,a,r){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",t),He("load",t);var o=!1,d=!1,m;for(m in r)if(r.hasOwnProperty(m)){var b=r[m];if(b!=null)switch(m){case"src":o=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(t,a,m,b,r,null)}}d&&ot(t,a,"srcSet",r.srcSet,r,null),o&&ot(t,a,"src",r.src,r,null);return;case"input":He("invalid",t);var T=m=b=d=null,k=null,q=null;for(o in r)if(r.hasOwnProperty(o)){var W=r[o];if(W!=null)switch(o){case"name":d=W;break;case"type":b=W;break;case"checked":k=W;break;case"defaultChecked":q=W;break;case"value":m=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,a));break;default:ot(t,a,o,W,r,null)}}ji(t,m,T,k,q,b,d,!1),xr(t);return;case"select":He("invalid",t),o=b=m=null;for(d in r)if(r.hasOwnProperty(d)&&(T=r[d],T!=null))switch(d){case"value":m=T;break;case"defaultValue":b=T;break;case"multiple":o=T;default:ot(t,a,d,T,r,null)}a=m,r=b,t.multiple=!!o,a!=null?Fa(t,!!o,a,!1):r!=null&&Fa(t,!!o,r,!0);return;case"textarea":He("invalid",t),m=d=o=null;for(b in r)if(r.hasOwnProperty(b)&&(T=r[b],T!=null))switch(b){case"value":o=T;break;case"defaultValue":d=T;break;case"children":m=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(i(91));break;default:ot(t,a,b,T,r,null)}ki(t,o,d,m),xr(t);return;case"option":for(k in r)if(r.hasOwnProperty(k)&&(o=r[k],o!=null))switch(k){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:ot(t,a,k,o,r,null)}return;case"dialog":He("beforetoggle",t),He("toggle",t),He("cancel",t),He("close",t);break;case"iframe":case"object":He("load",t);break;case"video":case"audio":for(o=0;o<Do.length;o++)He(Do[o],t);break;case"image":He("error",t),He("load",t);break;case"details":He("toggle",t);break;case"embed":case"source":case"link":He("error",t),He("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in r)if(r.hasOwnProperty(q)&&(o=r[q],o!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ot(t,a,q,o,r,null)}return;default:if(Yl(a)){for(W in r)r.hasOwnProperty(W)&&(o=r[W],o!==void 0&&Yf(t,a,W,o,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(o=r[T],o!=null&&ot(t,a,T,o,r,null))}function Sx(t,a,r,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,b=null,T=null,k=null,q=null,W=null;for(K in r){var ee=r[K];if(r.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":k=ee;default:o.hasOwnProperty(K)||ot(t,a,K,null,o,ee)}}for(var G in o){var K=o[G];if(ee=r[G],o.hasOwnProperty(G)&&(K!=null||ee!=null))switch(G){case"type":m=K;break;case"name":d=K;break;case"checked":q=K;break;case"defaultChecked":W=K;break;case"value":b=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:K!==ee&&ot(t,a,G,K,o,ee)}}An(t,b,T,k,q,W,m,d);return;case"select":K=b=T=G=null;for(m in r)if(k=r[m],r.hasOwnProperty(m)&&k!=null)switch(m){case"value":break;case"multiple":K=k;default:o.hasOwnProperty(m)||ot(t,a,m,null,o,k)}for(d in o)if(m=o[d],k=r[d],o.hasOwnProperty(d)&&(m!=null||k!=null))switch(d){case"value":G=m;break;case"defaultValue":T=m;break;case"multiple":b=m;default:m!==k&&ot(t,a,d,m,o,k)}a=T,r=b,o=K,G!=null?Fa(t,!!r,G,!1):!!o!=!!r&&(a!=null?Fa(t,!!r,a,!0):Fa(t,!!r,r?[]:"",!1));return;case"textarea":K=G=null;for(T in r)if(d=r[T],r.hasOwnProperty(T)&&d!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ot(t,a,T,null,o,d)}for(b in o)if(d=o[b],m=r[b],o.hasOwnProperty(b)&&(d!=null||m!=null))switch(b){case"value":G=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==m&&ot(t,a,b,d,o,m)}rt(t,G,K);return;case"option":for(var ke in r)if(G=r[ke],r.hasOwnProperty(ke)&&G!=null&&!o.hasOwnProperty(ke))switch(ke){case"selected":t.selected=!1;break;default:ot(t,a,ke,null,o,G)}for(k in o)if(G=o[k],K=r[k],o.hasOwnProperty(k)&&G!==K&&(G!=null||K!=null))switch(k){case"selected":t.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ot(t,a,k,G,o,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in r)G=r[we],r.hasOwnProperty(we)&&G!=null&&!o.hasOwnProperty(we)&&ot(t,a,we,null,o,G);for(q in o)if(G=o[q],K=r[q],o.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,a));break;default:ot(t,a,q,G,o,K)}return;default:if(Yl(a)){for(var ct in r)G=r[ct],r.hasOwnProperty(ct)&&G!==void 0&&!o.hasOwnProperty(ct)&&Yf(t,a,ct,void 0,o,G);for(W in o)G=o[W],K=r[W],!o.hasOwnProperty(W)||G===K||G===void 0&&K===void 0||Yf(t,a,W,G,o,K);return}}for(var z in r)G=r[z],r.hasOwnProperty(z)&&G!=null&&!o.hasOwnProperty(z)&&ot(t,a,z,null,o,G);for(ee in o)G=o[ee],K=r[ee],!o.hasOwnProperty(ee)||G===K||G==null&&K==null||ot(t,a,ee,G,o,K)}var Xf=null,Wf=null;function Bu(t){return t.nodeType===9?t:t.ownerDocument}function n_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(t,a){if(t===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&a==="foreignObject"?0:t}function Zf(t,a){return t==="textarea"||t==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jf=null;function Ax(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var s_=typeof setTimeout=="function"?setTimeout:void 0,jx=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(t){return i_.resolve(null).then(t).catch(Rx)}:s_;function Rx(t){setTimeout(function(){throw t})}function Ys(t){return t==="head"}function r_(t,a){var r=a,o=0,d=0;do{var m=r.nextSibling;if(t.removeChild(r),m&&m.nodeType===8)if(r=m.data,r==="/$"){if(0<o&&8>o){r=o;var b=t.ownerDocument;if(r&1&&Oo(b.documentElement),r&2&&Oo(b.body),r&4)for(r=b.head,Oo(r),b=r.firstChild;b;){var T=b.nextSibling,k=b.nodeName;b[Ni]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&b.rel.toLowerCase()==="stylesheet"||r.removeChild(b),b=T}}if(d===0){t.removeChild(m),qo(a);return}d--}else r==="$"||r==="$?"||r==="$!"?d++:o=r.charCodeAt(0)-48;else o=0;r=m}while(r);qo(a)}function em(t){var a=t.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var r=a;switch(a=a.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":em(r),Rs(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Ix(t,a,r,o){for(;t.nodeType===1;){var d=r;if(t.nodeName.toLowerCase()!==a.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Ni])switch(a){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(a==="input"&&t.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=la(t.nextSibling),t===null)break}return null}function Cx(t,a,r){if(a==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=la(t.nextSibling),t===null))return null;return t}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Dx(t,a){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")a();else{var o=function(){a(),r.removeEventListener("DOMContentLoaded",o)};r.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function la(t){for(;t!=null;t=t.nextSibling){var a=t.nodeType;if(a===1||a===3)break;if(a===8){if(a=t.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return t}var nm=null;function l_(t){t=t.previousSibling;for(var a=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(a===0)return t;a--}else r==="/$"&&a++}t=t.previousSibling}return null}function o_(t,a,r){switch(a=Bu(r),t){case"html":if(t=a.documentElement,!t)throw Error(i(452));return t;case"head":if(t=a.head,!t)throw Error(i(453));return t;case"body":if(t=a.body,!t)throw Error(i(454));return t;default:throw Error(i(451))}}function Oo(t){for(var a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Rs(t)}var Qn=new Map,c_=new Set;function Hu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var cs=le.d;le.d={f:Mx,r:Ox,D:Px,C:Vx,L:Lx,m:Ux,X:Bx,S:zx,M:Hx};function Mx(){var t=cs.f(),a=Du();return t||a}function Ox(t){var a=ga(t);a!==null&&a.tag===5&&a.type==="form"?ky(a):cs.r(t)}var sl=typeof document>"u"?null:document;function u_(t,a,r){var o=sl;if(o&&typeof a=="string"&&a){var d=It(a);d='link[rel="'+t+'"][href="'+d+'"]',typeof r=="string"&&(d+='[crossorigin="'+r+'"]'),c_.has(d)||(c_.add(d),t={rel:t,crossOrigin:r,href:a},o.querySelector(d)===null&&(a=o.createElement("link"),tn(a,"link",t),St(a),o.head.appendChild(a)))}}function Px(t){cs.D(t),u_("dns-prefetch",t,null)}function Vx(t,a){cs.C(t,a),u_("preconnect",t,a)}function Lx(t,a,r){cs.L(t,a,r);var o=sl;if(o&&t&&a){var d='link[rel="preload"][as="'+It(a)+'"]';a==="image"&&r&&r.imageSrcSet?(d+='[imagesrcset="'+It(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(d+='[imagesizes="'+It(r.imageSizes)+'"]')):d+='[href="'+It(t)+'"]';var m=d;switch(a){case"style":m=il(t);break;case"script":m=rl(t)}Qn.has(m)||(t=E({rel:"preload",href:a==="image"&&r&&r.imageSrcSet?void 0:t,as:a},r),Qn.set(m,t),o.querySelector(d)!==null||a==="style"&&o.querySelector(Po(m))||a==="script"&&o.querySelector(Vo(m))||(a=o.createElement("link"),tn(a,"link",t),St(a),o.head.appendChild(a)))}}function Ux(t,a){cs.m(t,a);var r=sl;if(r&&t){var o=a&&typeof a.as=="string"?a.as:"script",d='link[rel="modulepreload"][as="'+It(o)+'"][href="'+It(t)+'"]',m=d;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=rl(t)}if(!Qn.has(m)&&(t=E({rel:"modulepreload",href:t},a),Qn.set(m,t),r.querySelector(d)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Vo(m)))return}o=r.createElement("link"),tn(o,"link",t),St(o),r.head.appendChild(o)}}}function zx(t,a,r){cs.S(t,a,r);var o=sl;if(o&&t){var d=mn(o).hoistableStyles,m=il(t);a=a||"default";var b=d.get(m);if(!b){var T={loading:0,preload:null};if(b=o.querySelector(Po(m)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":a},r),(r=Qn.get(m))&&am(t,r);var k=b=o.createElement("link");St(k),tn(k,"link",t),k._p=new Promise(function(q,W){k.onload=q,k.onerror=W}),k.addEventListener("load",function(){T.loading|=1}),k.addEventListener("error",function(){T.loading|=2}),T.loading|=4,qu(b,a,o)}b={type:"stylesheet",instance:b,count:1,state:T},d.set(m,b)}}}function Bx(t,a){cs.X(t,a);var r=sl;if(r&&t){var o=mn(r).hoistableScripts,d=rl(t),m=o.get(d);m||(m=r.querySelector(Vo(d)),m||(t=E({src:t,async:!0},a),(a=Qn.get(d))&&sm(t,a),m=r.createElement("script"),St(m),tn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function Hx(t,a){cs.M(t,a);var r=sl;if(r&&t){var o=mn(r).hoistableScripts,d=rl(t),m=o.get(d);m||(m=r.querySelector(Vo(d)),m||(t=E({src:t,async:!0,type:"module"},a),(a=Qn.get(d))&&sm(t,a),m=r.createElement("script"),St(m),tn(m,"link",t),r.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(d,m))}}function h_(t,a,r,o){var d=(d=Se.current)?Hu(d):null;if(!d)throw Error(i(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(a=il(r.href),r=mn(d).hoistableStyles,o=r.get(a),o||(o={type:"style",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=il(r.href);var m=mn(d).hoistableStyles,b=m.get(t);if(b||(d=d.ownerDocument||d,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,b),(m=d.querySelector(Po(t)))&&!m._p&&(b.instance=m,b.state.loading=5),Qn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(t,r),m||qx(d,t,r,b.state))),a&&o===null)throw Error(i(528,""));return b}if(a&&o!==null)throw Error(i(529,""));return null;case"script":return a=r.async,r=r.src,typeof r=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=rl(r),r=mn(d).hoistableScripts,o=r.get(a),o||(o={type:"script",instance:null,count:0,state:null},r.set(a,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,t))}}function il(t){return'href="'+It(t)+'"'}function Po(t){return'link[rel="stylesheet"]['+t+"]"}function d_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function qx(t,a,r,o){t.querySelector('link[rel="preload"][as="style"]['+a+"]")?o.loading=1:(a=t.createElement("link"),o.preload=a,a.addEventListener("load",function(){return o.loading|=1}),a.addEventListener("error",function(){return o.loading|=2}),tn(a,"link",r),St(a),t.head.appendChild(a))}function rl(t){return'[src="'+It(t)+'"]'}function Vo(t){return"script[async]"+t}function f_(t,a,r){if(a.count++,a.instance===null)switch(a.type){case"style":var o=t.querySelector('style[data-href~="'+It(r.href)+'"]');if(o)return a.instance=o,St(o),o;var d=E({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),St(o),tn(o,"style",d),qu(o,r.precedence,t),a.instance=o;case"stylesheet":d=il(r.href);var m=t.querySelector(Po(d));if(m)return a.state.loading|=4,a.instance=m,St(m),m;o=d_(r),(d=Qn.get(d))&&am(o,d),m=(t.ownerDocument||t).createElement("link"),St(m);var b=m;return b._p=new Promise(function(T,k){b.onload=T,b.onerror=k}),tn(m,"link",o),a.state.loading|=4,qu(m,r.precedence,t),a.instance=m;case"script":return m=rl(r.src),(d=t.querySelector(Vo(m)))?(a.instance=d,St(d),d):(o=r,(d=Qn.get(m))&&(o=E({},r),sm(o,d)),t=t.ownerDocument||t,d=t.createElement("script"),St(d),tn(d,"link",o),t.head.appendChild(d),a.instance=d);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(o=a.instance,a.state.loading|=4,qu(o,r.precedence,t));return a.instance}function qu(t,a,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=o.length?o[o.length-1]:null,m=d,b=0;b<o.length;b++){var T=o[b];if(T.dataset.precedence===a)m=T;else if(m!==d)break}m?m.parentNode.insertBefore(t,m.nextSibling):(a=r.nodeType===9?r.head:r,a.insertBefore(t,a.firstChild))}function am(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.title==null&&(t.title=a.title)}function sm(t,a){t.crossOrigin==null&&(t.crossOrigin=a.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=a.referrerPolicy),t.integrity==null&&(t.integrity=a.integrity)}var Fu=null;function m_(t,a,r){if(Fu===null){var o=new Map,d=Fu=new Map;d.set(r,o)}else d=Fu,o=d.get(r),o||(o=new Map,d.set(r,o));if(o.has(t))return o;for(o.set(t,null),r=r.getElementsByTagName(t),d=0;d<r.length;d++){var m=r[d];if(!(m[Ni]||m[Ut]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var b=m.getAttribute(a)||"";b=t+b;var T=o.get(b);T?T.push(m):o.set(b,[m])}}return o}function p_(t,a,r){t=t.ownerDocument||t,t.head.insertBefore(r,a==="title"?t.querySelector("head > title"):null)}function Fx(t,a,r){if(r===1||a.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return t=a.disabled,typeof a.precedence=="string"&&t==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function g_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Lo=null;function Gx(){}function Kx(t,a,r){if(Lo===null)throw Error(i(475));var o=Lo;if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var d=il(r.href),m=t.querySelector(Po(d));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=Gu.bind(o),t.then(o,o)),a.state.loading|=4,a.instance=m,St(m);return}m=t.ownerDocument||t,r=d_(r),(d=Qn.get(d))&&am(r,d),m=m.createElement("link"),St(m);var b=m;b._p=new Promise(function(T,k){b.onload=T,b.onerror=k}),tn(m,"link",r),a.instance=m}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(o.count++,a=Gu.bind(o),t.addEventListener("load",a),t.addEventListener("error",a))}}function $x(){if(Lo===null)throw Error(i(475));var t=Lo;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(a){var r=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r)}}:null}function Gu(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Ku=null;function im(t,a){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Ku=new Map,a.forEach(Qx,t),Ku=null,Gu.call(t))}function Qx(t,a){if(!(a.state.loading&4)){var r=Ku.get(t);if(r)var o=r.get(null);else{r=new Map,Ku.set(t,r);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var b=d[m];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(r.set(b.dataset.precedence,b),o=b)}o&&r.set(null,o)}d=a.instance,b=d.getAttribute("data-precedence"),m=r.get(b)||o,m===o&&r.set(null,d),r.set(b,d),this.count++,o=Gu.bind(this),d.addEventListener("load",o),d.addEventListener("error",o),m?m.parentNode.insertBefore(d,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),a.state.loading|=4}}var Uo={$$typeof:J,Provider:null,Consumer:null,_currentValue:_e,_currentValue2:_e,_threadCount:0};function Yx(t,a,r,o,d,m,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ua(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.hiddenUpdates=Ua(null),this.identifierPrefix=o,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function y_(t,a,r,o,d,m,b,T,k,q,W,ee){return t=new Yx(t,a,r,b,T,k,q,ee),a=1,m===!0&&(a|=24),m=kn(3,null,null,a),t.current=m,m.stateNode=t,a=Ud(),a.refCount++,t.pooledCache=a,a.refCount++,m.memoizedState={element:o,isDehydrated:r,cache:a},qd(m),t}function v_(t){return t?(t=Vr,t):Vr}function __(t,a,r,o,d,m){d=v_(d),o.context===null?o.context=d:o.pendingContext=d,o=Ps(a),o.payload={element:r},m=m===void 0?null:m,m!==null&&(o.callback=m),r=Vs(t,o,a),r!==null&&(Mn(r,t,a),po(r,t,a))}function b_(t,a){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<a?r:a}}function rm(t,a){b_(t,a),(t=t.alternate)&&b_(t,a)}function E_(t){if(t.tag===13){var a=Pr(t,67108864);a!==null&&Mn(a,t,67108864),rm(t,67108864)}}var $u=!0;function Xx(t,a,r,o){var d=Q.T;Q.T=null;var m=le.p;try{le.p=2,lm(t,a,r,o)}finally{le.p=m,Q.T=d}}function Wx(t,a,r,o){var d=Q.T;Q.T=null;var m=le.p;try{le.p=8,lm(t,a,r,o)}finally{le.p=m,Q.T=d}}function lm(t,a,r,o){if($u){var d=om(o);if(d===null)Qf(t,a,o,Qu,r),x_(t,o);else if(Jx(d,t,a,r,o))o.stopPropagation();else if(x_(t,o),a&4&&-1<Zx.indexOf(t)){for(;d!==null;){var m=ga(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var b=na(m.pendingLanes);if(b!==0){var T=m;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var k=1<<31-Lt(b);T.entanglements[1]|=k,b&=~k}Ra(m),(st&6)===0&&(Iu=ve()+500,Co(0))}}break;case 13:T=Pr(m,2),T!==null&&Mn(T,m,2),Du(),rm(m,2)}if(m=om(o),m===null&&Qf(t,a,o,Qu,r),m===d)break;d=m}d!==null&&o.stopPropagation()}else Qf(t,a,o,null,r)}}function om(t){return t=Un(t),cm(t)}var Qu=null;function cm(t){if(Qu=null,t=Ba(t),t!==null){var a=u(t);if(a===null)t=null;else{var r=a.tag;if(r===13){if(t=f(a),t!==null)return t;t=null}else if(r===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;t=null}else a!==t&&(t=null)}}return Qu=t,null}function T_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(se()){case be:return 2;case Me:return 8;case ge:case Je:return 32;case mt:return 268435456;default:return 32}default:return 32}}var um=!1,Xs=null,Ws=null,Zs=null,zo=new Map,Bo=new Map,Js=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function x_(t,a){switch(t){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":zo.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(a.pointerId)}}function Ho(t,a,r,o,d,m){return t===null||t.nativeEvent!==m?(t={blockedOn:a,domEventName:r,eventSystemFlags:o,nativeEvent:m,targetContainers:[d]},a!==null&&(a=ga(a),a!==null&&E_(a)),t):(t.eventSystemFlags|=o,a=t.targetContainers,d!==null&&a.indexOf(d)===-1&&a.push(d),t)}function Jx(t,a,r,o,d){switch(a){case"focusin":return Xs=Ho(Xs,t,a,r,o,d),!0;case"dragenter":return Ws=Ho(Ws,t,a,r,o,d),!0;case"mouseover":return Zs=Ho(Zs,t,a,r,o,d),!0;case"pointerover":var m=d.pointerId;return zo.set(m,Ho(zo.get(m)||null,t,a,r,o,d)),!0;case"gotpointercapture":return m=d.pointerId,Bo.set(m,Ho(Bo.get(m)||null,t,a,r,o,d)),!0}return!1}function N_(t){var a=Ba(t.target);if(a!==null){var r=u(a);if(r!==null){if(a=r.tag,a===13){if(a=f(r),a!==null){t.blockedOn=a,Dc(t.priority,function(){if(r.tag===13){var o=Dn();o=As(o);var d=Pr(r,o);d!==null&&Mn(d,r,o),rm(r,o)}});return}}else if(a===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Yu(t){if(t.blockedOn!==null)return!1;for(var a=t.targetContainers;0<a.length;){var r=om(t.nativeEvent);if(r===null){r=t.nativeEvent;var o=new r.constructor(r.type,r);Ga=o,r.target.dispatchEvent(o),Ga=null}else return a=ga(r),a!==null&&E_(a),t.blockedOn=r,!1;a.shift()}return!0}function w_(t,a,r){Yu(t)&&r.delete(a)}function eN(){um=!1,Xs!==null&&Yu(Xs)&&(Xs=null),Ws!==null&&Yu(Ws)&&(Ws=null),Zs!==null&&Yu(Zs)&&(Zs=null),zo.forEach(w_),Bo.forEach(w_)}function Xu(t,a){t.blockedOn===a&&(t.blockedOn=null,um||(um=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,eN)))}var Wu=null;function S_(t){Wu!==t&&(Wu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Wu===t&&(Wu=null);for(var a=0;a<t.length;a+=3){var r=t[a],o=t[a+1],d=t[a+2];if(typeof o!="function"){if(cm(o||r)===null)continue;break}var m=ga(r);m!==null&&(t.splice(a,3),a-=3,cf(m,{pending:!0,data:d,method:r.method,action:o},o,d))}}))}function qo(t){function a(k){return Xu(k,t)}Xs!==null&&Xu(Xs,t),Ws!==null&&Xu(Ws,t),Zs!==null&&Xu(Zs,t),zo.forEach(a),Bo.forEach(a);for(var r=0;r<Js.length;r++){var o=Js[r];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)N_(r),r.blockedOn===null&&Js.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var d=r[o],m=r[o+1],b=d[Rt]||null;if(typeof m=="function")b||S_(r);else if(b){var T=null;if(m&&m.hasAttribute("formAction")){if(d=m,b=m[Rt]||null)T=b.formAction;else if(cm(d)!==null)continue}else T=b.action;typeof T=="function"?r[o+1]=T:(r.splice(o,3),o-=3),S_(r)}}}function hm(t){this._internalRoot=t}Zu.prototype.render=hm.prototype.render=function(t){var a=this._internalRoot;if(a===null)throw Error(i(409));var r=a.current,o=Dn();__(r,o,t,a,null,null)},Zu.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var a=t.containerInfo;__(t.current,2,null,t,null,null),Du(),a[Vn]=null}};function Zu(t){this._internalRoot=t}Zu.prototype.unstable_scheduleHydration=function(t){if(t){var a=js();t={blockedOn:null,target:t,priority:a};for(var r=0;r<Js.length&&a!==0&&a<Js[r].priority;r++);Js.splice(r,0,t),r===0&&N_(t)}};var A_=e.version;if(A_!=="19.1.0")throw Error(i(527,A_,"19.1.0"));le.findDOMNode=function(t){var a=t._reactInternals;if(a===void 0)throw typeof t.render=="function"?Error(i(188)):(t=Object.keys(t).join(","),Error(i(268,t)));return t=p(a),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var tN={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{et=Ju.inject(tN),ze=Ju}catch{}}return Go.createRoot=function(t,a){if(!l(t))throw Error(i(299));var r=!1,o="",d=qy,m=Fy,b=Gy,T=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(T=a.unstable_transitionCallbacks)),a=y_(t,1,!1,null,null,r,o,d,m,b,T,null),t[Vn]=a.current,$f(t),new hm(a)},Go.hydrateRoot=function(t,a,r){if(!l(t))throw Error(i(299));var o=!1,d="",m=qy,b=Fy,T=Gy,k=null,q=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(b=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(k=r.unstable_transitionCallbacks),r.formState!==void 0&&(q=r.formState)),a=y_(t,1,!0,a,r??null,o,d,m,b,T,k,q),a.context=v_(null),r=a.current,o=Dn(),o=As(o),d=Ps(o),d.callback=null,Vs(r,d,o),r=o,a.current.lanes=r,za(a,r),Ra(a),t[Vn]=a.current,$f(t),new Zu(a)},Go.version="19.1.0",Go}var V_;function dN(){if(V_)return mm.exports;V_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),mm.exports=hN(),mm.exports}var fN=dN();const mN=S1(fN);var Ko={},L_;function pN(){if(L_)return Ko;L_=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.parse=f,Ko.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function f(w,M){const P=new u,F=w.length;if(F<2)return P;const V=(M==null?void 0:M.decode)||E;let $=0;do{const ie=w.indexOf("=",$);if(ie===-1)break;const J=w.indexOf(";",$),fe=J===-1?F:J;if(ie>fe){$=w.lastIndexOf(";",ie-1)+1;continue}const ue=g(w,$,ie),Ne=p(w,ie,ue),C=w.slice(ue,Ne);if(P[C]===void 0){let A=g(w,ie+1,fe),j=p(w,fe,A);const S=V(w.slice(A,j));P[C]=S}$=fe+1}while($<F);return P}function g(w,M,P){do{const F=w.charCodeAt(M);if(F!==32&&F!==9)return M}while(++M<P);return P}function p(w,M,P){for(;M>P;){const F=w.charCodeAt(--M);if(F!==32&&F!==9)return M+1}return P}function y(w,M,P){const F=(P==null?void 0:P.encode)||encodeURIComponent;if(!s.test(w))throw new TypeError(`argument name is invalid: ${w}`);const V=F(M);if(!e.test(V))throw new TypeError(`argument val is invalid: ${M}`);let $=w+"="+V;if(!P)return $;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);$+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);$+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);$+="; Path="+P.path}if(P.expires){if(!N(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);$+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&($+="; HttpOnly"),P.secure&&($+="; Secure"),P.partitioned&&($+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return $}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function N(w){return l.call(w)==="[object Date]"}return Ko}pN();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U_="popstate";function gN(s={}){function e(l,u){let{pathname:f="/",search:g="",hash:p=""}=hr(l.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),Cm("",{pathname:f,search:g,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(l,u){let f=l.document.querySelector("base"),g="";if(f&&f.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");g=y===-1?p:p.slice(0,y)}return g+"#"+(typeof u=="string"?u:oc(u))}function i(l,u){da(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return vN(e,n,i,s)}function bt(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function da(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yN(){return Math.random().toString(36).substring(2,10)}function z_(s,e){return{usr:s.state,key:s.key,idx:e}}function Cm(s,e,n=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?hr(e):e,state:n,key:e&&e.key||i||yN()}}function oc({pathname:s="/",search:e="",hash:n=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(s+=n.charAt(0)==="#"?n:"#"+n),s}function hr(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substring(n),s=s.substring(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substring(i),s=s.substring(0,i)),s&&(e.pathname=s)}return e}function vN(s,e,n,i={}){let{window:l=document.defaultView,v5Compat:u=!1}=i,f=l.history,g="POP",p=null,y=E();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function E(){return(f.state||{idx:null}).idx}function N(){g="POP";let V=E(),$=V==null?null:V-y;y=V,p&&p({action:g,location:F.location,delta:$})}function w(V,$){g="PUSH";let ie=Cm(F.location,V,$);n&&n(ie,V),y=E()+1;let J=z_(ie,y),fe=F.createHref(ie);try{f.pushState(J,"",fe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;l.location.assign(fe)}u&&p&&p({action:g,location:F.location,delta:1})}function M(V,$){g="REPLACE";let ie=Cm(F.location,V,$);n&&n(ie,V),y=E();let J=z_(ie,y),fe=F.createHref(ie);f.replaceState(J,"",fe),u&&p&&p({action:g,location:F.location,delta:0})}function P(V){let $=l.location.origin!=="null"?l.location.origin:l.location.href,ie=typeof V=="string"?V:oc(V);return ie=ie.replace(/ $/,"%20"),bt($,`No window.location.(origin|href) available to create URL for href: ${ie}`),new URL(ie,$)}let F={get action(){return g},get location(){return s(l,f)},listen(V){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(U_,N),p=V,()=>{l.removeEventListener(U_,N),p=null}},createHref(V){return e(l,V)},createURL:P,encodeLocation(V){let $=P(V);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:w,replace:M,go(V){return f.go(V)}};return F}function A1(s,e,n="/"){return _N(s,e,n,!1)}function _N(s,e,n,i){let l=typeof e=="string"?hr(e):e,u=gs(l.pathname||"/",n);if(u==null)return null;let f=j1(s);bN(f);let g=null;for(let p=0;g==null&&p<f.length;++p){let y=IN(u);g=kN(f[p],y,i)}return g}function j1(s,e=[],n=[],i=""){let l=(u,f,g)=>{let p={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(bt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let y=fs([i,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(bt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),j1(u.children,e,E,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:AN(y,u.index),routesMeta:E})};return s.forEach((u,f)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))l(u,f);else for(let p of k1(u.path))l(u,f,p)}),e}function k1(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let f=k1(i.join("/")),g=[];return g.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&g.push(...f),g.map(p=>s.startsWith("/")&&p===""?"/":p)}function bN(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:jN(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var EN=/^:[\w-]+$/,TN=3,xN=2,NN=1,wN=10,SN=-2,B_=s=>s==="*";function AN(s,e){let n=s.split("/"),i=n.length;return n.some(B_)&&(i+=SN),e&&(i+=xN),n.filter(l=>!B_(l)).reduce((l,u)=>l+(EN.test(u)?TN:u===""?NN:wN),i)}function jN(s,e){return s.length===e.length&&s.slice(0,-1).every((i,l)=>i===e[l])?s[s.length-1]-e[e.length-1]:0}function kN(s,e,n=!1){let{routesMeta:i}=s,l={},u="/",f=[];for(let g=0;g<i.length;++g){let p=i[g],y=g===i.length-1,E=u==="/"?e:e.slice(u.length)||"/",N=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},E),w=p.route;if(!N&&y&&n&&!i[i.length-1].route.index&&(N=bh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!N)return null;Object.assign(l,N.params),f.push({params:l,pathname:fs([u,N.pathname]),pathnameBase:ON(fs([u,N.pathnameBase])),route:w}),N.pathnameBase!=="/"&&(u=fs([u,N.pathnameBase]))}return f}function bh(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=RN(s.path,s.caseSensitive,s.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),g=l.slice(1);return{params:i.reduce((y,{paramName:E,isOptional:N},w)=>{if(E==="*"){let P=g[w]||"";f=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const M=g[w];return N&&!M?y[E]=void 0:y[E]=(M||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:s}}function RN(s,e=!1,n=!0){da(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],l="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,g,p)=>(i.push({paramName:g,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),l+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":s!==""&&s!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),i]}function IN(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return da(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function gs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}function CN(s,e="/"){let{pathname:n,search:i="",hash:l=""}=typeof s=="string"?hr(s):s;return{pathname:n?n.startsWith("/")?n:DN(n,e):e,search:PN(i),hash:VN(l)}}function DN(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function vm(s,e,n,i){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MN(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function R1(s){let e=MN(s);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function I1(s,e,n,i=!1){let l;typeof s=="string"?l=hr(s):(l={...s},bt(!l.pathname||!l.pathname.includes("?"),vm("?","pathname","search",l)),bt(!l.pathname||!l.pathname.includes("#"),vm("#","pathname","hash",l)),bt(!l.search||!l.search.includes("#"),vm("#","search","hash",l)));let u=s===""||l.pathname==="",f=u?"/":l.pathname,g;if(f==null)g=n;else{let N=e.length-1;if(!i&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),N-=1;l.pathname=w.join("/")}g=N>=0?e[N]:"/"}let p=CN(l,g),y=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||E)&&(p.pathname+="/"),p}var fs=s=>s.join("/").replace(/\/\/+/g,"/"),ON=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),PN=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,VN=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function LN(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var C1=["POST","PUT","PATCH","DELETE"];new Set(C1);var UN=["GET",...C1];new Set(UN);var Al=I.createContext(null);Al.displayName="DataRouter";var qh=I.createContext(null);qh.displayName="DataRouterState";var D1=I.createContext({isTransitioning:!1});D1.displayName="ViewTransition";var zN=I.createContext(new Map);zN.displayName="Fetchers";var BN=I.createContext(null);BN.displayName="Await";var Pa=I.createContext(null);Pa.displayName="Navigation";var vc=I.createContext(null);vc.displayName="Location";var xs=I.createContext({outlet:null,matches:[],isDataRoute:!1});xs.displayName="Route";var hp=I.createContext(null);hp.displayName="RouteError";function HN(s,{relative:e}={}){bt(_c(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=I.useContext(Pa),{hash:l,pathname:u,search:f}=bc(s,{relative:e}),g=u;return n!=="/"&&(g=u==="/"?n:fs([n,u])),i.createHref({pathname:g,search:f,hash:l})}function _c(){return I.useContext(vc)!=null}function dr(){return bt(_c(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(vc).location}var M1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O1(s){I.useContext(Pa).static||I.useLayoutEffect(s)}function ma(){let{isDataRoute:s}=I.useContext(xs);return s?tw():qN()}function qN(){bt(_c(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Al),{basename:e,navigator:n}=I.useContext(Pa),{matches:i}=I.useContext(xs),{pathname:l}=dr(),u=JSON.stringify(R1(i)),f=I.useRef(!1);return O1(()=>{f.current=!0}),I.useCallback((p,y={})=>{if(da(f.current,M1),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=I1(p,JSON.parse(u),l,y.relative==="path");s==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:fs([e,E.pathname])),(y.replace?n.replace:n.push)(E,y.state,y)},[e,n,u,l,s])}I.createContext(null);function bc(s,{relative:e}={}){let{matches:n}=I.useContext(xs),{pathname:i}=dr(),l=JSON.stringify(R1(n));return I.useMemo(()=>I1(s,JSON.parse(l),i,e==="path"),[s,l,i,e])}function FN(s,e){return P1(s,e)}function P1(s,e,n,i){var ie;bt(_c(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l,static:u}=I.useContext(Pa),{matches:f}=I.useContext(xs),g=f[f.length-1],p=g?g.params:{},y=g?g.pathname:"/",E=g?g.pathnameBase:"/",N=g&&g.route;{let J=N&&N.path||"";V1(y,!N||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let w=dr(),M;if(e){let J=typeof e=="string"?hr(e):e;bt(E==="/"||((ie=J.pathname)==null?void 0:ie.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${J.pathname}" was given in the \`location\` prop.`),M=J}else M=w;let P=M.pathname||"/",F=P;if(E!=="/"){let J=E.replace(/^\//,"").split("/");F="/"+P.replace(/^\//,"").split("/").slice(J.length).join("/")}let V=!u&&n&&n.matches&&n.matches.length>0?n.matches:A1(s,{pathname:F});da(N||V!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),da(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=YN(V&&V.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:fs([E,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:fs([E,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,i);return e&&$?I.createElement(vc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},$):$}function GN(){let s=ew(),e=LN(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},f=null;return console.error("Error handled by React Router default ErrorBoundary:",s),f=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:u},"ErrorBoundary")," or"," ",I.createElement("code",{style:u},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:l},n):null,f)}var KN=I.createElement(GN,null),$N=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(xs.Provider,{value:this.props.routeContext},I.createElement(hp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QN({routeContext:s,match:e,children:n}){let i=I.useContext(Al);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(xs.Provider,{value:s},n)}function YN(s,e=[],n=null,i=null){if(s==null){if(!n)return null;if(n.errors)s=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let l=s,u=n==null?void 0:n.errors;if(u!=null){let p=l.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);bt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),l=l.slice(0,Math.min(l.length,p+1))}let f=!1,g=-1;if(n)for(let p=0;p<l.length;p++){let y=l[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=p),y.route.id){let{loaderData:E,errors:N}=n,w=y.route.loader&&!E.hasOwnProperty(y.route.id)&&(!N||N[y.route.id]===void 0);if(y.route.lazy||w){f=!0,g>=0?l=l.slice(0,g+1):l=[l[0]];break}}}return l.reduceRight((p,y,E)=>{let N,w=!1,M=null,P=null;n&&(N=u&&y.route.id?u[y.route.id]:void 0,M=y.route.errorElement||KN,f&&(g<0&&E===0?(V1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):g===E&&(w=!0,P=y.route.hydrateFallbackElement||null)));let F=e.concat(l.slice(0,E+1)),V=()=>{let $;return N?$=M:w?$=P:y.route.Component?$=I.createElement(y.route.Component,null):y.route.element?$=y.route.element:$=p,I.createElement(QN,{match:y,routeContext:{outlet:p,matches:F,isDataRoute:n!=null},children:$})};return n&&(y.route.ErrorBoundary||y.route.errorElement||E===0)?I.createElement($N,{location:n.location,revalidation:n.revalidation,component:M,error:N,children:V(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):V()},null)}function dp(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XN(s){let e=I.useContext(Al);return bt(e,dp(s)),e}function WN(s){let e=I.useContext(qh);return bt(e,dp(s)),e}function ZN(s){let e=I.useContext(xs);return bt(e,dp(s)),e}function fp(s){let e=ZN(s),n=e.matches[e.matches.length-1];return bt(n.route.id,`${s} can only be used on routes that contain a unique "id"`),n.route.id}function JN(){return fp("useRouteId")}function ew(){var i;let s=I.useContext(hp),e=WN("useRouteError"),n=fp("useRouteError");return s!==void 0?s:(i=e.errors)==null?void 0:i[n]}function tw(){let{router:s}=XN("useNavigate"),e=fp("useNavigate"),n=I.useRef(!1);return O1(()=>{n.current=!0}),I.useCallback(async(l,u={})=>{da(n.current,M1),n.current&&(typeof l=="number"?s.navigate(l):await s.navigate(l,{fromRouteId:e,...u}))},[s,e])}var H_={};function V1(s,e,n){!e&&!H_[s]&&(H_[s]=!0,da(!1,n))}I.memo(nw);function nw({routes:s,future:e,state:n}){return P1(s,void 0,n,e)}function yt(s){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function aw({basename:s="/",children:e=null,location:n,navigationType:i="POP",navigator:l,static:u=!1}){bt(!_c(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=s.replace(/^\/*/,"/"),g=I.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=hr(n));let{pathname:p="/",search:y="",hash:E="",state:N=null,key:w="default"}=n,M=I.useMemo(()=>{let P=gs(p,f);return P==null?null:{location:{pathname:P,search:y,hash:E,state:N,key:w},navigationType:i}},[f,p,y,E,N,w,i]);return da(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${E}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:I.createElement(Pa.Provider,{value:g},I.createElement(vc.Provider,{children:e,value:M}))}function sw({children:s,location:e}){return FN(Dm(s),e)}function Dm(s,e=[]){let n=[];return I.Children.forEach(s,(i,l)=>{if(!I.isValidElement(i))return;let u=[...e,l];if(i.type===I.Fragment){n.push.apply(n,Dm(i.props.children,u));return}bt(i.type===yt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let f={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(f.children=Dm(i.props.children,u)),n.push(f)}),n}var lh="get",oh="application/x-www-form-urlencoded";function Fh(s){return s!=null&&typeof s.tagName=="string"}function iw(s){return Fh(s)&&s.tagName.toLowerCase()==="button"}function rw(s){return Fh(s)&&s.tagName.toLowerCase()==="form"}function lw(s){return Fh(s)&&s.tagName.toLowerCase()==="input"}function ow(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function cw(s,e){return s.button===0&&(!e||e==="_self")&&!ow(s)}var eh=null;function uw(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var hw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(s){return s!=null&&!hw.has(s)?(da(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):s}function dw(s,e){let n,i,l,u,f;if(rw(s)){let g=s.getAttribute("action");i=g?gs(g,e):null,n=s.getAttribute("method")||lh,l=_m(s.getAttribute("enctype"))||oh,u=new FormData(s)}else if(iw(s)||lw(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=s.getAttribute("formaction")||g.getAttribute("action");if(i=p?gs(p,e):null,n=s.getAttribute("formmethod")||g.getAttribute("method")||lh,l=_m(s.getAttribute("formenctype"))||_m(g.getAttribute("enctype"))||oh,u=new FormData(g,s),!uw()){let{name:y,type:E,value:N}=s;if(E==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,N)}}else{if(Fh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lh,i=null,l=oh,f=s}return u&&l==="text/plain"&&(f=u,u=void 0),{action:i,method:n.toLowerCase(),encType:l,formData:u,body:f}}function mp(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function fw(s,e){if(s.id in e)return e[s.id];try{let n=await import(s.module);return e[s.id]=n,n}catch(n){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function mw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function pw(s,e,n){let i=await Promise.all(s.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await fw(u,n);return f.links?f.links():[]}return[]}));return _w(i.flat(1).filter(mw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function q_(s,e,n,i,l,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,g=(p,y)=>{var E;return n[y].pathname!==p.pathname||((E=n[y].route.path)==null?void 0:E.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||g(p,y)):u==="data"?e.filter((p,y)=>{var N;let E=i.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,y)||g(p,y))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((N=n[0])==null?void 0:N.params)||{},nextUrl:new URL(s,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function gw(s,e,{includeHydrateFallback:n}={}){return yw(s.map(i=>{let l=e.routes[i.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function yw(s){return[...new Set(s)]}function vw(s){let e={},n=Object.keys(s).sort();for(let i of n)e[i]=s[i];return e}function _w(s,e){let n=new Set;return new Set(e),s.reduce((i,l)=>{let u=JSON.stringify(vw(l));return n.has(u)||(n.add(u),i.push({key:u,link:l})),i},[])}function bw(s,e){let n=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return n.pathname==="/"?n.pathname="_root.data":e&&gs(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function L1(){let s=I.useContext(Al);return mp(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Ew(){let s=I.useContext(qh);return mp(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var pp=I.createContext(void 0);pp.displayName="FrameworkContext";function U1(){let s=I.useContext(pp);return mp(s,"You must render this element inside a <HydratedRouter> element"),s}function Tw(s,e){let n=I.useContext(pp),[i,l]=I.useState(!1),[u,f]=I.useState(!1),{onFocus:g,onBlur:p,onMouseEnter:y,onMouseLeave:E,onTouchStart:N}=e,w=I.useRef(null);I.useEffect(()=>{if(s==="render"&&f(!0),s==="viewport"){let F=$=>{$.forEach(ie=>{f(ie.isIntersecting)})},V=new IntersectionObserver(F,{threshold:.5});return w.current&&V.observe(w.current),()=>{V.disconnect()}}},[s]),I.useEffect(()=>{if(i){let F=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(F)}}},[i]);let M=()=>{l(!0)},P=()=>{l(!1),f(!1)};return n?s!=="intent"?[u,w,{}]:[u,w,{onFocus:$o(g,M),onBlur:$o(p,P),onMouseEnter:$o(y,M),onMouseLeave:$o(E,P),onTouchStart:$o(N,M)}]:[!1,w,{}]}function $o(s,e){return n=>{s&&s(n),n.defaultPrevented||e(n)}}function xw({page:s,...e}){let{router:n}=L1(),i=I.useMemo(()=>A1(n.routes,s,n.basename),[n.routes,s,n.basename]);return i?I.createElement(ww,{page:s,matches:i,...e}):null}function Nw(s){let{manifest:e,routeModules:n}=U1(),[i,l]=I.useState([]);return I.useEffect(()=>{let u=!1;return pw(s,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[s,e,n]),i}function ww({page:s,matches:e,...n}){let i=dr(),{manifest:l,routeModules:u}=U1(),{basename:f}=L1(),{loaderData:g,matches:p}=Ew(),y=I.useMemo(()=>q_(s,e,p,l,i,"data"),[s,e,p,l,i]),E=I.useMemo(()=>q_(s,e,p,l,i,"assets"),[s,e,p,l,i]),N=I.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let P=new Set,F=!1;if(e.forEach($=>{var J;let ie=l.routes[$.route.id];!ie||!ie.hasLoader||(!y.some(fe=>fe.route.id===$.route.id)&&$.route.id in g&&((J=u[$.route.id])!=null&&J.shouldRevalidate)||ie.hasClientLoader?F=!0:P.add($.route.id))}),P.size===0)return[];let V=bw(s,f);return F&&P.size>0&&V.searchParams.set("_routes",e.filter($=>P.has($.route.id)).map($=>$.route.id).join(",")),[V.pathname+V.search]},[f,g,i,l,y,e,s,u]),w=I.useMemo(()=>gw(E,l),[E,l]),M=Nw(E);return I.createElement(I.Fragment,null,N.map(P=>I.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),w.map(P=>I.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),M.map(({key:P,link:F})=>I.createElement("link",{key:P,...F})))}function Sw(...s){return e=>{s.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z1&&(window.__reactRouterVersion="7.4.1")}catch{}function Aw({basename:s,children:e,window:n}){let i=I.useRef();i.current==null&&(i.current=gN({window:n,v5Compat:!0}));let l=i.current,[u,f]=I.useState({action:l.action,location:l.location}),g=I.useCallback(p=>{I.startTransition(()=>f(p))},[f]);return I.useLayoutEffect(()=>l.listen(g),[l,g]),I.createElement(aw,{basename:s,children:e,location:u.location,navigationType:u.action,navigator:l})}var B1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hl=I.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:l,reloadDocument:u,replace:f,state:g,target:p,to:y,preventScrollReset:E,viewTransition:N,...w},M){let{basename:P}=I.useContext(Pa),F=typeof y=="string"&&B1.test(y),V,$=!1;if(typeof y=="string"&&F&&(V=y,z1))try{let j=new URL(window.location.href),S=y.startsWith("//")?new URL(j.protocol+y):new URL(y),O=gs(S.pathname,P);S.origin===j.origin&&O!=null?y=O+S.search+S.hash:$=!0}catch{da(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=HN(y,{relative:l}),[J,fe,ue]=Tw(i,w),Ne=Rw(y,{replace:f,state:g,target:p,preventScrollReset:E,relative:l,viewTransition:N});function C(j){e&&e(j),j.defaultPrevented||Ne(j)}let A=I.createElement("a",{...w,...ue,href:V||ie,onClick:$||u?e:C,ref:Sw(M,fe),target:p,"data-discover":!F&&n==="render"?"true":void 0});return J&&!F?I.createElement(I.Fragment,null,A,I.createElement(xw,{page:ie})):A});hl.displayName="Link";var ch=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:l=!1,style:u,to:f,viewTransition:g,children:p,...y},E){let N=bc(f,{relative:y.relative}),w=dr(),M=I.useContext(qh),{navigator:P,basename:F}=I.useContext(Pa),V=M!=null&&Ow(N)&&g===!0,$=P.encodeLocation?P.encodeLocation(N).pathname:N.pathname,ie=w.pathname,J=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&F&&(J=gs(J,F)||J);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ue=ie===$||!l&&ie.startsWith($)&&ie.charAt(fe)==="/",Ne=J!=null&&(J===$||!l&&J.startsWith($)&&J.charAt($.length)==="/"),C={isActive:ue,isPending:Ne,isTransitioning:V},A=ue?e:void 0,j;typeof i=="function"?j=i(C):j=[i,ue?"active":null,Ne?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let S=typeof u=="function"?u(C):u;return I.createElement(hl,{...y,"aria-current":A,className:j,ref:E,style:S,to:f,viewTransition:g},typeof p=="function"?p(C):p)});ch.displayName="NavLink";var jw=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:l,state:u,method:f=lh,action:g,onSubmit:p,relative:y,preventScrollReset:E,viewTransition:N,...w},M)=>{let P=Dw(),F=Mw(g,{relative:y}),V=f.toLowerCase()==="get"?"get":"post",$=typeof g=="string"&&B1.test(g),ie=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let fe=J.nativeEvent.submitter,ue=(fe==null?void 0:fe.getAttribute("formmethod"))||f;P(fe||J.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:l,state:u,relative:y,preventScrollReset:E,viewTransition:N})};return I.createElement("form",{ref:M,method:V,action:F,onSubmit:i?p:ie,...w,"data-discover":!$&&s==="render"?"true":void 0})});jw.displayName="Form";function kw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H1(s){let e=I.useContext(Al);return bt(e,kw(s)),e}function Rw(s,{target:e,replace:n,state:i,preventScrollReset:l,relative:u,viewTransition:f}={}){let g=ma(),p=dr(),y=bc(s,{relative:u});return I.useCallback(E=>{if(cw(E,e)){E.preventDefault();let N=n!==void 0?n:oc(p)===oc(y);g(s,{replace:N,state:i,preventScrollReset:l,relative:u,viewTransition:f})}},[p,g,y,n,i,e,s,l,u,f])}var Iw=0,Cw=()=>`__${String(++Iw)}__`;function Dw(){let{router:s}=H1("useSubmit"),{basename:e}=I.useContext(Pa),n=JN();return I.useCallback(async(i,l={})=>{let{action:u,method:f,encType:g,formData:p,body:y}=dw(i,e);if(l.navigate===!1){let E=l.fetcherKey||Cw();await s.fetch(E,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||g,flushSync:l.flushSync})}else await s.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:y,formMethod:l.method||f,formEncType:l.encType||g,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[s,e,n])}function Mw(s,{relative:e}={}){let{basename:n}=I.useContext(Pa),i=I.useContext(xs);bt(i,"useFormAction must be used inside a RouteContext");let[l]=i.matches.slice(-1),u={...bc(s||".",{relative:e})},f=dr();if(s==null){u.search=f.search;let g=new URLSearchParams(u.search),p=g.getAll("index");if(p.some(E=>E==="")){g.delete("index"),p.filter(N=>N).forEach(N=>g.append("index",N));let E=g.toString();u.search=E?`?${E}`:""}}return(!s||s===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:fs([n,u.pathname])),oc(u)}function Ow(s,e={}){let n=I.useContext(D1);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=H1("useViewTransitionState"),l=bc(s,{relative:e.relative});if(!n.isTransitioning)return!1;let u=gs(n.currentLocation.pathname,i)||n.currentLocation.pathname,f=gs(n.nextLocation.pathname,i)||n.nextLocation.pathname;return bh(l.pathname,f)!=null||bh(l.pathname,u)!=null}new TextEncoder;const Pw=()=>{};var F_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1=function(s){const e=[];let n=0;for(let i=0;i<s.length;i++){let l=s.charCodeAt(i);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&i+1<s.length&&(s.charCodeAt(i+1)&64512)===56320?(l=65536+((l&1023)<<10)+(s.charCodeAt(++i)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Vw=function(s){const e=[];let n=0,i=0;for(;n<s.length;){const l=s[n++];if(l<128)e[i++]=String.fromCharCode(l);else if(l>191&&l<224){const u=s[n++];e[i++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=s[n++],f=s[n++],g=s[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];e[i++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},F1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let l=0;l<s.length;l+=3){const u=s[l],f=l+1<s.length,g=f?s[l+1]:0,p=l+2<s.length,y=p?s[l+2]:0,E=u>>2,N=(u&3)<<4|g>>4;let w=(g&15)<<2|y>>6,M=y&63;p||(M=64,f||(w=64)),i.push(n[E],n[N],n[w],n[M])}return i.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(q1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):Vw(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let l=0;l<s.length;){const u=n[s.charAt(l++)],g=l<s.length?n[s.charAt(l)]:0;++l;const y=l<s.length?n[s.charAt(l)]:64;++l;const N=l<s.length?n[s.charAt(l)]:64;if(++l,u==null||g==null||y==null||N==null)throw new Lw;const w=u<<2|g>>4;if(i.push(w),y!==64){const M=g<<4&240|y>>2;if(i.push(M),N!==64){const P=y<<6&192|N;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Lw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Uw=function(s){const e=q1(s);return F1.encodeByteArray(e,!0)},Eh=function(s){return Uw(s).replace(/\./g,"")},G1=function(s){try{return F1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=()=>zw().__FIREBASE_DEFAULTS__,Hw=()=>{if(typeof process>"u"||typeof F_>"u")return;const s=F_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},qw=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&G1(s[1]);return e&&JSON.parse(e)},Gh=()=>{try{return Pw()||Bw()||Hw()||qw()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},K1=s=>{var e,n;return(n=(e=Gh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[s]},Fw=s=>{const e=K1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},$1=()=>{var s;return(s=Gh())===null||s===void 0?void 0:s.config},Q1=s=>{var e;return(e=Gh())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",l=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $w(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function Qw(){var s;const e=(s=Gh())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xw(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Ww(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zw(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Jw(){return!Qw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((s,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(i);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(i),s(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;e(((u=l.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class Ns extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=nS,Object.setPrototypeOf(this,Ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ec.prototype.create)}}class Ec{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?aS(u,i):"Error",g=`${this.serviceName}: ${f} (${l}).`;return new Ns(l,g,i)}}function aS(s,e){return s.replace(sS,(n,i)=>{const l=e[i];return l!=null?String(l):`<${i}?>`})}const sS=/\{\$([^}]+)}/g;function iS(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function sr(s,e){if(s===e)return!0;const n=Object.keys(s),i=Object.keys(e);for(const l of n){if(!i.includes(l))return!1;const u=s[l],f=e[l];if(G_(u)&&G_(f)){if(!sr(u,f))return!1}else if(u!==f)return!1}for(const l of i)if(!n.includes(l))return!1;return!0}function G_(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tc(s){const e=[];for(const[n,i]of Object.entries(s))Array.isArray(i)?i.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Qo(s){const e={};return s.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[l,u]=i.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Yo(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function rS(s,e){const n=new lS(s,e);return n.subscribe.bind(n)}class lS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let l;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");oS(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:i},l.next===void 0&&(l.next=bm),l.error===void 0&&(l.error=bm),l.complete===void 0&&(l.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oS(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(s){return s&&s._delegate?s._delegate:s}class ir{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ji="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Gw;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&i.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(l)return null;throw u}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:Ji})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});i.resolve(u)}catch{}}}}clearInstance(e=Ji){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ji){return this.instances.has(e)}getOptions(e=Ji){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);i===g&&f.resolve(l)}return l}onInit(e,n){var i;const l=this.normalizeInstanceIdentifier(n),u=(i=this.onInitCallbacks.get(l))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(l,u);const f=this.instances.get(l);return f&&e(f,l),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const l of i)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uS(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ji){return this.component?this.component.multipleInstances?e:Ji:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(s){return s===Ji?void 0:s}function hS(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(qe||(qe={}));const fS={debug:qe.DEBUG,verbose:qe.VERBOSE,info:qe.INFO,warn:qe.WARN,error:qe.ERROR,silent:qe.SILENT},mS=qe.INFO,pS={[qe.DEBUG]:"log",[qe.VERBOSE]:"log",[qe.INFO]:"info",[qe.WARN]:"warn",[qe.ERROR]:"error"},gS=(s,e,...n)=>{if(e<s.logLevel)return;const i=new Date().toISOString(),l=pS[e];if(l)console[l](`[${i}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gp{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,qe.DEBUG,...e),this._logHandler(this,qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,qe.VERBOSE,...e),this._logHandler(this,qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,qe.INFO,...e),this._logHandler(this,qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,qe.WARN,...e),this._logHandler(this,qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,qe.ERROR,...e),this._logHandler(this,qe.ERROR,...e)}}const yS=(s,e)=>e.some(n=>s instanceof n);let K_,$_;function vS(){return K_||(K_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return $_||($_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Y1=new WeakMap,Mm=new WeakMap,X1=new WeakMap,Em=new WeakMap,yp=new WeakMap;function bS(s){const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(ri(s.result)),l()},f=()=>{i(s.error),l()};s.addEventListener("success",u),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&Y1.set(n,s)}).catch(()=>{}),yp.set(e,s),e}function ES(s){if(Mm.has(s))return;const e=new Promise((n,i)=>{const l=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{i(s.error||new DOMException("AbortError","AbortError")),l()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Mm.set(s,e)}let Om={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Mm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||X1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ri(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function TS(s){Om=s(Om)}function xS(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=s.call(Tm(this),e,...n);return X1.set(i,e.sort?e.sort():[e]),ri(i)}:_S().includes(s)?function(...e){return s.apply(Tm(this),e),ri(Y1.get(this))}:function(...e){return ri(s.apply(Tm(this),e))}}function NS(s){return typeof s=="function"?xS(s):(s instanceof IDBTransaction&&ES(s),yS(s,vS())?new Proxy(s,Om):s)}function ri(s){if(s instanceof IDBRequest)return bS(s);if(Em.has(s))return Em.get(s);const e=NS(s);return e!==s&&(Em.set(s,e),yp.set(e,s)),e}const Tm=s=>yp.get(s);function wS(s,e,{blocked:n,upgrade:i,blocking:l,terminated:u}={}){const f=indexedDB.open(s,e),g=ri(f);return i&&f.addEventListener("upgradeneeded",p=>{i(ri(f.result),p.oldVersion,p.newVersion,ri(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const SS=["get","getKey","getAll","getAllKeys","count"],AS=["put","add","delete","clear"],xm=new Map;function Q_(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(xm.get(e))return xm.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,l=AS.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(l||SS.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,l?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(g.shift())),(await Promise.all([y[n](...g),l&&p.done]))[0]};return xm.set(e,u),u}TS(s=>({...s,get:(e,n,i)=>Q_(e,n)||s.get(e,n,i),has:(e,n)=>!!Q_(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kS(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function kS(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",Y_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new gp("@firebase/app"),RS="@firebase/app-compat",IS="@firebase/analytics-compat",CS="@firebase/analytics",DS="@firebase/app-check-compat",MS="@firebase/app-check",OS="@firebase/auth",PS="@firebase/auth-compat",VS="@firebase/database",LS="@firebase/data-connect",US="@firebase/database-compat",zS="@firebase/functions",BS="@firebase/functions-compat",HS="@firebase/installations",qS="@firebase/installations-compat",FS="@firebase/messaging",GS="@firebase/messaging-compat",KS="@firebase/performance",$S="@firebase/performance-compat",QS="@firebase/remote-config",YS="@firebase/remote-config-compat",XS="@firebase/storage",WS="@firebase/storage-compat",ZS="@firebase/firestore",JS="@firebase/vertexai",e2="@firebase/firestore-compat",t2="firebase",n2="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",a2={[Pm]:"fire-core",[RS]:"fire-core-compat",[CS]:"fire-analytics",[IS]:"fire-analytics-compat",[MS]:"fire-app-check",[DS]:"fire-app-check-compat",[OS]:"fire-auth",[PS]:"fire-auth-compat",[VS]:"fire-rtdb",[LS]:"fire-data-connect",[US]:"fire-rtdb-compat",[zS]:"fire-fn",[BS]:"fire-fn-compat",[HS]:"fire-iid",[qS]:"fire-iid-compat",[FS]:"fire-fcm",[GS]:"fire-fcm-compat",[KS]:"fire-perf",[$S]:"fire-perf-compat",[QS]:"fire-rc",[YS]:"fire-rc-compat",[XS]:"fire-gcs",[WS]:"fire-gcs-compat",[ZS]:"fire-fst",[e2]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[t2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,s2=new Map,Lm=new Map;function X_(s,e){try{s.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function yl(s){const e=s.name;if(Lm.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Lm.set(e,s);for(const n of Th.values())X_(n,s);for(const n of s2.values())X_(n,s);return!0}function vp(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Pn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},li=new Ec("app","Firebase",i2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=n2;function W1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Vm,automaticDataCollectionEnabled:!1},e),l=i.name;if(typeof l!="string"||!l)throw li.create("bad-app-name",{appName:String(l)});if(n||(n=$1()),!n)throw li.create("no-options");const u=Th.get(l);if(u){if(sr(n,u.options)&&sr(i,u.config))return u;throw li.create("duplicate-app",{appName:l})}const f=new dS(l);for(const p of Lm.values())f.addComponent(p);const g=new r2(n,i,f);return Th.set(l,g),g}function Z1(s=Vm){const e=Th.get(s);if(!e&&s===Vm&&$1())return W1();if(!e)throw li.create("no-app",{appName:s});return e}function oi(s,e,n){var i;let l=(i=a2[s])!==null&&i!==void 0?i:s;n&&(l+=`-${n}`);const u=l.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const g=[`Unable to register library "${l}" with version "${e}":`];u&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),u&&f&&g.push("and"),f&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(g.join(" "));return}yl(new ir(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="firebase-heartbeat-database",o2=1,cc="firebase-heartbeat-store";let Nm=null;function J1(){return Nm||(Nm=wS(l2,o2,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(s=>{throw li.create("idb-open",{originalErrorMessage:s.message})})),Nm}async function c2(s){try{const n=(await J1()).transaction(cc),i=await n.objectStore(cc).get(eb(s));return await n.done,i}catch(e){if(e instanceof Ns)ys.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function W_(s,e){try{const i=(await J1()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,eb(s)),await i.done}catch(n){if(n instanceof Ns)ys.warn(n.message);else{const i=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(i.message)}}}function eb(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=1024,h2=30;class d2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m2(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Z_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>h2){const f=p2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){ys.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Z_(),{heartbeatsToSend:i,unsentEntries:l}=f2(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ys.warn(n),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function f2(s,e=u2){const n=[];let i=s.slice();for(const l of s){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),J_(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),J_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class m2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await c2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const l=await this.read();return W_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function J_(s){return Eh(JSON.stringify({version:2,heartbeats:s})).length}function p2(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let i=1;i<s.length;i++)s[i].date<n&&(n=s[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(s){yl(new ir("platform-logger",e=>new jS(e),"PRIVATE")),yl(new ir("heartbeat",e=>new d2(e),"PRIVATE")),oi(Pm,Y_,s),oi(Pm,Y_,"esm2017"),oi("fire-js","")}g2("");function _p(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(s);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(s,i[l])&&(n[i[l]]=s[i[l]]);return n}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const y2=tb,nb=new Ec("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh=new gp("@firebase/auth");function v2(s,...e){xh.logLevel<=qe.WARN&&xh.warn(`Auth (${jl}): ${s}`,...e)}function uh(s,...e){xh.logLevel<=qe.ERROR&&xh.error(`Auth (${jl}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(s,...e){throw Ep(s,...e)}function ua(s,...e){return Ep(s,...e)}function bp(s,e,n){const i=Object.assign(Object.assign({},y2()),{[e]:n});return new Ec("auth","Firebase",i).create(e,{appName:s.name})}function ms(s){return bp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _2(s,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zn(s,"argument-error"),bp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ep(s,...e){if(typeof s!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=s.name),s._errorFactory.create(n,...i)}return nb.create(s,...e)}function je(s,e,...n){if(!s)throw Ep(e,...n)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw uh(e),new Error(e)}function vs(s,e){s||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function b2(){return e0()==="http:"||e0()==="https:"}function e0(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(b2()||Xw()||"connection"in navigator)?navigator.onLine:!0}function T2(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vs(n>e,"Short delay should be less than long delay!"),this.isMobile=$w()||Ww()}get(){return E2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(s,e){vs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],w2=new xc(3e4,6e4);function bi(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function ws(s,e,n,i,l={}){return sb(s,l,async()=>{let u={},f={};i&&(e==="GET"?f=i:u={body:JSON.stringify(i)});const g=Tc(Object.assign({key:s.config.apiKey},f)).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:p},u);return Yw()||(y.referrerPolicy="no-referrer"),ab.fetch()(await ib(s,s.config.apiHost,n,g),y)})}async function sb(s,e,n){s._canInitEmulator=!1;const i=Object.assign(Object.assign({},x2),e);try{const l=new A2(s),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw th(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,y]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw th(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw th(s,"user-disabled",f);const E=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bp(s,E,y);Zn(s,E)}}catch(l){if(l instanceof Ns)throw l;Zn(s,"network-request-failed",{message:String(l)})}}async function Nc(s,e,n,i,l={}){const u=await ws(s,e,n,i,l);return"mfaPendingCredential"in u&&Zn(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function ib(s,e,n,i){const l=`${e}${n}?${i}`,u=s,f=u.config.emulator?Tp(s.config,l):`${s.config.apiScheme}://${l}`;return N2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function S2(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class A2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ua(this.auth,"network-request-failed")),w2.get())})}}function th(s,e,n){const i={appName:s.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const l=ua(s,e,i);return l.customData._tokenResponse=n,l}function t0(s){return s!==void 0&&s.enterprise!==void 0}class j2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function k2(s,e){return ws(s,"GET","/v2/recaptchaConfig",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R2(s,e){return ws(s,"POST","/v1/accounts:delete",e)}async function Nh(s,e){return ws(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function I2(s,e=!1){const n=fn(s),i=await n.getIdToken(e),l=xp(i);je(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:l,token:i,authTime:ec(wm(l.auth_time)),issuedAtTime:ec(wm(l.iat)),expirationTime:ec(wm(l.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(s){return Number(s)*1e3}function xp(s){const[e,n,i]=s.split(".");if(e===void 0||n===void 0||i===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const l=G1(n);return l?JSON.parse(l):(uh("Failed to decode base64 JWT payload"),null)}catch(l){return uh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function n0(s){const e=xp(s);return je(e,"internal-error"),je(typeof e.exp<"u","internal-error"),je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vl(s,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof Ns&&C2(i)&&s.auth.currentUser===s&&await s.auth.signOut(),i}}function C2({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const l=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(s){var e;const n=s.auth,i=await s.getIdToken(),l=await vl(s,Nh(n,{idToken:i}));je(l==null?void 0:l.users.length,n,"internal-error");const u=l.users[0];s._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?rb(u.providerUserInfo):[],g=O2(s.providerData,f),p=s.isAnonymous,y=!(s.email&&u.passwordHash)&&!(g!=null&&g.length),E=p?y:!1,N={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:g,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(s,N)}async function M2(s){const e=fn(s);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function O2(s,e){return[...s.filter(i=>!e.some(l=>l.providerId===i.providerId)),...e]}function rb(s){return s.map(e=>{var{providerId:n}=e,i=_p(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P2(s,e){const n=await sb(s,{},async()=>{const i=Tc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=s.config,f=await ib(s,l,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",ab.fetch()(f,{method:"POST",headers:g,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function V2(s,e){return ws(s,"POST","/v2/accounts:revokeToken",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){je(e.idToken,"internal-error"),je(typeof e.idToken<"u","internal-error"),je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){je(e.length!==0,"internal-error");const n=n0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(je(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:l,expiresIn:u}=await P2(e,n);this.updateTokensAndExpiration(i,l,Number(u))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:l,expirationTime:u}=n,f=new dl;return i&&(je(typeof i=="string","internal-error",{appName:e}),f.refreshToken=i),l&&(je(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(je(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(s,e){je(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class oa{constructor(e){var{uid:n,auth:i,stsTokenManager:l}=e,u=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new D2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await vl(this,this.stsTokenManager.getToken(this.auth,e));return je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return I2(this,e)}reload(){return M2(this)}_assign(e){this!==e&&(je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await wh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(ms(this.auth));const e=await this.getIdToken();return await vl(this,R2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,l,u,f,g,p,y,E;const N=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(l=n.email)!==null&&l!==void 0?l:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,F=(g=n.tenantId)!==null&&g!==void 0?g:void 0,V=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ie=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:J,emailVerified:fe,isAnonymous:ue,providerData:Ne,stsTokenManager:C}=n;je(J&&C,e,"internal-error");const A=dl.fromJSON(this.name,C);je(typeof J=="string",e,"internal-error"),ti(N,e.name),ti(w,e.name),je(typeof fe=="boolean",e,"internal-error"),je(typeof ue=="boolean",e,"internal-error"),ti(M,e.name),ti(P,e.name),ti(F,e.name),ti(V,e.name),ti($,e.name),ti(ie,e.name);const j=new oa({uid:J,auth:e,email:w,emailVerified:fe,displayName:N,isAnonymous:ue,photoURL:P,phoneNumber:M,tenantId:F,stsTokenManager:A,createdAt:$,lastLoginAt:ie});return Ne&&Array.isArray(Ne)&&(j.providerData=Ne.map(S=>Object.assign({},S))),V&&(j._redirectEventId=V),j}static async _fromIdTokenResponse(e,n,i=!1){const l=new dl;l.updateFromServerResponse(n);const u=new oa({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:i});return await wh(u),u}static async _fromGetAccountInfoResponse(e,n,i){const l=n.users[0];je(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?rb(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),g=new dl;g.updateFromIdToken(i);const p=new oa({uid:l.localId,auth:e,stsTokenManager:g,isAnonymous:f}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=new Map;function ds(s){vs(s instanceof Function,"Expected a class definition");let e=a0.get(s);return e?(vs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,a0.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lb.type="NONE";const s0=lb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(s,e,n){return`firebase:${s}:${e}:${n}`}class fl{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:l,name:u}=this.auth;this.fullUserKey=hh(this.userKey,l.apiKey,u),this.fullPersistenceKey=hh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Nh(this.auth,{idToken:e}).catch(()=>{});return n?oa._fromGetAccountInfoResponse(this.auth,n,e):null}return oa._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new fl(ds(s0),e,i);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ds(s0);const f=hh(i,e.config.apiKey,e.name);let g=null;for(const y of n)try{const E=await y._get(f);if(E){let N;if(typeof E=="string"){const w=await Nh(e,{idToken:E}).catch(()=>{});if(!w)break;N=await oa._fromGetAccountInfoResponse(e,w,E)}else N=oa._fromJSON(e,E);y!==u&&(g=N),u=y;break}}catch{}const p=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fl(u,e,i):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new fl(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ob(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fb(e))return"Blackberry";if(mb(e))return"Webos";if(cb(e))return"Safari";if((e.includes("chrome/")||ub(e))&&!e.includes("edge/"))return"Chrome";if(db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=s.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function ob(s=dn()){return/firefox\//i.test(s)}function cb(s=dn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ub(s=dn()){return/crios\//i.test(s)}function hb(s=dn()){return/iemobile/i.test(s)}function db(s=dn()){return/android/i.test(s)}function fb(s=dn()){return/blackberry/i.test(s)}function mb(s=dn()){return/webos/i.test(s)}function Np(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function L2(s=dn()){var e;return Np(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function U2(){return Zw()&&document.documentMode===10}function pb(s=dn()){return Np(s)||db(s)||mb(s)||fb(s)||/windows phone/i.test(s)||hb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s,e=[]){let n;switch(s){case"Browser":n=i0(dn());break;case"Worker":n=`${i0(dn())}-${s}`;break;default:n=s}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=u=>new Promise((f,g)=>{try{const p=e(u);f(p)}catch(p){g(p)}});i.onAbort=n,this.queue.push(i);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B2(s,e={}){return ws(s,"GET","/v2/passwordPolicy",bi(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=6;class q2{constructor(e){var n,i,l,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:H2,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,l,u,f,g;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(l=p.containsLowercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(g=p.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),p}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let l=0;l<e.length;l++)i=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n,i,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new z2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{var i,l,u;if(!this._deleted&&(this.persistenceManager=await fl.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nh(this,{idToken:e}),i=await oa._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let l=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,g=l==null?void 0:l._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===g)&&(p!=null&&p.user)&&(l=p.user,u=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(l)}catch(f){l=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=T2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(ms(this));const n=e?fn(e):null;return n&&je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await B2(this),n=new q2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ec("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await V2(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;je(n,this,"argument-error"),this.redirectPersistenceManager=await fl.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(je(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,i,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const l=await this._getAppCheckToken();return l&&(n["X-Firebase-AppCheck"]=l),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&v2(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ei(s){return fn(s)}class r0{constructor(e){this.auth=e,this.observer=null,this.addObserver=rS(n=>this.observer=n)}get next(){return je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function G2(s){Kh=s}function yb(s){return Kh.loadJS(s)}function K2(){return Kh.recaptchaEnterpriseScript}function $2(){return Kh.gapiScript}function Q2(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class Y2{constructor(){this.enterprise=new X2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const W2="recaptcha-enterprise",vb="NO_RECAPTCHA";class Z2{constructor(e){this.type=W2,this.auth=Ei(e)}async verify(e="verify",n=!1){async function i(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,g)=>{k2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)g(new Error("recaptcha Enterprise site key undefined"));else{const y=new j2(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{g(p)})})}function l(u,f,g){const p=window.grecaptcha;t0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(vb)})}):g(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Y2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{i(this.auth).then(g=>{if(!n&&t0(window.grecaptcha))l(g,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=K2();p.length!==0&&(p+=g),yb(p).then(()=>{l(g,u,f)}).catch(y=>{f(y)})}}).catch(g=>{f(g)})})}}async function l0(s,e,n,i=!1,l=!1){const u=new Z2(s);let f;if(l)f=vb;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const g=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in g){const p=g.phoneEnrollmentInfo.phoneNumber,y=g.phoneEnrollmentInfo.recaptchaToken;Object.assign(g,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in g){const p=g.phoneSignInInfo.recaptchaToken;Object.assign(g,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return g}return i?Object.assign(g,{captchaResp:f}):Object.assign(g,{captchaResponse:f}),Object.assign(g,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(g,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),g}async function Bm(s,e,n,i,l){var u;if(!((u=s._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await l0(s,e,n,n==="getOobCode");return i(s,f)}else return i(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const g=await l0(s,e,n,n==="getOobCode");return i(s,g)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(s,e){const n=vp(s,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(sr(u,e??{}))return l;Zn(l,"already-initialized")}return n.initialize({options:e})}function eA(s,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function tA(s,e,n){const i=Ei(s);je(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const l=!1,u=_b(e),{host:f,port:g}=nA(e),p=g===null?"":`:${g}`,y={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!i._canInitEmulator){je(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),je(sr(y,i.config.emulator)&&sr(E,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=E,i.settings.appVerificationDisabledForTesting=!0,aA()}function _b(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function nA(s){const e=_b(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(i);if(l){const u=l[1];return{host:u,port:o0(i.substr(u.length+1))}}else{const[u,f]=i.split(":");return{host:u,port:o0(f)}}}function o0(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function aA(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function sA(s,e){return ws(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iA(s,e){return Nc(s,"POST","/v1/accounts:signInWithPassword",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rA(s,e){return Nc(s,"POST","/v1/accounts:signInWithEmailLink",bi(s,e))}async function lA(s,e){return Nc(s,"POST","/v1/accounts:signInWithEmailLink",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc extends wp{constructor(e,n,i,l=null){super("password",i),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new uc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new uc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",iA);case"emailLink":return rA(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,i,"signUpPassword",sA);case"emailLink":return lA(e,{idToken:n,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ml(s,e){return Nc(s,"POST","/v1/accounts:signInWithIdp",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="http://localhost";class rr extends wp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new rr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Zn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:l}=n,u=_p(n,["providerId","signInMethod"]);if(!i||!l)return null;const f=new rr(i,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ml(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ml(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ml(e,n)}buildRequest(){const e={requestUri:oA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cA(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uA(s){const e=Qo(Yo(s)).link,n=e?Qo(Yo(e)).deep_link_id:null,i=Qo(Yo(s)).deep_link_id;return(i?Qo(Yo(i)).link:null)||i||n||e||s}class Sp{constructor(e){var n,i,l,u,f,g;const p=Qo(Yo(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(i=p.oobCode)!==null&&i!==void 0?i:null,N=cA((l=p.mode)!==null&&l!==void 0?l:null);je(y&&E&&N,"argument-error"),this.apiKey=y,this.operation=N,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(g=p.tenantId)!==null&&g!==void 0?g:null}static parseLink(e){const n=uA(e);try{return new Sp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return uc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Sp.parseLink(n);return je(i,"argument-error"),uc._fromEmailAndCode(e,i.code,i.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Ap{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends wc{constructor(){super("facebook.com")}static credential(e){return rr._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends wc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return rr._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return us.credential(n,i)}catch{return null}}}us.GOOGLE_SIGN_IN_METHOD="google.com";us.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends wc{constructor(){super("github.com")}static credential(e){return rr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.GITHUB_SIGN_IN_METHOD="github.com";ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends wc{constructor(){super("twitter.com")}static credential(e,n){return rr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return si.credential(n,i)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(s,e){return Nc(s,"POST","/v1/accounts:signUp",bi(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,l=!1){const u=await oa._fromIdTokenResponse(e,i,l),f=c0(i);return new lr({user:u,providerId:f,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const l=c0(i);return new lr({user:e,providerId:l,_tokenResponse:i,operationType:n})}}function c0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh extends Ns{constructor(e,n,i,l){var u;super(n.code,n.message),this.operationType=i,this.user=l,Object.setPrototypeOf(this,Sh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,l){return new Sh(e,n,i,l)}}function bb(s,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Sh._fromErrorAndOperation(s,u,e,i):u})}async function dA(s,e,n=!1){const i=await vl(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return lr._forOperation(s,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(s,e,n=!1){const{auth:i}=s;if(Pn(i.app))return Promise.reject(ms(i));const l="reauthenticate";try{const u=await vl(s,bb(i,l,e,s),n);je(u.idToken,i,"internal-error");const f=xp(u.idToken);je(f,i,"internal-error");const{sub:g}=f;return je(s.uid===g,i,"user-mismatch"),lr._forOperation(s,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Zn(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(s,e,n=!1){if(Pn(s.app))return Promise.reject(ms(s));const i="signIn",l=await bb(s,i,e),u=await lr._fromIdTokenResponse(s,i,l);return n||await s._updateCurrentUser(u.user),u}async function mA(s,e){return Eb(Ei(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tb(s){const e=Ei(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function pA(s,e,n){if(Pn(s.app))return Promise.reject(ms(s));const i=Ei(s),f=await Bm(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hA).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Tb(s),p}),g=await lr._fromIdTokenResponse(i,"signIn",f);return await i._updateCurrentUser(g.user),g}function gA(s,e,n){return Pn(s.app)?Promise.reject(ms(s)):mA(fn(s),kl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Tb(s),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yA(s,e){return ws(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(s,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const i=fn(s),u={idToken:await i.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},f=await vl(i,yA(i.auth,u));i.displayName=f.displayName||null,i.photoURL=f.photoUrl||null;const g=i.providerData.find(({providerId:p})=>p==="password");g&&(g.displayName=i.displayName,g.photoURL=i.photoURL),await i._updateTokensIfNecessary(f)}function _A(s,e,n,i){return fn(s).onIdTokenChanged(e,n,i)}function bA(s,e,n){return fn(s).beforeAuthStateChanged(e,n)}function $h(s,e,n,i){return fn(s).onAuthStateChanged(e,n,i)}function xb(s){return fn(s).signOut()}const Ah="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ah,"1"),this.storage.removeItem(Ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=1e3,TA=10;class wb extends Nb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),l=this.localCache[n];i!==l&&e(n,l,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const i=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(i);!n&&this.localCache[i]===f||this.notifyListeners(i,f)},u=this.storage.getItem(i);U2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,TA):l()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},EA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wb.type="LOCAL";const xA=wb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Nb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Sb.type="SESSION";const Ab=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const i=new Qh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:l});const g=Array.from(f).map(async y=>y(n.origin,u)),p=await NA(g);n.ports[0].postMessage({status:"done",eventId:i,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(s="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const y=jp("",20);l.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},i);f={messageChannel:l,onMessage(N){const w=N;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ca(){return window}function SA(s){Ca().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(){return typeof Ca().WorkerGlobalScope<"u"&&typeof Ca().importScripts=="function"}async function AA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function kA(){return jb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb="firebaseLocalStorageDb",RA=1,jh="firebaseLocalStorage",Rb="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yh(s,e){return s.transaction([jh],e?"readwrite":"readonly").objectStore(jh)}function IA(){const s=indexedDB.deleteDatabase(kb);return new Sc(s).toPromise()}function Hm(){const s=indexedDB.open(kb,RA);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const i=s.result;try{i.createObjectStore(jh,{keyPath:Rb})}catch(l){n(l)}}),s.addEventListener("success",async()=>{const i=s.result;i.objectStoreNames.contains(jh)?e(i):(i.close(),await IA(),e(await Hm()))})})}async function u0(s,e,n){const i=Yh(s,!0).put({[Rb]:e,value:n});return new Sc(i).toPromise()}async function CA(s,e){const n=Yh(s,!1).get(e),i=await new Sc(n).toPromise();return i===void 0?null:i.value}function h0(s,e){const n=Yh(s,!0).delete(e);return new Sc(n).toPromise()}const DA=800,MA=3;class Ib{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>MA)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(kA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await AA(),!this.activeServiceWorker)return;this.sender=new wA(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await u0(e,Ah,"1"),await h0(e,Ah),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>u0(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>CA(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>h0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Yh(l,!1).getAll();return new Sc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)i.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!i.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const l of Array.from(i))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ib.type="LOCAL";const OA=Ib;new xc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s,e){return e?ds(e):(je(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp extends wp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ml(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ml(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ml(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function PA(s){return Eb(s.auth,new kp(s),s.bypassAuthState)}function VA(s){const{auth:e,user:n}=s;return je(n,e,"internal-error"),fA(n,new kp(s),s.bypassAuthState)}async function LA(s){const{auth:e,user:n}=s;return je(n,e,"internal-error"),dA(n,new kp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,i,l,u=!1){this.auth=e,this.resolver=i,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:l,tenantId:u,error:f,type:g}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:i,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return PA;case"linkViaPopup":case"linkViaRedirect":return LA;case"reauthViaPopup":case"reauthViaRedirect":return VA;default:Zn(this.auth,"internal-error")}}resolve(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=new xc(2e3,1e4);async function Mb(s,e,n){if(Pn(s.app))return Promise.reject(ua(s,"operation-not-supported-in-this-environment"));const i=Ei(s);_2(s,e,Ap);const l=Cb(i,n);return new er(i,"signInViaPopup",e,l).executeNotNull()}class er extends Db{constructor(e,n,i,l,u){super(e,n,l,u),this.provider=i,this.authWindow=null,this.pollId=null,er.currentPopupAction&&er.currentPopupAction.cancel(),er.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return je(e,this.auth,"internal-error"),e}async onExecution(){vs(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ua(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ua(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,er.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ua(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,UA.get())};e()}}er.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="pendingRedirect",dh=new Map;class BA extends Db{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const i=await HA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HA(s,e){const n=GA(e),i=FA(s);if(!await i._isAvailable())return!1;const l=await i._get(n)==="true";return await i._remove(n),l}function qA(s,e){dh.set(s._key(),e)}function FA(s){return ds(s._redirectPersistence)}function GA(s){return hh(zA,s.config.apiKey,s.name)}async function KA(s,e,n=!1){if(Pn(s.app))return Promise.reject(ms(s));const i=Ei(s),l=Cb(i,e),f=await new BA(i,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await i._persistUserIfCurrent(f.user),await i._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A=10*60*1e3;class QA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!YA(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!Ob(e)){const l=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ua(this.auth,l))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$A&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Ob({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function YA(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XA(s,e={}){return ws(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ZA=/^https?/;async function JA(s){if(s.config.emulator)return;const{authorizedDomains:e}=await XA(s);for(const n of e)try{if(ej(n))return}catch{}Zn(s,"unauthorized-domain")}function ej(s){const e=Um(),{protocol:n,hostname:i}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&i===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===i}if(!ZA.test(n))return!1;if(WA.test(s))return i===s;const l=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tj=new xc(3e4,6e4);function f0(){const s=Ca().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function nj(s){return new Promise((e,n)=>{var i,l,u;function f(){f0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(ua(s,"network-request-failed"))},timeout:tj.get()})}if(!((l=(i=Ca().gapi)===null||i===void 0?void 0:i.iframes)===null||l===void 0)&&l.Iframe)e(gapi.iframes.getContext());else if(!((u=Ca().gapi)===null||u===void 0)&&u.load)f();else{const g=Q2("iframefcb");return Ca()[g]=()=>{gapi.load?f():n(ua(s,"network-request-failed"))},yb(`${$2()}?onload=${g}`).catch(p=>n(p))}}).catch(e=>{throw fh=null,e})}let fh=null;function aj(s){return fh=fh||nj(s),fh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj=new xc(5e3,15e3),ij="__/auth/iframe",rj="emulator/auth/iframe",lj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},oj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cj(s){const e=s.config;je(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?Tp(e,rj):`https://${s.config.authDomain}/${ij}`,i={apiKey:e.apiKey,appName:s.name,v:jl},l=oj.get(s.config.apiHost);l&&(i.eid=l);const u=s._getFrameworks();return u.length&&(i.fw=u.join(",")),`${n}?${Tc(i).slice(1)}`}async function uj(s){const e=await aj(s),n=Ca().gapi;return je(n,s,"internal-error"),e.open({where:document.body,url:cj(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lj,dontclear:!0},i=>new Promise(async(l,u)=>{await i.restyle({setHideOnLeave:!1});const f=ua(s,"network-request-failed"),g=Ca().setTimeout(()=>{u(f)},sj.get());function p(){Ca().clearTimeout(g),l(i)}i.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dj=500,fj=600,mj="_blank",pj="http://localhost";class m0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gj(s,e,n,i=dj,l=fj){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-i)/2,0).toString();let g="";const p=Object.assign(Object.assign({},hj),{width:i.toString(),height:l.toString(),top:u,left:f}),y=dn().toLowerCase();n&&(g=ub(y)?mj:n),ob(y)&&(e=e||pj,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[M,P])=>`${w}${M}=${P},`,"");if(L2(y)&&g!=="_self")return yj(e||"",g),new m0(null);const N=window.open(e||"",g,E);je(N,s,"popup-blocked");try{N.focus()}catch{}return new m0(N)}function yj(s,e){const n=document.createElement("a");n.href=s,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="__/auth/handler",_j="emulator/auth/handler",bj=encodeURIComponent("fac");async function p0(s,e,n,i,l,u){je(s.config.authDomain,s,"auth-domain-config-required"),je(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:i,v:jl,eventId:l};if(e instanceof Ap){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",iS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,N]of Object.entries({}))f[E]=N}if(e instanceof wc){const E=e.getScopes().filter(N=>N!=="");E.length>0&&(f.scopes=E.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const E of Object.keys(g))g[E]===void 0&&delete g[E];const p=await s._getAppCheckToken(),y=p?`#${bj}=${encodeURIComponent(p)}`:"";return`${Ej(s)}?${Tc(g).slice(1)}${y}`}function Ej({config:s}){return s.emulator?Tp(s,_j):`https://${s.authDomain}/${vj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class Tj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=KA,this._overrideRedirectResult=qA}async _openPopup(e,n,i,l){var u;vs((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await p0(e,n,i,Um(),l);return gj(e,f,jp())}async _openRedirect(e,n,i,l){await this._originValidation(e);const u=await p0(e,n,i,Um(),l);return SA(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(vs(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await uj(e),i=new QA(e);return n.register("authEvent",l=>(je(l==null?void 0:l.authEvent,e,"invalid-auth-event"),{status:i.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},l=>{var u;const f=(u=l==null?void 0:l[0])===null||u===void 0?void 0:u[Sm];f!==void 0&&n(!!f),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pb()||cb()||Np()}}const xj=Tj;var g0="@firebase/auth",y0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wj(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sj(s){yl(new ir("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=i.options;je(f&&!f.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gb(s)},y=new F2(i,l,u,p);return eA(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),yl(new ir("auth-internal",e=>{const n=Ei(e.getProvider("auth").getImmediate());return(i=>new Nj(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),oi(g0,y0,wj(s)),oi(g0,y0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj=5*60,jj=Q1("authIdTokenMaxAge")||Aj;let v0=null;const kj=s=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>jj)return;const l=n==null?void 0:n.token;v0!==l&&(v0=l,await fetch(s,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function nr(s=Z1()){const e=vp(s,"auth");if(e.isInitialized())return e.getImmediate();const n=J2(s,{popupRedirectResolver:xj,persistence:[OA,xA,Ab]}),i=Q1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const f=kj(u.toString());bA(n,f,()=>f(n.currentUser)),_A(n,g=>f(g))}}const l=K1("auth");return l&&tA(n,`http://${l}`),n}function Rj(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}G2({loadJS(s){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",s),i.onload=e,i.onerror=l=>{const u=ua("internal-error");u.customData=l,n(u)},i.type="text/javascript",i.charset="UTF-8",Rj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sj("Browser");var _0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ci,Pb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,A){function j(){}j.prototype=A.prototype,C.D=A.prototype,C.prototype=new j,C.prototype.constructor=C,C.C=function(S,O,U){for(var R=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)R[vt-2]=arguments[vt];return A.prototype[O].apply(S,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,A,j){j||(j=0);var S=Array(16);if(typeof A=="string")for(var O=0;16>O;++O)S[O]=A.charCodeAt(j++)|A.charCodeAt(j++)<<8|A.charCodeAt(j++)<<16|A.charCodeAt(j++)<<24;else for(O=0;16>O;++O)S[O]=A[j++]|A[j++]<<8|A[j++]<<16|A[j++]<<24;A=C.g[0],j=C.g[1],O=C.g[2];var U=C.g[3],R=A+(U^j&(O^U))+S[0]+3614090360&4294967295;A=j+(R<<7&4294967295|R>>>25),R=U+(O^A&(j^O))+S[1]+3905402710&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(j^U&(A^j))+S[2]+606105819&4294967295,O=U+(R<<17&4294967295|R>>>15),R=j+(A^O&(U^A))+S[3]+3250441966&4294967295,j=O+(R<<22&4294967295|R>>>10),R=A+(U^j&(O^U))+S[4]+4118548399&4294967295,A=j+(R<<7&4294967295|R>>>25),R=U+(O^A&(j^O))+S[5]+1200080426&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(j^U&(A^j))+S[6]+2821735955&4294967295,O=U+(R<<17&4294967295|R>>>15),R=j+(A^O&(U^A))+S[7]+4249261313&4294967295,j=O+(R<<22&4294967295|R>>>10),R=A+(U^j&(O^U))+S[8]+1770035416&4294967295,A=j+(R<<7&4294967295|R>>>25),R=U+(O^A&(j^O))+S[9]+2336552879&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(j^U&(A^j))+S[10]+4294925233&4294967295,O=U+(R<<17&4294967295|R>>>15),R=j+(A^O&(U^A))+S[11]+2304563134&4294967295,j=O+(R<<22&4294967295|R>>>10),R=A+(U^j&(O^U))+S[12]+1804603682&4294967295,A=j+(R<<7&4294967295|R>>>25),R=U+(O^A&(j^O))+S[13]+4254626195&4294967295,U=A+(R<<12&4294967295|R>>>20),R=O+(j^U&(A^j))+S[14]+2792965006&4294967295,O=U+(R<<17&4294967295|R>>>15),R=j+(A^O&(U^A))+S[15]+1236535329&4294967295,j=O+(R<<22&4294967295|R>>>10),R=A+(O^U&(j^O))+S[1]+4129170786&4294967295,A=j+(R<<5&4294967295|R>>>27),R=U+(j^O&(A^j))+S[6]+3225465664&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^j&(U^A))+S[11]+643717713&4294967295,O=U+(R<<14&4294967295|R>>>18),R=j+(U^A&(O^U))+S[0]+3921069994&4294967295,j=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(j^O))+S[5]+3593408605&4294967295,A=j+(R<<5&4294967295|R>>>27),R=U+(j^O&(A^j))+S[10]+38016083&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^j&(U^A))+S[15]+3634488961&4294967295,O=U+(R<<14&4294967295|R>>>18),R=j+(U^A&(O^U))+S[4]+3889429448&4294967295,j=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(j^O))+S[9]+568446438&4294967295,A=j+(R<<5&4294967295|R>>>27),R=U+(j^O&(A^j))+S[14]+3275163606&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^j&(U^A))+S[3]+4107603335&4294967295,O=U+(R<<14&4294967295|R>>>18),R=j+(U^A&(O^U))+S[8]+1163531501&4294967295,j=O+(R<<20&4294967295|R>>>12),R=A+(O^U&(j^O))+S[13]+2850285829&4294967295,A=j+(R<<5&4294967295|R>>>27),R=U+(j^O&(A^j))+S[2]+4243563512&4294967295,U=A+(R<<9&4294967295|R>>>23),R=O+(A^j&(U^A))+S[7]+1735328473&4294967295,O=U+(R<<14&4294967295|R>>>18),R=j+(U^A&(O^U))+S[12]+2368359562&4294967295,j=O+(R<<20&4294967295|R>>>12),R=A+(j^O^U)+S[5]+4294588738&4294967295,A=j+(R<<4&4294967295|R>>>28),R=U+(A^j^O)+S[8]+2272392833&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^j)+S[11]+1839030562&4294967295,O=U+(R<<16&4294967295|R>>>16),R=j+(O^U^A)+S[14]+4259657740&4294967295,j=O+(R<<23&4294967295|R>>>9),R=A+(j^O^U)+S[1]+2763975236&4294967295,A=j+(R<<4&4294967295|R>>>28),R=U+(A^j^O)+S[4]+1272893353&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^j)+S[7]+4139469664&4294967295,O=U+(R<<16&4294967295|R>>>16),R=j+(O^U^A)+S[10]+3200236656&4294967295,j=O+(R<<23&4294967295|R>>>9),R=A+(j^O^U)+S[13]+681279174&4294967295,A=j+(R<<4&4294967295|R>>>28),R=U+(A^j^O)+S[0]+3936430074&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^j)+S[3]+3572445317&4294967295,O=U+(R<<16&4294967295|R>>>16),R=j+(O^U^A)+S[6]+76029189&4294967295,j=O+(R<<23&4294967295|R>>>9),R=A+(j^O^U)+S[9]+3654602809&4294967295,A=j+(R<<4&4294967295|R>>>28),R=U+(A^j^O)+S[12]+3873151461&4294967295,U=A+(R<<11&4294967295|R>>>21),R=O+(U^A^j)+S[15]+530742520&4294967295,O=U+(R<<16&4294967295|R>>>16),R=j+(O^U^A)+S[2]+3299628645&4294967295,j=O+(R<<23&4294967295|R>>>9),R=A+(O^(j|~U))+S[0]+4096336452&4294967295,A=j+(R<<6&4294967295|R>>>26),R=U+(j^(A|~O))+S[7]+1126891415&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~j))+S[14]+2878612391&4294967295,O=U+(R<<15&4294967295|R>>>17),R=j+(U^(O|~A))+S[5]+4237533241&4294967295,j=O+(R<<21&4294967295|R>>>11),R=A+(O^(j|~U))+S[12]+1700485571&4294967295,A=j+(R<<6&4294967295|R>>>26),R=U+(j^(A|~O))+S[3]+2399980690&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~j))+S[10]+4293915773&4294967295,O=U+(R<<15&4294967295|R>>>17),R=j+(U^(O|~A))+S[1]+2240044497&4294967295,j=O+(R<<21&4294967295|R>>>11),R=A+(O^(j|~U))+S[8]+1873313359&4294967295,A=j+(R<<6&4294967295|R>>>26),R=U+(j^(A|~O))+S[15]+4264355552&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~j))+S[6]+2734768916&4294967295,O=U+(R<<15&4294967295|R>>>17),R=j+(U^(O|~A))+S[13]+1309151649&4294967295,j=O+(R<<21&4294967295|R>>>11),R=A+(O^(j|~U))+S[4]+4149444226&4294967295,A=j+(R<<6&4294967295|R>>>26),R=U+(j^(A|~O))+S[11]+3174756917&4294967295,U=A+(R<<10&4294967295|R>>>22),R=O+(A^(U|~j))+S[2]+718787259&4294967295,O=U+(R<<15&4294967295|R>>>17),R=j+(U^(O|~A))+S[9]+3951481745&4294967295,C.g[0]=C.g[0]+A&4294967295,C.g[1]=C.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+U&4294967295}i.prototype.u=function(C,A){A===void 0&&(A=C.length);for(var j=A-this.blockSize,S=this.B,O=this.h,U=0;U<A;){if(O==0)for(;U<=j;)l(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<A;)if(S[O++]=C.charCodeAt(U++),O==this.blockSize){l(this,S),O=0;break}}else for(;U<A;)if(S[O++]=C[U++],O==this.blockSize){l(this,S),O=0;break}}this.h=O,this.o+=A},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var A=1;A<C.length-8;++A)C[A]=0;var j=8*this.o;for(A=C.length-8;A<C.length;++A)C[A]=j&255,j/=256;for(this.u(C),C=Array(16),A=j=0;4>A;++A)for(var S=0;32>S;S+=8)C[j++]=this.g[A]>>>S&255;return C};function u(C,A){var j=g;return Object.prototype.hasOwnProperty.call(j,C)?j[C]:j[C]=A(C)}function f(C,A){this.h=A;for(var j=[],S=!0,O=C.length-1;0<=O;O--){var U=C[O]|0;S&&U==A||(j[O]=U,S=!1)}this.g=j}var g={};function p(C){return-128<=C&&128>C?u(C,function(A){return new f([A|0],0>A?-1:0)}):new f([C|0],0>C?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return N;if(0>C)return V(y(-C));for(var A=[],j=1,S=0;C>=j;S++)A[S]=C/j|0,j*=4294967296;return new f(A,0)}function E(C,A){if(C.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(C.charAt(0)=="-")return V(E(C.substring(1),A));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=y(Math.pow(A,8)),S=N,O=0;O<C.length;O+=8){var U=Math.min(8,C.length-O),R=parseInt(C.substring(O,O+U),A);8>U?(U=y(Math.pow(A,U)),S=S.j(U).add(y(R))):(S=S.j(j),S=S.add(y(R)))}return S}var N=p(0),w=p(1),M=p(16777216);s=f.prototype,s.m=function(){if(F(this))return-V(this).m();for(var C=0,A=1,j=0;j<this.g.length;j++){var S=this.i(j);C+=(0<=S?S:4294967296+S)*A,A*=4294967296}return C},s.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P(this))return"0";if(F(this))return"-"+V(this).toString(C);for(var A=y(Math.pow(C,6)),j=this,S="";;){var O=fe(j,A).g;j=$(j,O.j(A));var U=((0<j.g.length?j.g[0]:j.h)>>>0).toString(C);if(j=O,P(j))return U+S;for(;6>U.length;)U="0"+U;S=U+S}},s.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function P(C){if(C.h!=0)return!1;for(var A=0;A<C.g.length;A++)if(C.g[A]!=0)return!1;return!0}function F(C){return C.h==-1}s.l=function(C){return C=$(this,C),F(C)?-1:P(C)?0:1};function V(C){for(var A=C.g.length,j=[],S=0;S<A;S++)j[S]=~C.g[S];return new f(j,~C.h).add(w)}s.abs=function(){return F(this)?V(this):this},s.add=function(C){for(var A=Math.max(this.g.length,C.g.length),j=[],S=0,O=0;O<=A;O++){var U=S+(this.i(O)&65535)+(C.i(O)&65535),R=(U>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);S=R>>>16,U&=65535,R&=65535,j[O]=R<<16|U}return new f(j,j[j.length-1]&-2147483648?-1:0)};function $(C,A){return C.add(V(A))}s.j=function(C){if(P(this)||P(C))return N;if(F(this))return F(C)?V(this).j(V(C)):V(V(this).j(C));if(F(C))return V(this.j(V(C)));if(0>this.l(M)&&0>C.l(M))return y(this.m()*C.m());for(var A=this.g.length+C.g.length,j=[],S=0;S<2*A;S++)j[S]=0;for(S=0;S<this.g.length;S++)for(var O=0;O<C.g.length;O++){var U=this.i(S)>>>16,R=this.i(S)&65535,vt=C.i(O)>>>16,ht=C.i(O)&65535;j[2*S+2*O]+=R*ht,ie(j,2*S+2*O),j[2*S+2*O+1]+=U*ht,ie(j,2*S+2*O+1),j[2*S+2*O+1]+=R*vt,ie(j,2*S+2*O+1),j[2*S+2*O+2]+=U*vt,ie(j,2*S+2*O+2)}for(S=0;S<A;S++)j[S]=j[2*S+1]<<16|j[2*S];for(S=A;S<2*A;S++)j[S]=0;return new f(j,0)};function ie(C,A){for(;(C[A]&65535)!=C[A];)C[A+1]+=C[A]>>>16,C[A]&=65535,A++}function J(C,A){this.g=C,this.h=A}function fe(C,A){if(P(A))throw Error("division by zero");if(P(C))return new J(N,N);if(F(C))return A=fe(V(C),A),new J(V(A.g),V(A.h));if(F(A))return A=fe(C,V(A)),new J(V(A.g),A.h);if(30<C.g.length){if(F(C)||F(A))throw Error("slowDivide_ only works with positive integers.");for(var j=w,S=A;0>=S.l(C);)j=ue(j),S=ue(S);var O=Ne(j,1),U=Ne(S,1);for(S=Ne(S,2),j=Ne(j,2);!P(S);){var R=U.add(S);0>=R.l(C)&&(O=O.add(j),U=R),S=Ne(S,1),j=Ne(j,1)}return A=$(C,O.j(A)),new J(O,A)}for(O=N;0<=C.l(A);){for(j=Math.max(1,Math.floor(C.m()/A.m())),S=Math.ceil(Math.log(j)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),U=y(j),R=U.j(A);F(R)||0<R.l(C);)j-=S,U=y(j),R=U.j(A);P(U)&&(U=w),O=O.add(U),C=$(C,R)}return new J(O,C)}s.A=function(C){return fe(this,C).h},s.and=function(C){for(var A=Math.max(this.g.length,C.g.length),j=[],S=0;S<A;S++)j[S]=this.i(S)&C.i(S);return new f(j,this.h&C.h)},s.or=function(C){for(var A=Math.max(this.g.length,C.g.length),j=[],S=0;S<A;S++)j[S]=this.i(S)|C.i(S);return new f(j,this.h|C.h)},s.xor=function(C){for(var A=Math.max(this.g.length,C.g.length),j=[],S=0;S<A;S++)j[S]=this.i(S)^C.i(S);return new f(j,this.h^C.h)};function ue(C){for(var A=C.g.length+1,j=[],S=0;S<A;S++)j[S]=C.i(S)<<1|C.i(S-1)>>>31;return new f(j,C.h)}function Ne(C,A){var j=A>>5;A%=32;for(var S=C.g.length-j,O=[],U=0;U<S;U++)O[U]=0<A?C.i(U+j)>>>A|C.i(U+j+1)<<32-A:C.i(U+j);return new f(O,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Pb=i,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=E,ci=f}).apply(typeof _0<"u"?_0:typeof self<"u"?self:typeof window<"u"?window:{});var nh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vb,Xo,Lb,mh,qm,Ub,zb,Bb;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof nh=="object"&&nh];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function l(h,v){if(v)e:{var _=i;h=h.split(".");for(var x=0;x<h.length-1;x++){var B=h[x];if(!(B in _))break e;_=_[B]}h=h[h.length-1],x=_[h],v=v(x),v!=x&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function u(h,v){h instanceof String&&(h+="");var _=0,x=!1,B={next:function(){if(!x&&_<h.length){var Y=_++;return{value:v(Y,h[Y]),done:!1}}return x=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}l("Array.prototype.values",function(h){return h||function(){return u(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},g=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function E(h,v,_){return h.call.apply(h.bind,arguments)}function N(h,v,_){if(!h)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,x),h.apply(v,B)}}return function(){return h.apply(v,arguments)}}function w(h,v,_){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:N,w.apply(null,arguments)}function M(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),h.apply(this,x)}}function P(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(x,B,Y){for(var oe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)oe[Ge-2]=arguments[Ge];return v.prototype[B].apply(x,oe)}}function F(h){const v=h.length;if(0<v){const _=Array(v);for(let x=0;x<v;x++)_[x]=h[x];return _}return[]}function V(h,v){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(p(x)){const B=h.length||0,Y=x.length||0;h.length=B+Y;for(let oe=0;oe<Y;oe++)h[B+oe]=x[oe]}else h.push(x)}}class ${constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function ie(h){return/^[\s\xa0]*$/.test(h)}function J(){var h=g.navigator;return h&&(h=h.userAgent)?h:""}function fe(h){return fe[" "](h),h}fe[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Ne(h,v,_){for(const x in h)v.call(_,h[x],x,h)}function C(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function A(h){const v={};for(const _ in h)v[_]=h[_];return v}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(h,v){let _,x;for(let B=1;B<arguments.length;B++){x=arguments[B];for(_ in x)h[_]=x[_];for(let Y=0;Y<j.length;Y++)_=j[Y],Object.prototype.hasOwnProperty.call(x,_)&&(h[_]=x[_])}}function O(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function U(h){g.setTimeout(()=>{throw h},0)}function R(){var h=Ue;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class vt{constructor(){this.h=this.g=null}add(v,_){const x=ht.get();x.set(v,_),this.h?this.h.next=x:this.g=x,this.h=x}}var ht=new $(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let le,_e=!1,Ue=new vt,D=()=>{const h=g.Promise.resolve(void 0);le=()=>{h.then(te)}};var te=()=>{for(var h;h=R();){try{h.h.call(h.g)}catch(_){U(_)}var v=ht;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}_e=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var Ee=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};g.addEventListener("test",_,v),g.removeEventListener("test",_,v)}catch{}return h}();function De(h,v){if(re.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,x=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(ue){e:{try{fe(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Se[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&De.aa.h.call(this)}}P(De,re);var Se={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Tt="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function rn(h,v,_,x,B){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!x,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function _n(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function bn(h){this.src=h,this.g={},this.h=0}bn.prototype.add=function(h,v,_,x,B){var Y=h.toString();h=this.g[Y],h||(h=this.g[Y]=[],this.h++);var oe=ta(h,v,x,B);return-1<oe?(v=h[oe],_||(v.fa=!1)):(v=new rn(v,this.src,Y,!!x,B),v.fa=_,h.push(v)),v};function ea(h,v){var _=v.type;if(_ in h.g){var x=h.g[_],B=Array.prototype.indexOf.call(x,v,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(x,B,1),Y&&(_n(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function ta(h,v,_,x){for(var B=0;B<h.length;++B){var Y=h[B];if(!Y.da&&Y.listener==v&&Y.capture==!!_&&Y.ha==x)return B}return-1}var Sn="closure_lm_"+(1e6*Math.random()|0),X={};function he(h,v,_,x,B){if(Array.isArray(v)){for(var Y=0;Y<v.length;Y++)he(h,v[Y],_,x,B);return null}return _=Xe(_),h&&h[Tt]?h.K(v,_,y(x)?!!x.capture:!1,B):ve(h,v,_,!1,x,B)}function ve(h,v,_,x,B,Y){if(!v)throw Error("Invalid event type");var oe=y(B)?!!B.capture:!!B,Ge=mt(h);if(Ge||(h[Sn]=Ge=new bn(h)),_=Ge.add(v,_,x,oe,Y),_.proxy)return _;if(x=se(),_.proxy=x,x.src=h,x.listener=_,h.addEventListener)Ee||(B=oe),B===void 0&&(B=!1),h.addEventListener(v.toString(),x,B);else if(h.attachEvent)h.attachEvent(ge(v.toString()),x);else if(h.addListener&&h.removeListener)h.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function se(){function h(_){return v.call(h.src,h.listener,_)}const v=Je;return h}function be(h,v,_,x,B){if(Array.isArray(v))for(var Y=0;Y<v.length;Y++)be(h,v[Y],_,x,B);else x=y(x)?!!x.capture:!!x,_=Xe(_),h&&h[Tt]?(h=h.i,v=String(v).toString(),v in h.g&&(Y=h.g[v],_=ta(Y,_,x,B),-1<_&&(_n(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete h.g[v],h.h--)))):h&&(h=mt(h))&&(v=h.g[v.toString()],h=-1,v&&(h=ta(v,_,x,B)),(_=-1<h?v[h]:null)&&Me(_))}function Me(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Tt])ea(v.i,h);else{var _=h.type,x=h.proxy;v.removeEventListener?v.removeEventListener(_,x,h.capture):v.detachEvent?v.detachEvent(ge(_),x):v.addListener&&v.removeListener&&v.removeListener(x),(_=mt(v))?(ea(_,h),_.h==0&&(_.src=null,v[Sn]=null)):_n(h)}}}function ge(h){return h in X?X[h]:X[h]="on"+h}function Je(h,v){if(h.da)h=!0;else{v=new De(v,this);var _=h.listener,x=h.ha||h.src;h.fa&&Me(h),h=_.call(x,v)}return h}function mt(h){return h=h[Sn],h instanceof bn?h:null}var Ye="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(h){return typeof h=="function"?h:(h[Ye]||(h[Ye]=function(v){return h.handleEvent(v)}),h[Ye])}function et(){ce.call(this),this.i=new bn(this),this.M=this,this.F=null}P(et,ce),et.prototype[Tt]=!0,et.prototype.removeEventListener=function(h,v,_,x){be(this,h,v,_,x)};function ze(h,v){var _,x=h.F;if(x)for(_=[];x;x=x.F)_.push(x);if(h=h.M,x=v.type||v,typeof v=="string")v=new re(v,h);else if(v instanceof re)v.target=v.target||h;else{var B=v;v=new re(x,h),S(v,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var oe=v.g=_[Y];B=Vt(oe,x,!0,v)&&B}if(oe=v.g=h,B=Vt(oe,x,!0,v)&&B,B=Vt(oe,x,!1,v)&&B,_)for(Y=0;Y<_.length;Y++)oe=v.g=_[Y],B=Vt(oe,x,!1,v)&&B}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],x=0;x<_.length;x++)_n(_[x]);delete h.g[v],h.h--}}this.F=null},et.prototype.K=function(h,v,_,x){return this.i.add(String(h),v,!1,_,x)},et.prototype.L=function(h,v,_,x){return this.i.add(String(h),v,!0,_,x)};function Vt(h,v,_,x){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,Y=0;Y<v.length;++Y){var oe=v[Y];if(oe&&!oe.da&&oe.capture==_){var Ge=oe.listener,zt=oe.ha||oe.src;oe.fa&&ea(h.i,oe),B=Ge.call(zt,x)!==!1&&B}}return B&&!x.defaultPrevented}function Lt(h,v,_){if(typeof h=="function")_&&(h=w(h,_));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:g.setTimeout(h,v||0)}function Va(h){h.g=Lt(()=>{h.g=null,h.i&&(h.i=!1,Va(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Vl extends ce{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Va(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function La(h){ce.call(this),this.h=h,this.g={}}P(La,ce);var Ss=[];function Ti(h){Ne(h.g,function(v,_){this.g.hasOwnProperty(_)&&Me(v)},h),h.g={}}La.prototype.N=function(){La.aa.N.call(this),Ti(this)},La.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var na=g.JSON.stringify,yr=g.JSON.parse,xi=class{stringify(h){return g.JSON.stringify(h,void 0)}parse(h){return g.JSON.parse(h,void 0)}};function Ll(){}Ll.prototype.h=null;function Ul(h){return h.h||(h.h=h.i())}function zl(){}var Ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function za(){re.call(this,"d")}P(za,re);function Bl(){re.call(this,"c")}P(Bl,re);var pa={},Hl=null;function As(){return Hl=Hl||new et}pa.La="serverreachability";function vr(h){re.call(this,pa.La,h)}P(vr,re);function js(h){const v=As();ze(v,new vr(v))}pa.STAT_EVENT="statevent";function Dc(h,v){re.call(this,pa.STAT_EVENT,h),this.stat=v}P(Dc,re);function pt(h){const v=As();ze(v,new Dc(v,h))}pa.Ma="timingevent";function Ut(h,v){re.call(this,pa.Ma,h),this.size=v}P(Ut,re);function Rt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){h()},v)}function Vn(){this.g=!0}Vn.prototype.xa=function(){this.g=!1};function ql(h,v,_,x,B,Y){h.info(function(){if(h.g)if(Y)for(var oe="",Ge=Y.split("&"),zt=0;zt<Ge.length;zt++){var Ke=Ge[zt].split("=");if(1<Ke.length){var Kt=Ke[0];Ke=Ke[1];var Bt=Kt.split("_");oe=2<=Bt.length&&Bt[1]=="type"?oe+(Kt+"="+Ke+"&"):oe+(Kt+"=redacted&")}}else oe=null;else oe=Y;return"XMLHTTP REQ ("+x+") [attempt "+B+"]: "+v+`
`+_+`
`+oe})}function md(h,v,_,x,B,Y,oe){h.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+B+"]: "+v+`
`+_+`
`+Y+" "+oe})}function ks(h,v,_,x){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ni(h,_)+(x?" "+x:"")})}function Mc(h,v){h.info(function(){return"TIMEOUT: "+v})}Vn.prototype.info=function(){};function Ni(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var x=_[h];if(!(2>x.length)){var B=x[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var oe=1;oe<B.length;oe++)B[oe]=""}}}}return na(_)}catch{return v}}var Rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ba={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ga;function ya(){}P(ya,Ll),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},ga=new ya;function mn(h,v,_,x){this.j=h,this.i=v,this.l=_,this.R=x||1,this.U=new La(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Fl={},_r={};function aa(h,v,_){h.L=1,h.v=ki(An(v)),h.m=_,h.P=!0,Ha(h,null)}function Ha(h,v){h.F=Date.now(),wi(h),h.A=An(h.v);var _=h.A,x=h.R;Array.isArray(x)||(x=[String(x)]),Xl(_.i,"t",x),h.C=0,_=h.j.J,h.h=new St,h.g=Xc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Vl(w(h.Y,h,h.g),h.O)),v=h.U,_=h.g,x=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(Ss[0]=B.toString()),B=Ss);for(var Y=0;Y<B.length;Y++){var oe=he(_,B[Y],x||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=h.H?A(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),js(),ql(h.i,h.u,h.A,h.l,h.R,h.m)}mn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Bn(h)==3?v.j():this.Y(h)},mn.prototype.Y=function(h){try{if(h==this.g)e:{const Bt=Bn(this.g);var v=this.g.Ba();const Xa=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||Hc(this.g)))){this.J||Bt!=4||v==7||(v==8||0>=Xa?js(3):js(2)),Is(this);var _=this.g.Z();this.X=_;t:if(Oc(this)){var x=Hc(this.g);h="";var B=x.length,Y=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Wt(this),va(this);var oe="";break t}this.h.i=new g.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,h+=this.h.i.decode(x[v],{stream:!(Y&&v==B-1)});x.length=0,this.h.g+=h,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,md(this.i,this.u,this.A,this.l,this.R,Bt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,zt=this.g;if((Ge=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ie(Ge)){var Ke=Ge;break t}}Ke=null}if(_=Ke)ks(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Si(this,_);else{this.o=!1,this.s=3,pt(12),Wt(this),va(this);break e}}if(this.P){_=!0;let Zt;for(;!this.J&&this.C<oe.length;)if(Zt=Pc(this,oe),Zt==_r){Bt==4&&(this.s=4,pt(14),_=!1),ks(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Fl){this.s=4,pt(15),ks(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else ks(this.i,this.l,Zt,null),Si(this,Zt);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||oe.length!=0||this.h.h||(this.s=1,pt(16),_=!1),this.o=this.o&&_,!_)ks(this.i,this.l,oe,"[Invalid Chunked Response]"),Wt(this),va(this);else if(0<oe.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Vi(Kt),Kt.M=!0,pt(11))}}else ks(this.i,this.l,oe,null),Si(this,oe);Bt==4&&Wt(this),this.o&&!this.J&&(Bt==4?$c(this.j,this):(this.o=!1,wi(this)))}else _d(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),Wt(this),va(this)}}}catch{}finally{}};function Oc(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Pc(h,v){var _=h.C,x=v.indexOf(`
`,_);return x==-1?_r:(_=Number(v.substring(_,x)),isNaN(_)?Fl:(x+=1,x+_>v.length?_r:(v=v.slice(x,x+_),h.C=x+_,v)))}mn.prototype.cancel=function(){this.J=!0,Wt(this)};function wi(h){h.S=Date.now()+h.I,Vc(h,h.I)}function Vc(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(w(h.ba,h),v)}function Is(h){h.B&&(g.clearTimeout(h.B),h.B=null)}mn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Mc(this.i,this.A),this.L!=2&&(js(),pt(17)),Wt(this),this.s=2,va(this)):Vc(this,this.S-h)};function va(h){h.j.G==0||h.J||$c(h.j,h)}function Wt(h){Is(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Ti(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Si(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Gl(_.h,h))){if(!h.K&&Gl(_.h,h)&&_.G==3){try{var x=_.Da.g.parse(v)}catch{x=null}if(Array.isArray(x)&&x.length==3){var B=x;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)Ir(_),kr(_);else break e;to(_),pt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Rt(w(_.Za,_),6e3));if(1>=Er(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ya(_,11)}else if((h.K||_.g==h)&&Ir(_),!ie(v))for(B=_.Da.g.parse(v),v=0;v<B.length;v++){let Ke=B[v];if(_.T=Ke[0],Ke=Ke[1],_.G==2)if(Ke[0]=="c"){_.K=Ke[1],_.ia=Ke[2];const Kt=Ke[3];Kt!=null&&(_.la=Kt,_.j.info("VER="+_.la));const Bt=Ke[4];Bt!=null&&(_.Aa=Bt,_.j.info("SVER="+_.Aa));const Xa=Ke[5];Xa!=null&&typeof Xa=="number"&&0<Xa&&(x=1.5*Xa,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const Zt=h.g;if(Zt){const wa=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wa){var Y=x.h;Y.g||wa.indexOf("spdy")==-1&&wa.indexOf("quic")==-1&&wa.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Tr(Y,Y.h),Y.h=null))}if(x.D){const ao=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(x.ya=ao,rt(x.I,x.D,ao))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var oe=h;if(x.qa=Yc(x,x.J?x.ia:null,x.W),oe.K){pn(x.h,oe);var Ge=oe,zt=x.L;zt&&(Ge.I=zt),Ge.B&&(Is(Ge),wi(Ge)),x.g=oe}else Gc(x);0<_.i.length&&Rr(_)}else Ke[0]!="stop"&&Ke[0]!="close"||Ya(_,7);else _.G==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ya(_,7):Jl(_):Ke[0]!="noop"&&_.l&&_.l.ta(Ke),_.v=0)}}js(4)}catch{}}var Lc=class{constructor(h,v){this.g=h,this.map=v}};function qa(h){this.l=h||10,g.PerformanceNavigationTiming?(h=g.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function br(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Er(h){return h.h?1:h.g?h.g.size:0}function Gl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function Tr(h,v){h.g?h.g.add(v):h.h=v}function pn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}qa.prototype.cancel=function(){if(this.i=Kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Kl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return F(h.i)}function pd(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],_=h.length,x=0;x<_;x++)v.push(h[x]);return v}v=[],_=0;for(x in h)v[_++]=h[x];return v}function xr(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const x in h)v[_++]=x;return v}}}function $l(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=xr(h),x=pd(h),B=x.length,Y=0;Y<B;Y++)v.call(void 0,x[Y],_&&_[Y],h)}var Ai=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gd(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var x=h[_].indexOf("="),B=null;if(0<=x){var Y=h[_].substring(0,x);B=h[_].substring(x+1)}else Y=h[_];v(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function It(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof It){this.h=h.h,ji(this,h.j),this.o=h.o,this.g=h.g,Cs(this,h.s),this.l=h.l;var v=h.i,_=new Ga;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Fa(this,_),this.m=h.m}else h&&(v=String(h).match(Ai))?(this.h=!1,ji(this,v[1]||"",!0),this.o=Ln(v[2]||""),this.g=Ln(v[3]||"",!0),Cs(this,v[4]),this.l=Ln(v[5]||"",!0),Fa(this,v[6]||"",!0),this.m=Ln(v[7]||"")):(this.h=!1,this.i=new Ga(null,this.h))}It.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Ri(v,Ql,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Ri(v,Ql,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(Ri(_,_.charAt(0)=="/"?yd:Yl,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",Ri(_,Nr)),h.join("")};function An(h){return new It(h)}function ji(h,v,_){h.j=_?Ln(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Cs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Fa(h,v,_){v instanceof Ga?(h.i=v,zc(h.i,h.h)):(_||(v=Ri(v,vd)),h.i=new Ga(v,h.h))}function rt(h,v,_){h.i.set(v,_)}function ki(h){return rt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ln(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ri(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,Uc),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Uc(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ql=/[#\/\?@]/g,Yl=/[#\?:]/g,yd=/[#\?]/g,vd=/[#\?@]/g,Nr=/#/g;function Ga(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&gd(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}s=Ga.prototype,s.add=function(h,v){Un(this),this.i=null,h=_a(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ka(h,v){Un(h),v=_a(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function $a(h,v){return Un(h),v=_a(h,v),h.g.has(v)}s.forEach=function(h,v){Un(this),this.g.forEach(function(_,x){_.forEach(function(B){h.call(v,B,x,this)},this)},this)},s.na=function(){Un(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let x=0;x<v.length;x++){const B=h[x];for(let Y=0;Y<B.length;Y++)_.push(v[x])}return _},s.V=function(h){Un(this);let v=[];if(typeof h=="string")$a(this,h)&&(v=v.concat(this.g.get(_a(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},s.set=function(h,v){return Un(this),this.i=null,h=_a(this,h),$a(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},s.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Xl(h,v,_){Ka(h,v),0<_.length&&(h.i=null,h.g.set(_a(h,v),F(_)),h.h+=_.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var x=v[_];const Y=encodeURIComponent(String(x)),oe=this.V(x);for(x=0;x<oe.length;x++){var B=Y;oe[x]!==""&&(B+="="+encodeURIComponent(String(oe[x]))),h.push(B)}}return this.i=h.join("&")};function _a(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function zc(h,v){v&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(_,x){var B=x.toLowerCase();x!=B&&(Ka(this,x),Xl(this,B,_))},h)),h.j=v}function Ii(h,v){const _=new Vn;if(g.Image){const x=new Image;x.onload=M(zn,_,"TestLoadImage: loaded",!0,v,x),x.onerror=M(zn,_,"TestLoadImage: error",!1,v,x),x.onabort=M(zn,_,"TestLoadImage: abort",!1,v,x),x.ontimeout=M(zn,_,"TestLoadImage: timeout",!1,v,x),g.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=h}else v(!1)}function sa(h,v){const _=new Vn,x=new AbortController,B=setTimeout(()=>{x.abort(),zn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:x.signal}).then(Y=>{clearTimeout(B),Y.ok?zn(_,"TestPingServer: ok",!0,v):zn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),zn(_,"TestPingServer: error",!1,v)})}function zn(h,v,_,x,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),x(_)}catch{}}function Ci(){this.g=new xi}function ba(h,v,_){const x=_||"";try{$l(h,function(B,Y){let oe=B;y(B)&&(oe=na(B)),v.push(x+Y+"="+encodeURIComponent(oe))})}catch(B){throw v.push(x+"type="+encodeURIComponent("_badmap")),B}}function Ds(h){this.l=h.Ub||null,this.j=h.eb||!1}P(Ds,Ll),Ds.prototype.g=function(){return new Qa(this.l,this.j)},Ds.prototype.i=function(h){return function(){return h}}({});function Qa(h,v){et.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Qa,et),s=Qa.prototype,s.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ta(this)},s.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||g).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ea(this)),this.readyState=0},s.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ta(this)),this.g&&(this.readyState=3,Ta(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Wl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Wl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}s.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Ea(this):Ta(this),this.readyState==3&&Wl(this)}},s.Ra=function(h){this.g&&(this.response=this.responseText=h,Ea(this))},s.Qa=function(h){this.g&&(this.response=h,Ea(this))},s.ga=function(){this.g&&Ea(this)};function Ea(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ta(h)}s.setRequestHeader=function(h,v){this.u.append(h,v)},s.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function Ta(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Zl(h){let v="";return Ne(h,function(_,x){v+=x,v+=":",v+=_,v+=`\r
`}),v}function Gt(h,v,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Zl(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):rt(h,v,_))}function nt(h){et.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(nt,et);var wr=/^https?$/i,Di=["POST","PUT"];s=nt.prototype,s.Ha=function(h){this.J=h},s.ea=function(h,v,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ga.g(),this.v=this.o?Ul(this.o):Ul(ga),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(Y){Bc(this,Y);return}if(h=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var B in x)_.set(B,x[B]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Y of x.keys())_.set(Y,x.get(Y));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=g.FormData&&h instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Di,v,void 0))||x||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,oe]of _)this.g.setRequestHeader(Y,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Mi(this),this.u=!0,this.g.send(h),this.u=!1}catch(Y){Bc(this,Y)}};function Bc(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,Sr(h),xa(h)}function Sr(h){h.A||(h.A=!0,ze(h,"complete"),ze(h,"error"))}s.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,ze(this,"complete"),ze(this,"abort"),xa(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xa(this,!0)),nt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Ar(this):this.bb())},s.bb=function(){Ar(this)};function Ar(h){if(h.h&&typeof f<"u"&&(!h.v[1]||Bn(h)!=4||h.Z()!=2)){if(h.u&&Bn(h)==4)Lt(h.Ea,0,h);else if(ze(h,"readystatechange"),Bn(h)==4){h.h=!1;try{const oe=h.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var x;if(x=oe===0){var B=String(h.D).match(Ai)[1]||null;!B&&g.self&&g.self.location&&(B=g.self.location.protocol.slice(0,-1)),x=!wr.test(B?B.toLowerCase():"")}_=x}if(_)ze(h,"complete"),ze(h,"success");else{h.m=6;try{var Y=2<Bn(h)?h.g.statusText:""}catch{Y=""}h.l=Y+" ["+h.Z()+"]",Sr(h)}}finally{xa(h)}}}}function xa(h,v){if(h.g){Mi(h);const _=h.g,x=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||ze(h,"ready");try{_.onreadystatechange=x}catch{}}}function Mi(h){h.I&&(g.clearTimeout(h.I),h.I=null)}s.isActive=function(){return!!this.g};function Bn(h){return h.g?h.g.readyState:0}s.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),yr(v)}};function Hc(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function _d(h){const v={};h=(h.g&&2<=Bn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<h.length;x++){if(ie(h[x]))continue;var _=O(h[x]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=v[B]||[];v[B]=Y,Y.push(_)}C(v,function(x){return x.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function jr(h){this.Aa=0,this.i=[],this.j=new Vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oi("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oi("baseRetryDelayMs",5e3,h),this.cb=Oi("retryDelaySeedMs",1e4,h),this.Wa=Oi("forwardChannelMaxRetries",2,h),this.wa=Oi("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new qa(h&&h.concurrentRequestLimit),this.Da=new Ci,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=jr.prototype,s.la=8,s.G=1,s.connect=function(h,v,_,x){pt(0),this.W=h,this.H=v||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=Yc(this,null,this.W),Rr(this)};function Jl(h){if(qc(h),h.G==3){var v=h.U++,_=An(h.I);if(rt(_,"SID",h.K),rt(_,"RID",v),rt(_,"TYPE","terminate"),Pi(h,_),v=new mn(h,h.j,v),v.L=2,v.v=ki(An(_)),_=!1,g.navigator&&g.navigator.sendBeacon)try{_=g.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&g.Image&&(new Image().src=v.v,_=!0),_||(v.g=Xc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),wi(v)}Qc(h)}function kr(h){h.g&&(Vi(h),h.g.cancel(),h.g=null)}function qc(h){kr(h),h.u&&(g.clearTimeout(h.u),h.u=null),Ir(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&g.clearTimeout(h.s),h.s=null)}function Rr(h){if(!br(h.h)&&!h.s){h.s=!0;var v=h.Ga;le||D(),_e||(le(),_e=!0),Ue.add(v,h),h.B=0}}function bd(h,v){return Er(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(w(h.Ga,h,v),no(h,h.B)),h.B++,!0)}s.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new mn(this,this.j,h);let Y=this.o;if(this.S&&(Y?(Y=A(Y),S(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(v+=x,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Fc(this,B,v),_=An(this.I),rt(_,"RID",h),rt(_,"CVER",22),this.D&&rt(_,"X-HTTP-Session-Id",this.D),Pi(this,_),Y&&(this.O?v="headers="+encodeURIComponent(String(Zl(Y)))+"&"+v:this.m&&Gt(_,this.m,Y)),Tr(this.h,B),this.Ua&&rt(_,"TYPE","init"),this.P?(rt(_,"$req",v),rt(_,"SID","null"),B.T=!0,aa(B,_,null)):aa(B,_,v),this.G=2}}else this.G==3&&(h?eo(this,h):this.i.length==0||br(this.h)||eo(this))};function eo(h,v){var _;v?_=v.l:_=h.U++;const x=An(h.I);rt(x,"SID",h.K),rt(x,"RID",_),rt(x,"AID",h.T),Pi(h,x),h.m&&h.o&&Gt(x,h.m,h.o),_=new mn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Fc(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Tr(h.h,_),aa(_,x,v)}function Pi(h,v){h.H&&Ne(h.H,function(_,x){rt(v,x,_)}),h.l&&$l({},function(_,x){rt(v,x,_)})}function Fc(h,v,_){_=Math.min(h.i.length,_);var x=h.l?w(h.l.Na,h.l,h):null;e:{var B=h.i;let Y=-1;for(;;){const oe=["count="+_];Y==-1?0<_?(Y=B[0].g,oe.push("ofs="+Y)):Y=0:oe.push("ofs="+Y);let Ge=!0;for(let zt=0;zt<_;zt++){let Ke=B[zt].g;const Kt=B[zt].map;if(Ke-=Y,0>Ke)Y=Math.max(0,B[zt].g-100),Ge=!1;else try{ba(Kt,oe,"req"+Ke+"_")}catch{x&&x(Kt)}}if(Ge){x=oe.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,x}function Gc(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;le||D(),_e||(le(),_e=!0),Ue.add(v,h),h.v=0}}function to(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(w(h.Fa,h),no(h,h.v)),h.v++,!0)}s.Fa=function(){if(this.u=null,Kc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(w(this.ab,this),h)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),kr(this),Kc(this))};function Vi(h){h.A!=null&&(g.clearTimeout(h.A),h.A=null)}function Kc(h){h.g=new mn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=An(h.qa);rt(v,"RID","rpc"),rt(v,"SID",h.K),rt(v,"AID",h.T),rt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&rt(v,"TO",h.ja),rt(v,"TYPE","xmlhttp"),Pi(h,v),h.m&&h.o&&Gt(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=ki(An(v)),_.m=null,_.P=!0,Ha(_,h)}s.Za=function(){this.C!=null&&(this.C=null,kr(this),to(this),pt(19))};function Ir(h){h.C!=null&&(g.clearTimeout(h.C),h.C=null)}function $c(h,v){var _=null;if(h.g==v){Ir(h),Vi(h),h.g=null;var x=2}else if(Gl(h.h,v))_=v.D,pn(h.h,v),x=1;else return;if(h.G!=0){if(v.o)if(x==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var B=h.B;x=As(),ze(x,new Ut(x,_)),Rr(h)}else Gc(h);else if(B=v.s,B==3||B==0&&0<v.X||!(x==1&&bd(h,v)||x==2&&to(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),B){case 1:Ya(h,5);break;case 4:Ya(h,10);break;case 3:Ya(h,6);break;default:Ya(h,2)}}}function no(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Ya(h,v){if(h.j.info("Error code "+v),v==2){var _=w(h.fb,h),x=h.Xa;const B=!x;x=new It(x||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||ji(x,"https"),ki(x),B?Ii(x.toString(),_):sa(x.toString(),_)}else pt(2);h.G=0,h.l&&h.l.sa(v),Qc(h),qc(h)}s.fb=function(h){h?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Qc(h){if(h.G=0,h.ka=[],h.l){const v=Kl(h.h);(v.length!=0||h.i.length!=0)&&(V(h.ka,v),V(h.ka,h.i),h.h.i.length=0,F(h.i),h.i.length=0),h.l.ra()}}function Yc(h,v,_){var x=_ instanceof It?An(_):new It(_);if(x.g!="")v&&(x.g=v+"."+x.g),Cs(x,x.s);else{var B=g.location;x=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var Y=new It(null);x&&ji(Y,x),v&&(Y.g=v),B&&Cs(Y,B),_&&(Y.l=_),x=Y}return _=h.D,v=h.ya,_&&v&&rt(x,_,v),rt(x,"VER",h.la),Pi(h,x),x}function Xc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new nt(new Ds({eb:_})):new nt(h.pa),v.Ha(h.J),v}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wc(){}s=Wc.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Cr(){}Cr.prototype.g=function(h,v){return new gn(h,v)};function gn(h,v){et.call(this),this.g=new jr(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!ie(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!ie(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Na(this)}P(gn,et),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Jl(this.g)},gn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=na(h),h=_);v.i.push(new Lc(v.Ya++,h)),v.G==3&&Rr(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Jl(this.g),delete this.g,gn.aa.N.call(this)};function Zc(h){za.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}P(Zc,za);function Jc(){Bl.call(this),this.status=1}P(Jc,Bl);function Na(h){this.g=h}P(Na,Wc),Na.prototype.ua=function(){ze(this.g,"a")},Na.prototype.ta=function(h){ze(this.g,new Zc(h))},Na.prototype.sa=function(h){ze(this.g,new Jc)},Na.prototype.ra=function(){ze(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Bb=function(){return new Cr},zb=function(){return As()},Ub=pa,qm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rs.NO_ERROR=0,Rs.TIMEOUT=8,Rs.HTTP_ERROR=6,mh=Rs,Ba.COMPLETE="complete",Lb=Ba,zl.EventType=Ua,Ua.OPEN="a",Ua.CLOSE="b",Ua.ERROR="c",Ua.MESSAGE="d",et.prototype.listen=et.prototype.K,Xo=zl,nt.prototype.listenOnce=nt.prototype.L,nt.prototype.getLastError=nt.prototype.Ka,nt.prototype.getLastErrorCode=nt.prototype.Ba,nt.prototype.getStatus=nt.prototype.Z,nt.prototype.getResponseJson=nt.prototype.Oa,nt.prototype.getResponseText=nt.prototype.oa,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Ha,Vb=nt}).apply(typeof nh<"u"?nh:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",E0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let un=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new gp("@firebase/firestore");function ll(){return or.logLevel}function me(s,...e){if(or.logLevel<=qe.DEBUG){const n=e.map(Rp);or.debug(`Firestore (${Rl}): ${s}`,...n)}}function _s(s,...e){if(or.logLevel<=qe.ERROR){const n=e.map(Rp);or.error(`Firestore (${Rl}): ${s}`,...n)}}function _l(s,...e){if(or.logLevel<=qe.WARN){const n=e.map(Rp);or.warn(`Firestore (${Rl}): ${s}`,...n)}}function Rp(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(s="Unexpected state"){const e=`FIRESTORE (${Rl}) INTERNAL ASSERTION FAILED: `+s;throw _s(e),new Error(e)}function at(s,e){s||Re()}function Ce(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ae={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends Ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ij{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(un.UNAUTHENTICATED))}shutdown(){}}class Cj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Dj{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){at(this.o===void 0);let i=this.i;const l=p=>this.i!==i?(i=this.i,n(p)):Promise.resolve();let u=new ps;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ps,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ps)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(at(typeof i.accessToken=="string"),new Hb(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return at(e===null||typeof e=="string"),new un(e)}}class Mj{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Oj{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Mj(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class T0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Pj{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){at(this.o===void 0);const i=u=>{u.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,me("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const l=u=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>l(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?l(u):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new T0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(at(typeof n.token=="string"),this.R=n.token,new T0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vj(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<s;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const l=Vj(40);for(let u=0;u<l.length;++u)i.length<20&&l[u]<n&&(i+=e.charAt(l[u]%62))}return i}}function Ve(s,e){return s<e?-1:s>e?1:0}function Fm(s,e){let n=0;for(;n<s.length&&n<e.length;){const i=s.codePointAt(n),l=e.codePointAt(n);if(i!==l){if(i<128&&l<128)return Ve(i,l);{const u=qb(),f=Lj(u.encode(x0(s,n)),u.encode(x0(e,n)));return f!==0?f:Ve(i,l)}}n+=i>65535?2:1}return Ve(s.length,e.length)}function x0(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function Lj(s,e){for(let n=0;n<s.length&&n<e.length;++n)if(s[n]!==e[n])return Ve(s[n],e[n]);return Ve(s.length,e.length)}function bl(s,e,n){return s.length===e.length&&s.every((i,l)=>n(i,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=-62135596800,w0=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*w0);return new wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new pe(ae.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<N0)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(ae.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/w0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-N0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new wt(0,0))}static max(){return new Ie(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="__name__";class Ia{constructor(e,n,i){n===void 0?n=0:n>e.length&&Re(),i===void 0?i=e.length-n:i>e.length-n&&Re(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Ia.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ia?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let l=0;l<i;l++){const u=Ia.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const i=Ia.isNumericId(e),l=Ia.isNumericId(n);return i&&!l?-1:!i&&l?1:i&&l?Ia.extractNumericId(e).compare(Ia.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ci.fromString(e.substring(4,e.length-2))}}class ft extends Ia{construct(e,n,i){return new ft(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new pe(ae.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(l=>l.length>0))}return new ft(n)}static emptyPath(){return new ft([])}}const Uj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class an extends Ia{construct(e,n,i){return new an(e,n,i)}static isValidIdentifier(e){return Uj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),an.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===S0}static keyField(){return new an([S0])}static fromServerFormat(e){const n=[];let i="",l=0;const u=()=>{if(i.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let f=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new pe(ae.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new pe(ae.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,l+=2}else g==="`"?(f=!f,l++):g!=="."||f?(i+=g,l++):(u(),l++)}if(u(),f)throw new pe(ae.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new an(n)}static emptyPath(){return new an([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.path=e}static fromPath(e){return new xe(ft.fromString(e))}static fromName(e){return new xe(ft.fromString(e).popFirst(5))}static empty(){return new xe(ft.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ft.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ft.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new ft(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=-1;function zj(s,e){const n=s.toTimestamp().seconds,i=s.toTimestamp().nanoseconds+1,l=Ie.fromTimestamp(i===1e9?new wt(n+1,0):new wt(n,i));return new di(l,xe.empty(),e)}function Bj(s){return new di(s.readTime,s.key,hc)}class di{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new di(Ie.min(),xe.empty(),hc)}static max(){return new di(Ie.max(),xe.empty(),hc)}}function Hj(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=xe.comparator(s.documentKey,e.documentKey),n!==0?n:Ve(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(s){if(s.code!==ae.FAILED_PRECONDITION||s.message!==qj)throw s;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne((i,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(i,l)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ne.reject(n)}static resolve(e){return new ne((n,i)=>{n(e)})}static reject(e){return new ne((n,i)=>{i(e)})}static waitFor(e){return new ne((n,i)=>{let l=0,u=0,f=!1;e.forEach(g=>{++l,g.next(()=>{++u,f&&u===l&&n()},p=>i(p))}),f=!0,u===l&&n()})}static or(e){let n=ne.resolve(!1);for(const i of e)n=n.next(l=>l?ne.resolve(l):i());return n}static forEach(e,n){const i=[];return e.forEach((l,u)=>{i.push(n.call(this,l,u))}),this.waitFor(i)}static mapArray(e,n){return new ne((i,l)=>{const u=e.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(E=>{f[y]=E,++g,g===u&&i(f)},E=>l(E))}})}static doWhile(e,n){return new ne((i,l)=>{const u=()=>{e()===!0?n().next(()=>{u()},l):i()};u()})}}function Gj(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Xh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Wh(s){return s==null}function kh(s){return s===0&&1/s==-1/0}function Kj(s){return typeof s=="number"&&Number.isInteger(s)&&!kh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="";function $j(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=A0(e)),e=Qj(s.get(n),e);return A0(e)}function Qj(s,e){let n=e;const i=s.length;for(let l=0;l<i;l++){const u=s.charAt(l);switch(u){case"\0":n+="";break;case Gb:n+="";break;default:n+=u}}return n}function A0(s){return s+Gb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function fr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function Kb(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n){this.comparator=e,this.root=n||nn.EMPTY}insert(e,n){return new Et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new Et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const l=this.comparator(e,i.key);if(l===0)return n+i.left.size;l<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,i,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?i(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,n,i,l,u){this.key=e,this.value=n,this.color=i??nn.RED,this.left=l??nn.EMPTY,this.right=u??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,l,u){return new nn(e??this.key,n??this.value,i??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let l=this;const u=i(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,i),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,i)),l.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return nn.EMPTY;i=l.right.min(),l=l.copy(i.key,i.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,n,i,l,u){return this}insert(e,n,i){return new nn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new Et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const l=i.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new k0(this.data.getIterator())}getIteratorFrom(e){return new k0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ft(this.comparator);return n.data=e,n}}class k0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.fields=e,e.sort(an.comparator)}static empty(){return new ca([])}unionWith(e){let n=new Ft(an.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ca(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return bl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new $b("Invalid base64 string: "+u):u}}(e);return new sn(n)}static fromUint8Array(e){const n=function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u}(e);return new sn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let l=0;l<n.length;l++)i[l]=n.charCodeAt(l);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}sn.EMPTY_BYTE_STRING=new sn("");const Yj=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fi(s){if(at(!!s),typeof s=="string"){let e=0;const n=Yj.exec(s);if(at(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const i=new Date(s);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:kt(s.seconds),nanos:kt(s.nanos)}}function kt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function mi(s){return typeof s=="string"?sn.fromBase64String(s):sn.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb="server_timestamp",Yb="__type__",Xb="__previous_value__",Wb="__local_write_time__";function Cp(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Yb])===null||n===void 0?void 0:n.stringValue)===Qb}function Zh(s){const e=s.mapValue.fields[Xb];return Cp(e)?Zh(e):e}function dc(s){const e=fi(s.mapValue.fields[Wb].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,i,l,u,f,g,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const Rh="(default)";class fc{constructor(e,n){this.projectId=e,this.database=n||Rh}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database===Rh}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="__type__",Wj="__max__",sh={mapValue:{}},Jb="__vector__",Ih="value";function pi(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Cp(s)?4:Jj(s)?9007199254740991:Zj(s)?10:11:Re()}function Oa(s,e){if(s===e)return!0;const n=pi(s);if(n!==pi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return dc(s).isEqual(dc(e));case 3:return function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=fi(l.timestampValue),g=fi(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(l,u){return mi(l.bytesValue).isEqual(mi(u.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(l,u){return kt(l.geoPointValue.latitude)===kt(u.geoPointValue.latitude)&&kt(l.geoPointValue.longitude)===kt(u.geoPointValue.longitude)}(s,e);case 2:return function(l,u){if("integerValue"in l&&"integerValue"in u)return kt(l.integerValue)===kt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=kt(l.doubleValue),g=kt(u.doubleValue);return f===g?kh(f)===kh(g):isNaN(f)&&isNaN(g)}return!1}(s,e);case 9:return bl(s.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return function(l,u){const f=l.mapValue.fields||{},g=u.mapValue.fields||{};if(j0(f)!==j0(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Oa(f[p],g[p])))return!1;return!0}(s,e);default:return Re()}}function mc(s,e){return(s.values||[]).find(n=>Oa(n,e))!==void 0}function El(s,e){if(s===e)return 0;const n=pi(s),i=pi(e);if(n!==i)return Ve(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(s.booleanValue,e.booleanValue);case 2:return function(u,f){const g=kt(u.integerValue||u.doubleValue),p=kt(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(s,e);case 3:return R0(s.timestampValue,e.timestampValue);case 4:return R0(dc(s),dc(e));case 5:return Fm(s.stringValue,e.stringValue);case 6:return function(u,f){const g=mi(u),p=mi(f);return g.compareTo(p)}(s.bytesValue,e.bytesValue);case 7:return function(u,f){const g=u.split("/"),p=f.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Ve(g[y],p[y]);if(E!==0)return E}return Ve(g.length,p.length)}(s.referenceValue,e.referenceValue);case 8:return function(u,f){const g=Ve(kt(u.latitude),kt(f.latitude));return g!==0?g:Ve(kt(u.longitude),kt(f.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return I0(s.arrayValue,e.arrayValue);case 10:return function(u,f){var g,p,y,E;const N=u.fields||{},w=f.fields||{},M=(g=N[Ih])===null||g===void 0?void 0:g.arrayValue,P=(p=w[Ih])===null||p===void 0?void 0:p.arrayValue,F=Ve(((y=M==null?void 0:M.values)===null||y===void 0?void 0:y.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:I0(M,P)}(s.mapValue,e.mapValue);case 11:return function(u,f){if(u===sh.mapValue&&f===sh.mapValue)return 0;if(u===sh.mapValue)return 1;if(f===sh.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),y=f.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let N=0;N<p.length&&N<E.length;++N){const w=Fm(p[N],E[N]);if(w!==0)return w;const M=El(g[p[N]],y[E[N]]);if(M!==0)return M}return Ve(p.length,E.length)}(s.mapValue,e.mapValue);default:throw Re()}}function R0(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Ve(s,e);const n=fi(s),i=fi(e),l=Ve(n.seconds,i.seconds);return l!==0?l:Ve(n.nanos,i.nanos)}function I0(s,e){const n=s.values||[],i=e.values||[];for(let l=0;l<n.length&&l<i.length;++l){const u=El(n[l],i[l]);if(u)return u}return Ve(n.length,i.length)}function Tl(s){return Gm(s)}function Gm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(n){const i=fi(n);return`time(${i.seconds},${i.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(n){return mi(n).toBase64()}(s.bytesValue):"referenceValue"in s?function(n){return xe.fromName(n).toString()}(s.referenceValue):"geoPointValue"in s?function(n){return`geo(${n.latitude},${n.longitude})`}(s.geoPointValue):"arrayValue"in s?function(n){let i="[",l=!0;for(const u of n.values||[])l?l=!1:i+=",",i+=Gm(u);return i+"]"}(s.arrayValue):"mapValue"in s?function(n){const i=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of i)u?u=!1:l+=",",l+=`${f}:${Gm(n.fields[f])}`;return l+"}"}(s.mapValue):Re()}function ph(s){switch(pi(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zh(s);return e?16+ph(e):16;case 5:return 2*s.stringValue.length;case 6:return mi(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((l,u)=>l+ph(u),0)}(s.arrayValue);case 10:case 11:return function(i){let l=0;return fr(i.fields,(u,f)=>{l+=u.length+ph(f)}),l}(s.mapValue);default:throw Re()}}function C0(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Km(s){return!!s&&"integerValue"in s}function Dp(s){return!!s&&"arrayValue"in s}function D0(s){return!!s&&"nullValue"in s}function M0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function gh(s){return!!s&&"mapValue"in s}function Zj(s){var e,n;return((n=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[Zb])===null||n===void 0?void 0:n.stringValue)===Jb}function tc(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return fr(s.mapValue.fields,(n,i)=>e.mapValue.fields[n]=tc(i)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(s.arrayValue.values[n]);return e}return Object.assign({},s)}function Jj(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===Wj}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!gh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=an.emptyPath(),i={},l=[];e.forEach((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,i,l),i={},l=[],n=g.popLast()}f?i[g.lastSegment()]=tc(f):l.push(g.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,i,l)}delete(e){const n=this.field(e.popLast());gh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let l=n.mapValue.fields[e.get(i)];gh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,i){fr(n,(l,u)=>e[l]=u);for(const l of i)delete e[l]}clone(){return new Yn(tc(this.value))}}function eE(s){const e=[];return fr(s.fields,(n,i)=>{const l=new an([n]);if(gh(i)){const u=eE(i.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)}),new ca(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e,n,i,l,u,f,g){this.key=e,this.documentType=n,this.version=i,this.readTime=l,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(e){return new hn(e,0,Ie.min(),Ie.min(),Ie.min(),Yn.empty(),0)}static newFoundDocument(e,n,i,l){return new hn(e,1,n,Ie.min(),i,l,0)}static newNoDocument(e,n){return new hn(e,2,n,Ie.min(),Ie.min(),Yn.empty(),0)}static newUnknownDocument(e,n){return new hn(e,3,n,Ie.min(),Ie.min(),Yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof hn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function O0(s,e,n){let i=0;for(let l=0;l<s.position.length;l++){const u=e[l],f=s.position[l];if(u.field.isKeyField()?i=xe.comparator(xe.fromName(f.referenceValue),n.key):i=El(f,n.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function P0(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Oa(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(e,n="asc"){this.field=e,this.dir=n}}function ek(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{}class Ot extends tE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new nk(e,n,i):n==="array-contains"?new ik(e,i):n==="in"?new rk(e,i):n==="not-in"?new lk(e,i):n==="array-contains-any"?new ok(e,i):new Ot(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new ak(e,i):new sk(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(El(n,this.value)):n!==null&&pi(this.value)===pi(n)&&this.matchesComparison(El(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fa extends tE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fa(e,n)}matches(e){return nE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function nE(s){return s.op==="and"}function aE(s){return tk(s)&&nE(s)}function tk(s){for(const e of s.filters)if(e instanceof fa)return!1;return!0}function $m(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+Tl(s.value);if(aE(s))return s.filters.map(e=>$m(e)).join(",");{const e=s.filters.map(n=>$m(n)).join(",");return`${s.op}(${e})`}}function sE(s,e){return s instanceof Ot?function(i,l){return l instanceof Ot&&i.op===l.op&&i.field.isEqual(l.field)&&Oa(i.value,l.value)}(s,e):s instanceof fa?function(i,l){return l instanceof fa&&i.op===l.op&&i.filters.length===l.filters.length?i.filters.reduce((u,f,g)=>u&&sE(f,l.filters[g]),!0):!1}(s,e):void Re()}function iE(s){return s instanceof Ot?function(n){return`${n.field.canonicalString()} ${n.op} ${Tl(n.value)}`}(s):s instanceof fa?function(n){return n.op.toString()+" {"+n.getFilters().map(iE).join(" ,")+"}"}(s):"Filter"}class nk extends Ot{constructor(e,n,i){super(e,n,i),this.key=xe.fromName(i.referenceValue)}matches(e){const n=xe.comparator(e.key,this.key);return this.matchesComparison(n)}}class ak extends Ot{constructor(e,n){super(e,"in",n),this.keys=rE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class sk extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=rE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function rE(s,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>xe.fromName(i.referenceValue))}class ik extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Dp(n)&&mc(n.arrayValue,this.value)}}class rk extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mc(this.value.arrayValue,n)}}class lk extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(mc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!mc(this.value.arrayValue,n)}}class ok extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Dp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>mc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n=null,i=[],l=[],u=null,f=null,g=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=l,this.limit=u,this.startAt=f,this.endAt=g,this.le=null}}function V0(s,e=null,n=[],i=[],l=null,u=null,f=null){return new ck(s,e,n,i,l,u,f)}function Mp(s){const e=Ce(s);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>$m(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),Wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Tl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Tl(i)).join(",")),e.le=n}return e.le}function Op(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!ek(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!sE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!P0(s.startAt,e.startAt)&&P0(s.endAt,e.endAt)}function Qm(s){return xe.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e,n=null,i=[],l=[],u=null,f="F",g=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=l,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uk(s,e,n,i,l,u,f,g){return new Ac(s,e,n,i,l,u,f,g)}function Pp(s){return new Ac(s)}function L0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function lE(s){return s.collectionGroup!==null}function nc(s){const e=Ce(s);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ft(an.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Dh(u,i))}),n.has(an.keyField().canonicalString())||e.he.push(new Dh(an.keyField(),i))}return e.he}function Da(s){const e=Ce(s);return e.Pe||(e.Pe=hk(e,nc(s))),e.Pe}function hk(s,e){if(s.limitType==="F")return V0(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(l=>{const u=l.dir==="desc"?"asc":"desc";return new Dh(l.field,u)});const n=s.endAt?new Ch(s.endAt.position,s.endAt.inclusive):null,i=s.startAt?new Ch(s.startAt.position,s.startAt.inclusive):null;return V0(s.path,s.collectionGroup,e,s.filters,s.limit,n,i)}}function Ym(s,e){const n=s.filters.concat([e]);return new Ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function Xm(s,e,n){return new Ac(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function Jh(s,e){return Op(Da(s),Da(e))&&s.limitType===e.limitType}function oE(s){return`${Mp(Da(s))}|lt:${s.limitType}`}function ol(s){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(l=>iE(l)).join(", ")}]`),Wh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(l=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(l)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(l=>Tl(l)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(l=>Tl(l)).join(",")),`Target(${i})`}(Da(s))}; limitType=${s.limitType})`}function ed(s,e){return e.isFoundDocument()&&function(i,l){const u=l.key.path;return i.collectionGroup!==null?l.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):xe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,e)&&function(i,l){for(const u of nc(i))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0}(s,e)&&function(i,l){for(const u of i.filters)if(!u.matches(l))return!1;return!0}(s,e)&&function(i,l){return!(i.startAt&&!function(f,g,p){const y=O0(f,g,p);return f.inclusive?y<=0:y<0}(i.startAt,nc(i),l)||i.endAt&&!function(f,g,p){const y=O0(f,g,p);return f.inclusive?y>=0:y>0}(i.endAt,nc(i),l))}(s,e)}function dk(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function cE(s){return(e,n)=>{let i=!1;for(const l of nc(s)){const u=fk(l,e,n);if(u!==0)return u;i=i||l.field.isKeyField()}return 0}}function fk(s,e,n){const i=s.field.isKeyField()?xe.comparator(e.key,n.key):function(u,f,g){const p=f.data.field(u),y=g.data.field(u);return p!==null&&y!==null?El(p,y):Re()}(s.field,e,n);switch(s.dir){case"asc":return i;case"desc":return-1*i;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[l,u]of i)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),l=this.inner[i];if(l===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return i.length===1?delete this.inner[n]:i.splice(l,1),this.innerSize--,!0;return!1}forEach(e){fr(this.inner,(n,i)=>{for(const[l,u]of i)e(l,u)})}isEmpty(){return Kb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=new Et(xe.comparator);function bs(){return mk}const uE=new Et(xe.comparator);function Wo(...s){let e=uE;for(const n of s)e=e.insert(n.key,n);return e}function hE(s){let e=uE;return s.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function tr(){return ac()}function dE(){return ac()}function ac(){return new mr(s=>s.toString(),(s,e)=>s.isEqual(e))}const pk=new Et(xe.comparator),gk=new Ft(xe.comparator);function Fe(...s){let e=gk;for(const n of s)e=e.add(n);return e}const yk=new Ft(Ve);function vk(){return yk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kh(e)?"-0":e}}function fE(s){return{integerValue:""+s}}function _k(s,e){return Kj(e)?fE(e):Vp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function bk(s,e,n){return s instanceof Mh?function(l,u){const f={fields:{[Yb]:{stringValue:Qb},[Wb]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Cp(u)&&(u=Zh(u)),u&&(f.fields[Xb]=u),{mapValue:f}}(n,e):s instanceof pc?pE(s,e):s instanceof gc?gE(s,e):function(l,u){const f=mE(l,u),g=U0(f)+U0(l.Ie);return Km(f)&&Km(l.Ie)?fE(g):Vp(l.serializer,g)}(s,e)}function Ek(s,e,n){return s instanceof pc?pE(s,e):s instanceof gc?gE(s,e):n}function mE(s,e){return s instanceof Oh?function(i){return Km(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Mh extends td{}class pc extends td{constructor(e){super(),this.elements=e}}function pE(s,e){const n=yE(e);for(const i of s.elements)n.some(l=>Oa(l,i))||n.push(i);return{arrayValue:{values:n}}}class gc extends td{constructor(e){super(),this.elements=e}}function gE(s,e){let n=yE(e);for(const i of s.elements)n=n.filter(l=>!Oa(l,i));return{arrayValue:{values:n}}}class Oh extends td{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function U0(s){return kt(s.integerValue||s.doubleValue)}function yE(s){return Dp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function Tk(s,e){return s.field.isEqual(e.field)&&function(i,l){return i instanceof pc&&l instanceof pc||i instanceof gc&&l instanceof gc?bl(i.elements,l.elements,Oa):i instanceof Oh&&l instanceof Oh?Oa(i.Ie,l.Ie):i instanceof Mh&&l instanceof Mh}(s.transform,e.transform)}class xk{constructor(e,n){this.version=e,this.transformResults=n}}class ha{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ha}static exists(e){return new ha(void 0,e)}static updateTime(e){return new ha(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class nd{}function vE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Lp(s.key,ha.none()):new jc(s.key,s.data,ha.none());{const n=s.data,i=Yn.empty();let l=new Ft(an.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?i.delete(u):i.set(u,f),l=l.add(u)}return new pr(s.key,i,new ca(l.toArray()),ha.none())}}function Nk(s,e,n){s instanceof jc?function(l,u,f){const g=l.value.clone(),p=B0(l.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(s,e,n):s instanceof pr?function(l,u,f){if(!yh(l.precondition,u))return void u.convertToUnknownDocument(f.version);const g=B0(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(_E(l)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(s,e,n):function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function sc(s,e,n,i){return s instanceof jc?function(u,f,g,p){if(!yh(u.precondition,f))return g;const y=u.value.clone(),E=H0(u.fieldTransforms,p,f);return y.setAll(E),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(s,e,n,i):s instanceof pr?function(u,f,g,p){if(!yh(u.precondition,f))return g;const y=H0(u.fieldTransforms,p,f),E=f.data;return E.setAll(_E(u)),E.setAll(y),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(N=>N.field))}(s,e,n,i):function(u,f,g){return yh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g}(s,e,n)}function wk(s,e){let n=null;for(const i of s.fieldTransforms){const l=e.data.field(i.field),u=mE(i.transform,l||null);u!=null&&(n===null&&(n=Yn.empty()),n.set(i.field,u))}return n||null}function z0(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(i,l){return i===void 0&&l===void 0||!(!i||!l)&&bl(i,l,(u,f)=>Tk(u,f))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class jc extends nd{constructor(e,n,i,l=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class pr extends nd{constructor(e,n,i,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function _E(s){const e=new Map;return s.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=s.data.field(n);e.set(n,i)}}),e}function B0(s,e,n){const i=new Map;at(s.length===n.length);for(let l=0;l<n.length;l++){const u=s[l],f=u.transform,g=e.data.field(u.field);i.set(u.field,Ek(f,g,n[l]))}return i}function H0(s,e,n){const i=new Map;for(const l of s){const u=l.transform,f=n.data.field(l.field);i.set(l.field,bk(u,f,e))}return i}class Lp extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sk extends nd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n,i,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=l}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&Nk(u,e,i[l])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=sc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=sc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=dE();return this.mutations.forEach(l=>{const u=e.get(l.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(l.key)?null:g;const p=vE(f,g);p!==null&&i.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&bl(this.mutations,e.mutations,(n,i)=>z0(n,i))&&bl(this.baseMutations,e.baseMutations,(n,i)=>z0(n,i))}}class Up{constructor(e,n,i,l){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=l}static from(e,n,i){at(e.mutations.length===i.length);let l=function(){return pk}();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,i[f].version);return new Up(e,n,i,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Qe;function Rk(s){switch(s){case ae.OK:return Re();case ae.CANCELLED:case ae.UNKNOWN:case ae.DEADLINE_EXCEEDED:case ae.RESOURCE_EXHAUSTED:case ae.INTERNAL:case ae.UNAVAILABLE:case ae.UNAUTHENTICATED:return!1;case ae.INVALID_ARGUMENT:case ae.NOT_FOUND:case ae.ALREADY_EXISTS:case ae.PERMISSION_DENIED:case ae.FAILED_PRECONDITION:case ae.ABORTED:case ae.OUT_OF_RANGE:case ae.UNIMPLEMENTED:case ae.DATA_LOSS:return!0;default:return Re()}}function bE(s){if(s===void 0)return _s("GRPC error has no .code"),ae.UNKNOWN;switch(s){case Mt.OK:return ae.OK;case Mt.CANCELLED:return ae.CANCELLED;case Mt.UNKNOWN:return ae.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ae.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ae.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ae.INTERNAL;case Mt.UNAVAILABLE:return ae.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ae.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ae.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ae.NOT_FOUND;case Mt.ALREADY_EXISTS:return ae.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ae.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ae.FAILED_PRECONDITION;case Mt.ABORTED:return ae.ABORTED;case Mt.OUT_OF_RANGE:return ae.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ae.UNIMPLEMENTED;case Mt.DATA_LOSS:return ae.DATA_LOSS;default:return Re()}}(Qe=Mt||(Mt={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ik=new ci([4294967295,4294967295],0);function q0(s){const e=qb().encode(s),n=new Pb;return n.update(e),new Uint8Array(n.digest())}function F0(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ci([n,i],0),new ci([l,u],0)]}class zp{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Zo(`Invalid padding: ${n}`);if(i<0)throw new Zo(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ci.fromNumber(this.Ee)}Ae(e,n,i){let l=e.add(n.multiply(ci.fromNumber(i)));return l.compare(Ik)===1&&(l=new ci([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=q0(e),[i,l]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(i,l,u);if(!this.Re(f))return!1}return!0}static create(e,n,i){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new zp(u,l,n);return i.forEach(g=>f.insert(g)),f}insert(e){if(this.Ee===0)return;const n=q0(e),[i,l]=F0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(i,l,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n,i,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const l=new Map;return l.set(e,kc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new ad(Ie.min(),l,new Et(Ve),bs(),Fe())}}class kc{constructor(e,n,i,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new kc(i,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,i,l){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=l}}class EE{constructor(e,n){this.targetId=e,this.ge=n}}class TE{constructor(e,n,i=sn.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=l}}class G0{constructor(){this.pe=0,this.ye=K0(),this.we=sn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),n=Fe(),i=Fe();return this.ye.forEach((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:i=i.add(l);break;default:Re()}}),new kc(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=K0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,at(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Ck{constructor(e){this.ke=e,this.qe=new Map,this.Qe=bs(),this.$e=ih(),this.Ue=ih(),this.Ke=new Et(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Re()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,l)=>{this.Je(l)&&n(l)})}Ze(e){const n=e.targetId,i=e.ge.count,l=this.Xe(n);if(l){const u=l.target;if(Qm(u))if(i===0){const f=new xe(u.path);this.ze(n,f,hn.newNoDocument(f,Ie.min()))}else at(i===1);else{const f=this.et(n);if(f!==i){const g=this.tt(e),p=g?this.nt(g,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:l=0},hashCount:u=0}=n;let f,g;try{f=mi(i).toUint8Array()}catch(p){if(p instanceof $b)return _l("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new zp(f,l,u)}catch(p){return _l(p instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let l=0;return i.forEach(u=>{const f=this.ke.it(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(g)||(this.ze(n,u,null),l++)}),l}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const g=this.Xe(f);if(g){if(u.current&&Qm(g.target)){const p=new xe(g.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,hn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let i=Fe();this.Ue.forEach((u,f)=>{let g=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(i=i.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const l=new ad(e,n,this.Ke,this.Qe,i);return this.Qe=bs(),this.$e=ih(),this.Ue=ih(),this.Ke=new Et(Ve),l}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const l=this.He(e);this.ut(e,n)?l.xe(n,1):l.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new G0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Ft(Ve),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ft(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new G0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function ih(){return new Et(xe.comparator)}function K0(){return new Et(xe.comparator)}const Dk={asc:"ASCENDING",desc:"DESCENDING"},Mk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ok={and:"AND",or:"OR"};class Pk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Wm(s,e){return s.useProto3Json||Wh(e)?e:{value:e}}function Ph(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function Vk(s,e){return Ph(s,e.toTimestamp())}function Ma(s){return at(!!s),Ie.fromTimestamp(function(n){const i=fi(n);return new wt(i.seconds,i.nanos)}(s))}function Bp(s,e){return Zm(s,e).canonicalString()}function Zm(s,e){const n=function(l){return new ft(["projects",l.projectId,"databases",l.database])}(s).child("documents");return e===void 0?n:n.child(e)}function NE(s){const e=ft.fromString(s);return at(kE(e)),e}function Jm(s,e){return Bp(s.databaseId,e.path)}function Am(s,e){const n=NE(e);if(n.get(1)!==s.databaseId.projectId)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new pe(ae.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new xe(SE(n))}function wE(s,e){return Bp(s.databaseId,e)}function Lk(s){const e=NE(s);return e.length===4?ft.emptyPath():SE(e)}function ep(s){return new ft(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function SE(s){return at(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function $0(s,e,n){return{name:Jm(s,e),fields:n.value.mapValue.fields}}function Uk(s,e){let n;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(at(E===void 0||typeof E=="string"),sn.fromBase64String(E||"")):(at(E===void 0||E instanceof Buffer||E instanceof Uint8Array),sn.fromUint8Array(E||new Uint8Array))}(s,e.targetChange.resumeToken),f=e.targetChange.cause,g=f&&function(y){const E=y.code===void 0?ae.UNKNOWN:bE(y.code);return new pe(E,y.message||"")}(f);n=new TE(i,l,u,g||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const l=Am(s,i.document.name),u=Ma(i.document.updateTime),f=i.document.createTime?Ma(i.document.createTime):Ie.min(),g=new Yn({mapValue:{fields:i.document.fields}}),p=hn.newFoundDocument(l,u,f,g),y=i.targetIds||[],E=i.removedTargetIds||[];n=new vh(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const l=Am(s,i.document),u=i.readTime?Ma(i.readTime):Ie.min(),f=hn.newNoDocument(l,u),g=i.removedTargetIds||[];n=new vh([],g,f.key,f)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const l=Am(s,i.document),u=i.removedTargetIds||[];n=new vh([],u,l,null)}else{if(!("filter"in e))return Re();{e.filter;const i=e.filter;i.targetId;const{count:l=0,unchangedNames:u}=i,f=new kk(l,u),g=i.targetId;n=new EE(g,f)}}return n}function zk(s,e){let n;if(e instanceof jc)n={update:$0(s,e.key,e.value)};else if(e instanceof Lp)n={delete:Jm(s,e.key)};else if(e instanceof pr)n={update:$0(s,e.key,e.data),updateMask:Yk(e.fieldMask)};else{if(!(e instanceof Sk))return Re();n={verify:Jm(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(u,f){const g=f.transform;if(g instanceof Mh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof pc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof gc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Oh)return{fieldPath:f.field.canonicalString(),increment:g.Ie};throw Re()}(0,i))),e.precondition.isNone||(n.currentDocument=function(l,u){return u.updateTime!==void 0?{updateTime:Vk(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re()}(s,e.precondition)),n}function Bk(s,e){return s&&s.length>0?(at(e!==void 0),s.map(n=>function(l,u){let f=l.updateTime?Ma(l.updateTime):Ma(u);return f.isEqual(Ie.min())&&(f=Ma(u)),new xk(f,l.transformResults||[])}(n,e))):[]}function Hk(s,e){return{documents:[wE(s,e.path)]}}function qk(s,e){const n={structuredQuery:{}},i=e.path;let l;e.collectionGroup!==null?(l=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=wE(s,l);const u=function(y){if(y.length!==0)return jE(fa.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(E=>function(w){return{field:cl(w.field),direction:Kk(w.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const g=Wm(s,e.limit);return g!==null&&(n.structuredQuery.limit=g),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:l}}function Fk(s){let e=Lk(s.parent);const n=s.structuredQuery,i=n.from?n.from.length:0;let l=null;if(i>0){at(i===1);const E=n.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(N){const w=AE(N);return w instanceof fa&&aE(w)?w.getFilters():[w]}(n.where));let f=[];n.orderBy&&(f=function(N){return N.map(w=>function(P){return new Dh(ul(P.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let g=null;n.limit&&(g=function(N){let w;return w=typeof N=="object"?N.value:N,Wh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(N){const w=!!N.before,M=N.values||[];return new Ch(M,w)}(n.startAt));let y=null;return n.endAt&&(y=function(N){const w=!N.before,M=N.values||[];return new Ch(M,w)}(n.endAt)),uk(e,l,f,u,g,"F",p,y)}function Gk(s,e){const n=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function AE(s){return s.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ul(n.unaryFilter.field);return Ot.create(i,"==",{doubleValue:NaN});case"IS_NULL":const l=ul(n.unaryFilter.field);return Ot.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ul(n.unaryFilter.field);return Ot.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ul(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(s):s.fieldFilter!==void 0?function(n){return Ot.create(ul(n.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(n.fieldFilter.op),n.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(n){return fa.create(n.compositeFilter.filters.map(i=>AE(i)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Re()}}(n.compositeFilter.op))}(s):Re()}function Kk(s){return Dk[s]}function $k(s){return Mk[s]}function Qk(s){return Ok[s]}function cl(s){return{fieldPath:s.canonicalString()}}function ul(s){return an.fromServerFormat(s.fieldPath)}function jE(s){return s instanceof Ot?function(n){if(n.op==="=="){if(M0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NAN"}};if(D0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(M0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NAN"}};if(D0(n.value))return{unaryFilter:{field:cl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:cl(n.field),op:$k(n.op),value:n.value}}}(s):s instanceof fa?function(n){const i=n.getFilters().map(l=>jE(l));return i.length===1?i[0]:{compositeFilter:{op:Qk(n.op),filters:i}}}(s):Re()}function Yk(s){const e=[];return s.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n,i,l,u=Ie.min(),f=Ie.min(),g=sn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new ii(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ii(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.Tt=e}}function Wk(s){const e=Fk({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.Tn=new Jk}addToCollectionParentIndex(e,n){return this.Tn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(di.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(di.min())}updateCollectionGroup(e,n,i){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class Jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n]||new Ft(ft.comparator),u=!l.has(i);return this.index[n]=l.add(i),u}has(e){const n=e.lastSegment(),i=e.popLast(),l=this.index[n];return l&&l.has(i)}getEntries(e){return(this.index[e]||new Ft(ft.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},RE=41943040;class Nn{static withCacheSize(e){return new Nn(e,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nn.DEFAULT_COLLECTION_PERCENTILE=10,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Nn.DEFAULT=new Nn(RE,Nn.DEFAULT_COLLECTION_PERCENTILE,Nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Nn.DISABLED=new Nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new xl(0)}static Kn(){return new xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="LruGarbageCollector",eR=1048576;function X0([s,e],[n,i]){const l=Ve(s,n);return l===0?Ve(e,i):l}class tR{constructor(e){this.Hn=e,this.buffer=new Ft(X0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();X0(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nR{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(Y0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?me(Y0,"Ignoring IndexedDB error during garbage collection: ",n):await Il(n)}await this.er(3e5)})}}class aR{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(Xh.ae);const i=new tR(n);return this.tr.forEachTarget(e,l=>i.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>i.Zn(l))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(Q0)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,l,u,f,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,f=Date.now(),this.nthSequenceNumber(e,l))).next(N=>(i=N,g=Date.now(),this.removeTargets(e,i,n))).next(N=>(u=N,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(N=>(y=Date.now(),ll()<=qe.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${l} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${N} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:N})))}}function sR(s,e){return new aR(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new mr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,hn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ne.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e,n,i,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=l}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(l=>(i=l,this.remoteDocumentCache.getEntry(e,n))).next(l=>(i!==null&&sc(i.mutation,l,ca.empty(),wt.now()),l))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Fe()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Fe()){const l=tr();return this.populateOverlays(e,l,n).next(()=>this.computeViews(e,n,l,i).next(u=>{let f=Wo();return u.forEach((g,p)=>{f=f.insert(g,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const i=tr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Fe()))}populateOverlays(e,n,i){const l=[];return i.forEach(u=>{n.has(u)||l.push(u)}),this.documentOverlayCache.getOverlays(e,l).next(u=>{u.forEach((f,g)=>{n.set(f,g)})})}computeViews(e,n,i,l){let u=bs();const f=ac(),g=function(){return ac()}();return n.forEach((p,y)=>{const E=i.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof pr)?u=u.insert(y.key,y):E!==void 0?(f.set(y.key,E.mutation.getFieldMask()),sc(E.mutation,y,E.mutation.getFieldMask(),wt.now())):f.set(y.key,ca.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,E)=>f.set(y,E)),n.forEach((y,E)=>{var N;return g.set(y,new rR(E,(N=f.get(y))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,n){const i=ac();let l=new Et((f,g)=>f-g),u=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const g of f)g.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let E=i.get(p)||ca.empty();E=g.applyToLocalView(y,E),i.set(p,E);const N=(l.get(g.batchId)||Fe()).add(p);l=l.insert(g.batchId,N)})}).next(()=>{const f=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,N=dE();E.forEach(w=>{if(!u.has(w)){const M=vE(n.get(w),i.get(w));M!==null&&N.set(w,M),u=u.add(w)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,N))}return ne.waitFor(f)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,l){return function(f){return xe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):lE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,l):this.getDocumentsMatchingCollectionQuery(e,n,i,l)}getNextDocuments(e,n,i,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,l).next(u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,l-u.size):ne.resolve(tr());let g=hc,p=u;return f.next(y=>ne.forEach(y,(E,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),u.get(E)?ne.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Fe())).next(E=>({batchId:g,changes:hE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xe(n)).next(i=>{let l=Wo();return i.isFoundDocument()&&(l=l.insert(i.key,i)),l})}getDocumentsMatchingCollectionGroupQuery(e,n,i,l){const u=n.collectionGroup;let f=Wo();return this.indexManager.getCollectionParents(e,u).next(g=>ne.forEach(g,p=>{const y=function(N,w){return new Ac(w,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,l).next(E=>{E.forEach((N,w)=>{f=f.insert(N,w)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,i,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,u,l))).next(f=>{u.forEach((p,y)=>{const E=y.getKey();f.get(E)===null&&(f=f.insert(E,hn.newInvalidDocument(E)))});let g=Wo();return f.forEach((p,y)=>{const E=u.get(p);E!==void 0&&sc(E.mutation,y,ca.empty(),wt.now()),ed(n,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ne.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(l){return{id:l.id,version:l.version,createTime:Ma(l.createTime)}}(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(l){return{name:l.name,query:Wk(l.bundledQuery),readTime:Ma(l.readTime)}}(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(){this.overlays=new Et(xe.comparator),this.Rr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const i=tr();return ne.forEach(n,l=>this.getOverlay(e,l).next(u=>{u!==null&&i.set(l,u)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((l,u)=>{this.Et(e,n,u)}),ne.resolve()}removeOverlaysForBatchId(e,n,i){const l=this.Rr.get(i);return l!==void 0&&(l.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),ne.resolve()}getOverlaysForCollection(e,n,i){const l=tr(),u=n.length+1,f=new xe(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>i&&l.set(p.getKey(),p)}return ne.resolve(l)}getOverlaysForCollectionGroup(e,n,i,l){let u=new Et((y,E)=>y-E);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>i){let E=u.get(y.largestBatchId);E===null&&(E=tr(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=tr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=l)););return ne.resolve(g)}Et(e,n,i){const l=this.overlays.get(i.key);if(l!==null){const f=this.Rr.get(l.largestBatchId).delete(i.key);this.Rr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(i.key,new jk(n,i));let u=this.Rr.get(n);u===void 0&&(u=Fe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(){this.sessionToken=sn.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(){this.Vr=new Ft(Xt.mr),this.gr=new Ft(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Xt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Xt(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new xe(new ft([])),i=new Xt(n,e),l=new Xt(n,e+1),u=[];return this.gr.forEachInRange([i,l],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new xe(new ft([])),i=new Xt(n,e),l=new Xt(n,e+1);let u=Fe();return this.gr.forEachInRange([i,l],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Xt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return xe.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||xe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ft(Xt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,l){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Ak(u,n,i,l);this.mutationQueue.push(f);for(const g of l)this.Mr=this.Mr.add(new Xt(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,l=this.Nr(i),u=l<0?0:l;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Ip:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Xt(n,0),l=new Xt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,l],f=>{const g=this.Or(f.Cr);u.push(g)}),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Ft(Ve);return n.forEach(l=>{const u=new Xt(l,0),f=new Xt(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],g=>{i=i.add(g.Cr)})}),ne.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,l=i.length+1;let u=i;xe.isDocumentKey(u)||(u=u.child(""));const f=new Xt(new xe(u),0);let g=new Ft(Ve);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},f),ne.resolve(this.Br(g))}Br(e){const n=[];return e.forEach(i=>{const l=this.Or(i);l!==null&&n.push(l)}),n}removeMutationBatch(e,n){at(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ne.forEach(n.mutations,l=>{const u=new Xt(l.key,n.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Xt(n,0),l=this.Mr.firstAfterOrEqual(i);return ne.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.kr=e,this.docs=function(){return new Et(xe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,l=this.docs.get(i),u=l?l.size:0,f=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ne.resolve(i?i.document.mutableCopy():hn.newInvalidDocument(n))}getEntries(e,n){let i=bs();return n.forEach(l=>{const u=this.docs.get(l);i=i.insert(l,u?u.document.mutableCopy():hn.newInvalidDocument(l))}),ne.resolve(i)}getDocumentsMatchingQuery(e,n,i,l){let u=bs();const f=n.path,g=new xe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||Hj(Bj(E),i)<=0||(l.has(E.key)||ed(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,i,l){Re()}qr(e,n){return ne.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new fR(this)}getSize(e){return ne.resolve(this.size)}}class fR extends iR{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,l)=>{l.isValidDocument()?n.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(i)}),ne.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e){this.persistence=e,this.Qr=new mr(n=>Mp(n),Op),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Hp,this.targetCount=0,this.Kr=xl.Un()}forEachTarget(e,n){return this.Qr.forEach((i,l)=>n(l)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ne.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new xl(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.zn(n),ne.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,i){let l=0;const u=[];return this.Qr.forEach((f,g)=>{g.sequenceNumber<=n&&i.get(g.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),ne.waitFor(u).next(()=>l)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ne.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),ne.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach(f=>{u.push(l.markPotentiallyOrphaned(e,f))}),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return ne.resolve(i)}containsKey(e,n){return ne.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Xh(0),this.zr=!1,this.zr=!0,this.jr=new uR,this.referenceDelegate=e(this),this.Hr=new mR(this),this.indexManager=new Zk,this.remoteDocumentCache=function(l){return new dR(l)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new Xk(n),this.Yr=new oR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new hR(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){me("MemoryPersistence","Starting transaction:",e);const l=new pR(this.Gr.next());return this.referenceDelegate.Zr(),i(l).next(u=>this.referenceDelegate.Xr(l).next(()=>u)).toPromise().then(u=>(l.raiseOnCommittedEvent(),u))}ei(e,n){return ne.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class pR extends Fj{constructor(e){super(),this.currentSequenceNumber=e}}class qp{constructor(e){this.persistence=e,this.ti=new Hp,this.ni=null}static ri(e){return new qp(e)}get ii(){if(this.ni)return this.ni;throw Re()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ne.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ne.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(l=>this.ii.add(l.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(l=>{l.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,i=>{const l=xe.fromPath(i);return this.si(e,l).next(u=>{u||n.removeEntry(l,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ne.or([()=>ne.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Vh{constructor(e,n){this.persistence=e,this.oi=new mr(i=>$j(i.path),(i,l)=>i.isEqual(l)),this.garbageCollector=sR(this,n)}static ri(e,n){return new Vh(e,n)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(l=>i+l))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ne.forEach(this.oi,(i,l)=>this.ar(e,i,l).next(u=>u?ne.resolve():n(l)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.qr(e,f=>this.ar(e,f,n).next(g=>{g||(i++,u.removeEntry(f,Ie.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ne.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ph(e.data.value)),n}ar(e,n,i){return ne.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.oi.get(n);return ne.resolve(l!==void 0&&l>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n,i,l){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=l}static Yi(e,n){let i=Fe(),l=Fe();for(const u of n.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Fp(e,n.fromCache,i,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Jw()?8:Gj(dn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,l){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,l,i).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new gR;return this._s(e,n,f).next(g=>{if(u.result=g,this.Xi)return this.us(e,n,f,g.size)})}).next(()=>u.result)}us(e,n,i,l){return i.documentReadCount<this.es?(ll()<=qe.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ol(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(ll()<=qe.DEBUG&&me("QueryEngine","Query:",ol(n),"scans",i.documentReadCount,"local documents and returns",l,"documents as results."),i.documentReadCount>this.ts*l?(ll()<=qe.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ol(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Da(n))):ne.resolve())}rs(e,n){if(L0(n))return ne.resolve(null);let i=Da(n);return this.indexManager.getIndexType(e,i).next(l=>l===0?null:(n.limit!==null&&l===1&&(n=Xm(n,null,"F"),i=Da(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const f=Fe(...u);return this.ns.getDocuments(e,f).next(g=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(n,g);return this.ls(n,y,f,p.readTime)?this.rs(e,Xm(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,i,l){return L0(n)||l.isEqual(Ie.min())?ne.resolve(null):this.ns.getDocuments(e,i).next(u=>{const f=this.cs(n,u);return this.ls(n,f,i,l)?ne.resolve(null):(ll()<=qe.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ol(n)),this.hs(e,f,n,zj(l,hc)).next(g=>g))})}cs(e,n){let i=new Ft(cE(e));return n.forEach((l,u)=>{ed(e,u)&&(i=i.add(u))}),i}ls(e,n,i,l){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}_s(e,n,i){return ll()<=qe.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ol(n)),this.ns.getDocumentsMatchingQuery(e,n,di.min(),i)}hs(e,n,i,l){return this.ns.getDocumentsMatchingQuery(e,i,l).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="LocalStore",vR=3e8;class _R{constructor(e,n,i,l){this.persistence=e,this.Ps=n,this.serializer=l,this.Ts=new Et(Ve),this.Is=new mr(u=>Mp(u),Op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lR(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function bR(s,e,n,i){return new _R(s,e,n,i)}async function CE(s,e){const n=Ce(s);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let l;return n.mutationQueue.getAllMutationBatches(i).next(u=>(l=u,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(u=>{const f=[],g=[];let p=Fe();for(const y of l){f.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of u){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:g}))})})}function ER(s,e){const n=Ce(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const l=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const N=y.batch,w=N.keys();let M=ne.resolve();return w.forEach(P=>{M=M.next(()=>E.getEntry(p,P)).next(F=>{const V=y.docVersions.get(P);at(V!==null),F.version.compareTo(V)<0&&(N.applyToRemoteDocument(F,y),F.isValidDocument()&&(F.setReadTime(y.commitVersion),E.addEntry(F)))})}),M.next(()=>g.mutationQueue.removeMutationBatch(p,N))}(n,i,e,u).next(()=>u.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,l,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(g){let p=Fe();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(i,l))})}function DE(s){const e=Ce(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function TR(s,e){const n=Ce(s),i=e.snapshotVersion;let l=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});l=n.Ts;const g=[];e.targetChanges.forEach((E,N)=>{const w=l.get(N);if(!w)return;g.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,N).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,N)));let M=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(N)!==null?M=M.withResumeToken(sn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(E.resumeToken,i)),l=l.insert(N,M),function(F,V,$){return F.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=vR?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(w,M,E)&&g.push(n.Hr.updateTargetData(u,M))});let p=bs(),y=Fe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(xR(u,f,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!i.isEqual(Ie.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(N=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));g.push(E)}return ne.waitFor(g).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=l,u))}function xR(s,e,n){let i=Fe(),l=Fe();return n.forEach(u=>i=i.add(u)),e.getEntries(s,i).next(u=>{let f=bs();return n.forEach((g,p)=>{const y=u.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(g,p.readTime),f=f.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(g,p)):me(Gp,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:l}})}function NR(s,e){const n=Ce(s);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function wR(s,e){const n=Ce(s);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let l;return n.Hr.getTargetData(i,e).next(u=>u?(l=u,ne.resolve(l)):n.Hr.allocateTargetId(i).next(f=>(l=new ii(e,f,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,l).next(()=>l))))}).then(i=>{const l=n.Ts.get(i.targetId);return(l===null||i.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function tp(s,e,n){const i=Ce(s),l=i.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",u,f=>i.persistence.referenceDelegate.removeTarget(f,l))}catch(f){if(!Cl(f))throw f;me(Gp,`Failed to update sequence numbers for target ${e}: ${f}`)}i.Ts=i.Ts.remove(e),i.Is.delete(l.target)}function W0(s,e,n){const i=Ce(s);let l=Ie.min(),u=Fe();return i.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,E){const N=Ce(p),w=N.Is.get(E);return w!==void 0?ne.resolve(N.Ts.get(w)):N.Hr.getTargetData(y,E)}(i,f,Da(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(f,g.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(f,e,n?l:Ie.min(),n?u:Fe())).next(g=>(SR(i,dk(e),g),{documents:g,gs:u})))}function SR(s,e,n){let i=s.Es.get(e)||Ie.min();n.forEach((l,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),s.Es.set(e,i)}class Z0{constructor(){this.activeTargetIds=vk()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AR{constructor(){this.ho=new Z0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Z0,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="ConnectivityMonitor";class e1{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(J0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(J0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function np(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",kR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class RR{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${l}`,this.wo=this.databaseId.database===Rh?`project_id=${i}`:`project_id=${i}&database_id=${l}`}So(e,n,i,l,u){const f=np(),g=this.bo(e,n.toUriEncodedString());me(jm,`Sending RPC '${e}' ${f}:`,g,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,u),this.vo(e,g,p,i).then(y=>(me(jm,`Received RPC '${e}' ${f}: `,y),y),y=>{throw _l(jm,`RPC '${e}' ${f} failed with error: `,y,"url: ",g,"request:",i),y})}Co(e,n,i,l,u,f){return this.So(e,n,i,l,u)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Rl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>e[u]=l),i&&i.headers.forEach((l,u)=>e[u]=l)}bo(e,n){const i=kR[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class CR extends RR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,l){const u=np();return new Promise((f,g)=>{const p=new Vb;p.setWithCredentials(!0),p.listenOnce(Lb.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mh.NO_ERROR:const E=p.getResponseJson();me(cn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case mh.TIMEOUT:me(cn,`RPC '${e}' ${u} timed out`),g(new pe(ae.DEADLINE_EXCEEDED,"Request time out"));break;case mh.HTTP_ERROR:const N=p.getStatus();if(me(cn,`RPC '${e}' ${u} failed with status:`,N,"response text:",p.getResponseText()),N>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const M=w==null?void 0:w.error;if(M&&M.status&&M.message){const P=function(V){const $=V.toLowerCase().replace(/_/g,"-");return Object.values(ae).indexOf($)>=0?$:ae.UNKNOWN}(M.status);g(new pe(P,M.message))}else g(new pe(ae.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new pe(ae.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{me(cn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(l);me(cn,`RPC '${e}' ${u} sending request:`,l),p.send(n,"POST",y,i,15)})}Wo(e,n,i){const l=np(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Bb(),g=zb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const E=u.join("");me(cn,`Creating RPC '${e}' stream ${l}: ${E}`,p);const N=f.createWebChannel(E,p);let w=!1,M=!1;const P=new IR({Fo:V=>{M?me(cn,`Not sending because RPC '${e}' stream ${l} is closed:`,V):(w||(me(cn,`Opening RPC '${e}' stream ${l} transport.`),N.open(),w=!0),me(cn,`RPC '${e}' stream ${l} sending:`,V),N.send(V))},Mo:()=>N.close()}),F=(V,$,ie)=>{V.listen($,J=>{try{ie(J)}catch(fe){setTimeout(()=>{throw fe},0)}})};return F(N,Xo.EventType.OPEN,()=>{M||(me(cn,`RPC '${e}' stream ${l} transport opened.`),P.Qo())}),F(N,Xo.EventType.CLOSE,()=>{M||(M=!0,me(cn,`RPC '${e}' stream ${l} transport closed`),P.Uo())}),F(N,Xo.EventType.ERROR,V=>{M||(M=!0,_l(cn,`RPC '${e}' stream ${l} transport errored:`,V),P.Uo(new pe(ae.UNAVAILABLE,"The operation could not be completed")))}),F(N,Xo.EventType.MESSAGE,V=>{var $;if(!M){const ie=V.data[0];at(!!ie);const J=ie,fe=(J==null?void 0:J.error)||(($=J[0])===null||$===void 0?void 0:$.error);if(fe){me(cn,`RPC '${e}' stream ${l} received error:`,fe);const ue=fe.status;let Ne=function(j){const S=Mt[j];if(S!==void 0)return bE(S)}(ue),C=fe.message;Ne===void 0&&(Ne=ae.INTERNAL,C="Unknown error status: "+ue+" with message "+fe.message),M=!0,P.Uo(new pe(Ne,C)),N.close()}else me(cn,`RPC '${e}' stream ${l} received:`,ie),P.Ko(ie)}}),F(g,Ub.STAT_EVENT,V=>{V.stat===qm.PROXY?me(cn,`RPC '${e}' stream ${l} detected buffering proxy`):V.stat===qm.NOPROXY&&me(cn,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(s){return new Pk(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e,n,i=1e3,l=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=l,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),l=Math.max(0,n-i);l>0&&me("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="PersistentStream";class OE{constructor(e,n,i,l,u,f,g,p){this.Ti=e,this.n_=i,this.r_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ME(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ae.RESOURCE_EXHAUSTED?(_s(n.toString()),_s("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ae.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,l])=>{this.i_===n&&this.V_(i,l)},i=>{e(()=>{const l=new pe(ae.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(l)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{i(()=>this.m_(l))}),this.stream.onMessage(l=>{i(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(t1,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(t1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DR extends OE{constructor(e,n,i,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=Uk(this.serializer,e),i=function(u){if(!("targetChange"in u))return Ie.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ie.min():f.readTime?Ma(f.readTime):Ie.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=ep(this.serializer),n.addTarget=function(u,f){let g;const p=f.target;if(g=Qm(p)?{documents:Hk(u,p)}:{query:qk(u,p).ht},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=xE(u,f.resumeToken);const y=Wm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ie.min())>0){g.readTime=Ph(u,f.snapshotVersion.toTimestamp());const y=Wm(u,f.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const i=Gk(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=ep(this.serializer),n.removeTarget=e,this.I_(n)}}class MR extends OE{constructor(e,n,i,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,l,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return at(!!e.streamToken),this.lastStreamToken=e.streamToken,at(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){at(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=Bk(e.writeResults,e.commitTime),i=Ma(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=ep(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>zk(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{}class PR extends OR{constructor(e,n,i,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Zm(n,i),l,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(ae.UNKNOWN,u.toString())})}Co(e,n,i,l,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,g])=>this.connection.Co(e,Zm(n,i),l,f,g,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ae.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new pe(ae.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class VR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(_s(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr="RemoteStore";class LR{constructor(e,n,i,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{i.enqueueAndForget(async()=>{gr(this)&&(me(cr,"Restarting streams for network reachability change."),await async function(p){const y=Ce(p);y.W_.add(4),await Rc(y),y.j_.set("Unknown"),y.W_.delete(4),await id(y)}(this))})}),this.j_=new VR(i,l)}}async function id(s){if(gr(s))for(const e of s.G_)await e(!0)}async function Rc(s){for(const e of s.G_)await e(!1)}function PE(s,e){const n=Ce(s);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Yp(n)?Qp(n):Dl(n).c_()&&$p(n,e))}function Kp(s,e){const n=Ce(s),i=Dl(n);n.K_.delete(e),i.c_()&&VE(n,e),n.K_.size===0&&(i.c_()?i.P_():gr(n)&&n.j_.set("Unknown"))}function $p(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(s).y_(e)}function VE(s,e){s.H_.Ne(e),Dl(s).w_(e)}function Qp(s){s.H_=new Ck({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Dl(s).start(),s.j_.B_()}function Yp(s){return gr(s)&&!Dl(s).u_()&&s.K_.size>0}function gr(s){return Ce(s).W_.size===0}function LE(s){s.H_=void 0}async function UR(s){s.j_.set("Online")}async function zR(s){s.K_.forEach((e,n)=>{$p(s,e)})}async function BR(s,e){LE(s),Yp(s)?(s.j_.q_(e),Qp(s)):s.j_.set("Unknown")}async function HR(s,e,n){if(s.j_.set("Online"),e instanceof TE&&e.state===2&&e.cause)try{await async function(l,u){const f=u.cause;for(const g of u.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,f),l.K_.delete(g),l.H_.removeTarget(g))}(s,e)}catch(i){me(cr,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Lh(s,i)}else if(e instanceof vh?s.H_.We(e):e instanceof EE?s.H_.Ze(e):s.H_.je(e),!n.isEqual(Ie.min()))try{const i=await DE(s.localStore);n.compareTo(i)>=0&&await function(u,f){const g=u.H_.ot(f);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(y);E&&u.K_.set(y,E.withResumeToken(p.resumeToken,f))}}),g.targetMismatches.forEach((p,y)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(sn.EMPTY_BYTE_STRING,E.snapshotVersion)),VE(u,p);const N=new ii(E.target,p,y,E.sequenceNumber);$p(u,N)}),u.remoteSyncer.applyRemoteEvent(g)}(s,n)}catch(i){me(cr,"Failed to raise snapshot:",i),await Lh(s,i)}}async function Lh(s,e,n){if(!Cl(e))throw e;s.W_.add(1),await Rc(s),s.j_.set("Offline"),n||(n=()=>DE(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{me(cr,"Retrying IndexedDB access"),await n(),s.W_.delete(1),await id(s)})}function UE(s,e){return e().catch(n=>Lh(s,n,e))}async function rd(s){const e=Ce(s),n=gi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ip;for(;qR(e);)try{const l=await NR(e.localStore,i);if(l===null){e.U_.length===0&&n.P_();break}i=l.batchId,FR(e,l)}catch(l){await Lh(e,l)}zE(e)&&BE(e)}function qR(s){return gr(s)&&s.U_.length<10}function FR(s,e){s.U_.push(e);const n=gi(s);n.c_()&&n.S_&&n.b_(e.mutations)}function zE(s){return gr(s)&&!gi(s).u_()&&s.U_.length>0}function BE(s){gi(s).start()}async function GR(s){gi(s).C_()}async function KR(s){const e=gi(s);for(const n of s.U_)e.b_(n.mutations)}async function $R(s,e,n){const i=s.U_.shift(),l=Up.from(i,e,n);await UE(s,()=>s.remoteSyncer.applySuccessfulWrite(l)),await rd(s)}async function QR(s,e){e&&gi(s).S_&&await async function(i,l){if(function(f){return Rk(f)&&f!==ae.ABORTED}(l.code)){const u=i.U_.shift();gi(i).h_(),await UE(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,l)),await rd(i)}}(s,e),zE(s)&&BE(s)}async function n1(s,e){const n=Ce(s);n.asyncQueue.verifyOperationInProgress(),me(cr,"RemoteStore received new credentials");const i=gr(n);n.W_.add(3),await Rc(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await id(n)}async function YR(s,e){const n=Ce(s);e?(n.W_.delete(2),await id(n)):e||(n.W_.add(2),await Rc(n),n.j_.set("Unknown"))}function Dl(s){return s.J_||(s.J_=function(n,i,l){const u=Ce(n);return u.M_(),new DR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:UR.bind(null,s),No:zR.bind(null,s),Lo:BR.bind(null,s),p_:HR.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Yp(s)?Qp(s):s.j_.set("Unknown")):(await s.J_.stop(),LE(s))})),s.J_}function gi(s){return s.Y_||(s.Y_=function(n,i,l){const u=Ce(n);return u.M_(),new MR(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:GR.bind(null,s),Lo:QR.bind(null,s),D_:KR.bind(null,s),v_:$R.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await rd(s)):(await s.Y_.stop(),s.U_.length>0&&(me(cr,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n,i,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=l,this.removalCallback=u,this.deferred=new ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,l,u){const f=Date.now()+i,g=new Xp(e,n,f,l,u);return g.start(i),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(ae.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wp(s,e){if(_s("AsyncQueue",`${e}: ${s}`),Cl(s))return new pe(ae.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{static emptySet(e){return new pl(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||xe.comparator(n.key,i.key):(n,i)=>xe.comparator(n.key,i.key),this.keyedMap=Wo(),this.sortedSet=new Et(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof pl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=i.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new pl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(){this.Z_=new Et(xe.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Re():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Nl{constructor(e,n,i,l,u,f,g,p,y){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,i,l,u){const f=[];return n.forEach(g=>{f.push({type:0,doc:g})}),new Nl(e,n,pl.emptySet(n),f,i,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==i[l].type||!n[l].doc.isEqual(i[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class WR{constructor(){this.queries=s1(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const l=Ce(n),u=l.queries;l.queries=s1(),u.forEach((f,g)=>{for(const p of g.ta)p.onError(i)})})(this,new pe(ae.ABORTED,"Firestore shutting down"))}}function s1(){return new mr(s=>oE(s),Jh)}async function HE(s,e){const n=Ce(s);let i=3;const l=e.query;let u=n.queries.get(l);u?!u.na()&&e.ra()&&(i=2):(u=new XR,i=e.ra()?0:1);try{switch(i){case 0:u.ea=await n.onListen(l,!0);break;case 1:u.ea=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const g=Wp(f,`Initialization of query '${ol(e.query)}' failed`);return void e.onError(g)}n.queries.set(l,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Zp(n)}async function qE(s,e){const n=Ce(s),i=e.query;let l=3;const u=n.queries.get(i);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?l=e.ra()?0:1:!u.na()&&e.ra()&&(l=2))}switch(l){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ZR(s,e){const n=Ce(s);let i=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const g of f.ta)g.oa(l)&&(i=!0);f.ea=l}}i&&Zp(n)}function JR(s,e,n){const i=Ce(s),l=i.queries.get(e);if(l)for(const u of l.ta)u.onError(n);i.queries.delete(e)}function Zp(s){s.ia.forEach(e=>{e.next()})}var ap,i1;(i1=ap||(ap={}))._a="default",i1.Cache="cache";class FE{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const l of e.docChanges)l.type!==3&&i.push(l);e=new Nl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Nl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.key=e}}class KE{constructor(e){this.key=e}}class eI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=cE(e),this.wa=new pl(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new a1,l=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,N)=>{const w=l.get(E),M=ed(this.query,N)?N:null,P=!!w&&this.mutatedKeys.has(w.key),F=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let V=!1;w&&M?w.data.isEqual(M.data)?P!==F&&(i.track({type:3,doc:M}),V=!0):this.va(w,M)||(i.track({type:2,doc:M}),V=!0,(p&&this.ya(M,p)>0||y&&this.ya(M,y)<0)&&(g=!0)):!w&&M?(i.track({type:0,doc:M}),V=!0):w&&!M&&(i.track({type:1,doc:w}),V=!0,(p||y)&&(g=!0)),V&&(M?(f=f.add(M),u=F?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),i.track({type:1,doc:E})}return{wa:f,Da:i,ls:g,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,l){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,N)=>function(M,P){const F=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return F(M)-F(P)}(E.type,N.type)||this.ya(E.doc,N.doc)),this.Ca(i),l=l!=null&&l;const g=n&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new Nl(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new a1,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new KE(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new GE(i))}),n}Oa(e){this.fa=e.gs,this.pa=Fe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Nl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Jp="SyncEngine";class tI{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class nI{constructor(e){this.key=e,this.Ba=!1}}class aI{constructor(e,n,i,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new mr(g=>oE(g),Jh),this.qa=new Map,this.Qa=new Set,this.$a=new Et(xe.comparator),this.Ua=new Map,this.Ka=new Hp,this.Wa={},this.Ga=new Map,this.za=xl.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function sI(s,e,n=!0){const i=ZE(s);let l;const u=i.ka.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.Na()):l=await $E(i,e,n,!0),l}async function iI(s,e){const n=ZE(s);await $E(n,e,!0,!1)}async function $E(s,e,n,i){const l=await wR(s.localStore,Da(e)),u=l.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return i&&(g=await rI(s,e,u,f==="current",l.resumeToken)),s.isPrimaryClient&&n&&PE(s.remoteStore,l),g}async function rI(s,e,n,i,l){s.Ha=(N,w,M)=>async function(F,V,$,ie){let J=V.view.ba($);J.ls&&(J=await W0(F.localStore,V.query,!1).then(({documents:C})=>V.view.ba(C,J)));const fe=ie&&ie.targetChanges.get(V.targetId),ue=ie&&ie.targetMismatches.get(V.targetId)!=null,Ne=V.view.applyChanges(J,F.isPrimaryClient,fe,ue);return l1(F,V.targetId,Ne.Ma),Ne.snapshot}(s,N,w,M);const u=await W0(s.localStore,e,!0),f=new eI(e,u.gs),g=f.ba(u.documents),p=kc.createSynthesizedTargetChangeForCurrentChange(n,i&&s.onlineState!=="Offline",l),y=f.applyChanges(g,s.isPrimaryClient,p);l1(s,n,y.Ma);const E=new tI(e,n,f);return s.ka.set(e,E),s.qa.has(n)?s.qa.get(n).push(e):s.qa.set(n,[e]),y.snapshot}async function lI(s,e,n){const i=Ce(s),l=i.ka.get(e),u=i.qa.get(l.targetId);if(u.length>1)return i.qa.set(l.targetId,u.filter(f=>!Jh(f,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(l.targetId),i.sharedClientState.isActiveQueryTarget(l.targetId)||await tp(i.localStore,l.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(l.targetId),n&&Kp(i.remoteStore,l.targetId),sp(i,l.targetId)}).catch(Il)):(sp(i,l.targetId),await tp(i.localStore,l.targetId,!0))}async function oI(s,e){const n=Ce(s),i=n.ka.get(e),l=n.qa.get(i.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Kp(n.remoteStore,i.targetId))}async function cI(s,e,n){const i=gI(s);try{const l=await function(f,g){const p=Ce(f),y=wt.now(),E=g.reduce((M,P)=>M.add(P.key),Fe());let N,w;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let P=bs(),F=Fe();return p.ds.getEntries(M,E).next(V=>{P=V,P.forEach(($,ie)=>{ie.isValidDocument()||(F=F.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,P)).next(V=>{N=V;const $=[];for(const ie of g){const J=wk(ie,N.get(ie.key).overlayedDocument);J!=null&&$.push(new pr(ie.key,J,eE(J.value.mapValue),ha.exists(!0)))}return p.mutationQueue.addMutationBatch(M,y,$,g)}).next(V=>{w=V;const $=V.applyToLocalDocumentSet(N,F);return p.documentOverlayCache.saveOverlays(M,V.batchId,$)})}).then(()=>({batchId:w.batchId,changes:hE(N)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(l.batchId),function(f,g,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new Et(Ve)),y=y.insert(g,p),f.Wa[f.currentUser.toKey()]=y}(i,l.batchId,n),await Ic(i,l.changes),await rd(i.remoteStore)}catch(l){const u=Wp(l,"Failed to persist write");n.reject(u)}}async function QE(s,e){const n=Ce(s);try{const i=await TR(n.localStore,e);e.targetChanges.forEach((l,u)=>{const f=n.Ua.get(u);f&&(at(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?f.Ba=!0:l.modifiedDocuments.size>0?at(f.Ba):l.removedDocuments.size>0&&(at(f.Ba),f.Ba=!1))}),await Ic(n,i,e)}catch(i){await Il(i)}}function r1(s,e,n){const i=Ce(s);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const l=[];i.ka.forEach((u,f)=>{const g=f.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(f,g){const p=Ce(f);p.onlineState=g;let y=!1;p.queries.forEach((E,N)=>{for(const w of N.ta)w.sa(g)&&(y=!0)}),y&&Zp(p)}(i.eventManager,e),l.length&&i.La.p_(l),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uI(s,e,n){const i=Ce(s);i.sharedClientState.updateQueryState(e,"rejected",n);const l=i.Ua.get(e),u=l&&l.key;if(u){let f=new Et(xe.comparator);f=f.insert(u,hn.newNoDocument(u,Ie.min()));const g=Fe().add(u),p=new ad(Ie.min(),new Map,new Et(Ve),f,g);await QE(i,p),i.$a=i.$a.remove(u),i.Ua.delete(e),eg(i)}else await tp(i.localStore,e,!1).then(()=>sp(i,e,n)).catch(Il)}async function hI(s,e){const n=Ce(s),i=e.batch.batchId;try{const l=await ER(n.localStore,e);XE(n,i,null),YE(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Ic(n,l)}catch(l){await Il(l)}}async function dI(s,e,n){const i=Ce(s);try{const l=await function(f,g){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(N=>(at(N!==null),E=N.keys(),p.mutationQueue.removeMutationBatch(y,N))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(i.localStore,e);XE(i,e,n),YE(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Ic(i,l)}catch(l){await Il(l)}}function YE(s,e){(s.Ga.get(e)||[]).forEach(n=>{n.resolve()}),s.Ga.delete(e)}function XE(s,e,n){const i=Ce(s);let l=i.Wa[i.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),i.Wa[i.currentUser.toKey()]=l}}function sp(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const i of s.qa.get(e))s.ka.delete(i),n&&s.La.Ja(i,n);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(i=>{s.Ka.containsKey(i)||WE(s,i)})}function WE(s,e){s.Qa.delete(e.path.canonicalString());const n=s.$a.get(e);n!==null&&(Kp(s.remoteStore,n),s.$a=s.$a.remove(e),s.Ua.delete(n),eg(s))}function l1(s,e,n){for(const i of n)i instanceof GE?(s.Ka.addReference(i.key,e),fI(s,i)):i instanceof KE?(me(Jp,"Document no longer in limbo: "+i.key),s.Ka.removeReference(i.key,e),s.Ka.containsKey(i.key)||WE(s,i.key)):Re()}function fI(s,e){const n=e.key,i=n.path.canonicalString();s.$a.get(n)||s.Qa.has(i)||(me(Jp,"New document in limbo: "+n),s.Qa.add(i),eg(s))}function eg(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const n=new xe(ft.fromString(e)),i=s.za.next();s.Ua.set(i,new nI(n)),s.$a=s.$a.insert(n,i),PE(s.remoteStore,new ii(Da(Pp(n.path)),i,"TargetPurposeLimboResolution",Xh.ae))}}async function Ic(s,e,n){const i=Ce(s),l=[],u=[],f=[];i.ka.isEmpty()||(i.ka.forEach((g,p)=>{f.push(i.Ha(p,e,n).then(y=>{var E;if((y||n)&&i.isPrimaryClient){const N=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;i.sharedClientState.updateQueryState(p.targetId,N?"current":"not-current")}if(y){l.push(y);const N=Fp.Yi(p.targetId,y);u.push(N)}}))}),await Promise.all(f),i.La.p_(l),await async function(p,y){const E=Ce(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>ne.forEach(y,w=>ne.forEach(w.Hi,M=>E.persistence.referenceDelegate.addReference(N,w.targetId,M)).next(()=>ne.forEach(w.Ji,M=>E.persistence.referenceDelegate.removeReference(N,w.targetId,M)))))}catch(N){if(!Cl(N))throw N;me(Gp,"Failed to update sequence numbers: "+N)}for(const N of y){const w=N.targetId;if(!N.fromCache){const M=E.Ts.get(w),P=M.snapshotVersion,F=M.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(w,F)}}}(i.localStore,u))}async function mI(s,e){const n=Ce(s);if(!n.currentUser.isEqual(e)){me(Jp,"User change. New user:",e.toKey());const i=await CE(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(g=>{g.forEach(p=>{p.reject(new pe(ae.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ic(n,i.Rs)}}function pI(s,e){const n=Ce(s),i=n.Ua.get(e);if(i&&i.Ba)return Fe().add(i.key);{let l=Fe();const u=n.qa.get(e);if(!u)return l;for(const f of u){const g=n.ka.get(f);l=l.unionWith(g.view.Sa)}return l}}function ZE(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uI.bind(null,e),e.La.p_=ZR.bind(null,e.eventManager),e.La.Ja=JR.bind(null,e.eventManager),e}function gI(s){const e=Ce(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dI.bind(null,e),e}class Uh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return bR(this.persistence,new yR,e.initialUser,this.serializer)}Xa(e){return new IE(qp.ri,this.serializer)}Za(e){return new AR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Uh.provider={build:()=>new Uh};class yI extends Uh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){at(this.persistence.referenceDelegate instanceof Vh);const i=this.persistence.referenceDelegate.garbageCollector;return new nR(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?Nn.withCacheSize(this.cacheSizeBytes):Nn.DEFAULT;return new IE(i=>Vh.ri(i,n),this.serializer)}}class ip{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>r1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mI.bind(null,this.syncEngine),await YR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new WR}()}createDatastore(e){const n=sd(e.databaseInfo.databaseId),i=function(u){return new CR(u)}(e.databaseInfo);return function(u,f,g,p){return new PR(u,f,g,p)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,l,u,f,g){return new LR(i,l,u,f,g)}(this.localStore,this.datastore,e.asyncQueue,n=>r1(this.syncEngine,n,0),function(){return e1.D()?new e1:new jR}())}createSyncEngine(e,n){return function(l,u,f,g,p,y,E){const N=new aI(l,u,f,g,p,y);return E&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(l){const u=Ce(l);me(cr,"RemoteStore shutting down."),u.W_.add(5),await Rc(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}ip.provider={build:()=>new ip};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):_s("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="FirestoreClient";class vI{constructor(e,n,i,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=l,this.user=un.UNAUTHENTICATED,this.clientId=Fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async f=>{me(yi,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(i,f=>(me(yi,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Wp(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rm(s,e){s.asyncQueue.verifyOperationInProgress(),me(yi,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let i=n.initialUser;s.setCredentialChangeListener(async l=>{i.isEqual(l)||(await CE(e.localStore,l),i=l)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function o1(s,e){s.asyncQueue.verifyOperationInProgress();const n=await _I(s);me(yi,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener(i=>n1(e.remoteStore,i)),s.setAppCheckTokenChangeListener((i,l)=>n1(e.remoteStore,l)),s._onlineComponents=e}async function _I(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){me(yi,"Using user provided OfflineComponentProvider");try{await Rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(l){return l.name==="FirebaseError"?l.code===ae.FAILED_PRECONDITION||l.code===ae.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(n))throw n;_l("Error using user provided cache. Falling back to memory cache: "+n),await Rm(s,new Uh)}}else me(yi,"Using default OfflineComponentProvider"),await Rm(s,new yI(void 0));return s._offlineComponents}async function eT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(me(yi,"Using user provided OnlineComponentProvider"),await o1(s,s._uninitializedComponentsProvider._online)):(me(yi,"Using default OnlineComponentProvider"),await o1(s,new ip))),s._onlineComponents}function bI(s){return eT(s).then(e=>e.syncEngine)}async function tT(s){const e=await eT(s),n=e.eventManager;return n.onListen=sI.bind(null,e.syncEngine),n.onUnlisten=lI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=iI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oI.bind(null,e.syncEngine),n}function EI(s,e,n={}){const i=new ps;return s.asyncQueue.enqueueAndForget(async()=>function(u,f,g,p,y){const E=new JE({next:w=>{E.su(),f.enqueueAndForget(()=>qE(u,N));const M=w.docs.has(g);!M&&w.fromCache?y.reject(new pe(ae.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&w.fromCache&&p&&p.source==="server"?y.reject(new pe(ae.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),N=new FE(Pp(g.path),E,{includeMetadataChanges:!0,Ta:!0});return HE(u,N)}(await tT(s),s.asyncQueue,e,n,i)),i.promise}function TI(s,e,n={}){const i=new ps;return s.asyncQueue.enqueueAndForget(async()=>function(u,f,g,p,y){const E=new JE({next:w=>{E.su(),f.enqueueAndForget(()=>qE(u,N)),w.fromCache&&p.source==="server"?y.reject(new pe(ae.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),N=new FE(g,E,{includeMetadataChanges:!0,Ta:!0});return HE(u,N)}(await tT(s),s.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(s,e,n){if(!n)throw new pe(ae.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function xI(s,e,n,i){if(e===!0&&i===!0)throw new pe(ae.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function u1(s){if(!xe.isDocumentKey(s))throw new pe(ae.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function h1(s){if(xe.isDocumentKey(s))throw new pe(ae.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function ld(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Re()}function Es(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new pe(ae.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ld(s);throw new pe(ae.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT="firestore.googleapis.com",d1=!0;class f1{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new pe(ae.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sT,this.ssl=d1}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:d1;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=RE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<eR)throw new pe(ae.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=nT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new pe(ae.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,l){return i.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class od{constructor(e,n,i,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(ae.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(ae.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Ij;switch(i.type){case"firstParty":return new Oj(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new pe(ae.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=c1.get(n);i&&(me("ComponentProvider","Removing Datastore"),c1.delete(n),i.terminate())}(this),Promise.resolve()}}function NI(s,e,n,i={}){var l;const u=(s=Es(s,od))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${n}`;u.host!==sT&&u.host!==g&&_l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:g,ssl:!1,emulatorOptions:i});if(!sr(p,f)&&(s._setSettings(p),i.mockUserToken)){let y,E;if(typeof i.mockUserToken=="string")y=i.mockUserToken,E=un.MOCK_USER;else{y=Kw(i.mockUserToken,(l=s._app)===null||l===void 0?void 0:l.options.projectId);const N=i.mockUserToken.sub||i.mockUserToken.user_id;if(!N)throw new pe(ae.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new un(N)}s._authCredentials=new Cj(new Hb(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ml(this.firestore,e,this._query)}}class wn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ui(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ui extends Ml{constructor(e,n,i){super(e,n,Pp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new xe(e))}withConverter(e){return new ui(this.firestore,e,this._path)}}function ar(s,e,...n){if(s=fn(s),aT("collection","path",e),s instanceof od){const i=ft.fromString(e,...n);return h1(i),new ui(s,null,i)}{if(!(s instanceof wn||s instanceof ui))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ft.fromString(e,...n));return h1(i),new ui(s.firestore,null,i)}}function Ts(s,e,...n){if(s=fn(s),arguments.length===1&&(e=Fb.newId()),aT("doc","path",e),s instanceof od){const i=ft.fromString(e,...n);return u1(i),new wn(s,null,new xe(i))}{if(!(s instanceof wn||s instanceof ui))throw new pe(ae.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=s._path.child(ft.fromString(e,...n));return u1(i),new wn(s.firestore,s instanceof ui?s.converter:null,new xe(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="AsyncQueue";class p1{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ME(this,"async_queue_retry"),this.Su=()=>{const i=km();i&&me(m1,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ps;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Cl(e))throw e;me(m1,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const l=function(f){let g=f.message||"";return f.stack&&(g=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),g}(i);throw _s("INTERNAL UNHANDLED ERROR: ",l),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const l=Xp.createAndSchedule(this,e,n,i,u=>this.Fu(u));return this.fu.push(l),l}Du(){this.gu&&Re()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ol extends od{constructor(e,n,i,l){super(e,n,i,l),this.type="firestore",this._queue=new p1,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new p1(e),this._firestoreClient=void 0,await e}}}function wI(s,e){const n=typeof s=="object"?s:Z1(),i=typeof s=="string"?s:Rh,l=vp(n,"firestore").getImmediate({identifier:i});if(!l._initialized){const u=Fw("firestore");u&&NI(l,...u)}return l}function tg(s){if(s._terminated)throw new pe(ae.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||SI(s),s._firestoreClient}function SI(s){var e,n,i;const l=s._freezeSettings(),u=function(g,p,y,E){return new Xj(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,nT(E.experimentalLongPollingOptions),E.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,l);s._componentsProvider||!((n=l.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=l.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(s._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),s._firestoreClient=new vI(s._authCredentials,s._appCheckCredentials,s._queue,u,s._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wl(sn.fromBase64String(e))}catch(n){throw new pe(ae.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new wl(sn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new pe(ae.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new an(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new pe(ae.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new pe(ae.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,l){if(i.length!==l.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==l[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=/^__.*__$/;class jI{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}function rT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class ig{constructor(e,n,i,l,u,f){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=l,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:i,Qu:!1});return l.$u(e),l}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),l=this.ku({path:i,Qu:!1});return l.Bu(),l}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return zh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(rT(this.Lu)&&AI.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kI{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||sd(e)}ju(e,n,i,l=!1){return new ig({Lu:e,methodName:n,zu:i,path:an.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rg(s){const e=s._freezeSettings(),n=sd(s._databaseId);return new kI(s._databaseId,!!e.ignoreUndefinedProperties,n)}function lT(s,e,n,i,l,u={}){const f=s.ju(u.merge||u.mergeFields?2:0,e,n,l);uT("Data must be an object, but it was:",f,i);const g=oT(i,f);let p,y;if(u.merge)p=new ca(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const N of u.mergeFields){const w=II(e,N,n);if(!f.contains(w))throw new pe(ae.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);DI(E,w)||E.push(w)}p=new ca(E),y=f.fieldTransforms.filter(N=>p.covers(N.field))}else p=null,y=f.fieldTransforms;return new jI(new Yn(g),p,y)}function RI(s,e,n,i=!1){return lg(n,s.ju(i?4:3,e))}function lg(s,e){if(cT(s=fn(s)))return uT("Unsupported field value:",e,s),oT(s,e);if(s instanceof iT)return function(i,l){if(!rT(l.Lu))throw l.Wu(`${i._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(l);u&&l.fieldTransforms.push(u)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,l){const u=[];let f=0;for(const g of i){let p=lg(g,l.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(s,e)}return function(i,l){if((i=fn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return _k(l.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=wt.fromDate(i);return{timestampValue:Ph(l.serializer,u)}}if(i instanceof wt){const u=new wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ph(l.serializer,u)}}if(i instanceof ag)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof wl)return{bytesValue:xE(l.serializer,i._byteString)};if(i instanceof wn){const u=l.databaseId,f=i.firestore._databaseId;if(!f.isEqual(u))throw l.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Bp(i.firestore._databaseId||l.databaseId,i._key.path)}}if(i instanceof sg)return function(f,g){return{mapValue:{fields:{[Zb]:{stringValue:Jb},[Ih]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Vp(g.serializer,y)})}}}}}}(i,l);throw l.Wu(`Unsupported field value: ${ld(i)}`)}(s,e)}function oT(s,e){const n={};return Kb(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fr(s,(i,l)=>{const u=lg(l,e.qu(i));u!=null&&(n[i]=u)}),{mapValue:{fields:n}}}function cT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof wt||s instanceof ag||s instanceof wl||s instanceof wn||s instanceof iT||s instanceof sg)}function uT(s,e,n){if(!cT(n)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(n)){const i=ld(n);throw i==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+i)}}function II(s,e,n){if((e=fn(e))instanceof ng)return e._internalPath;if(typeof e=="string")return hT(s,e);throw zh("Field path arguments must be of type string or ",s,!1,void 0,n)}const CI=new RegExp("[~\\*/\\[\\]]");function hT(s,e,n){if(e.search(CI)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new ng(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function zh(s,e,n,i,l){const u=i&&!i.isEmpty(),f=l!==void 0;let g=`Function ${e}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${i}`),f&&(p+=` in document ${l}`),p+=")"),new pe(ae.INVALID_ARGUMENT,g+s+p)}function DI(s,e){return s.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n,i,l,u){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MI extends dT{data(){return super.data()}}function og(s,e){return typeof e=="string"?hT(s,e):e instanceof ng?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new pe(ae.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cg{}class PI extends cg{}function g1(s,e,...n){let i=[];e instanceof cg&&i.push(e),i=i.concat(n),function(u){const f=u.filter(p=>p instanceof ug).length,g=u.filter(p=>p instanceof cd).length;if(f>1||f>0&&g>0)throw new pe(ae.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const l of i)s=l._apply(s);return s}class cd extends PI{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new cd(e,n,i)}_apply(e){const n=this._parse(e);return fT(e._query,n),new Ml(e.firestore,e.converter,Ym(e._query,n))}_parse(e){const n=rg(e.firestore);return function(u,f,g,p,y,E,N){let w;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_1(N,E);const P=[];for(const F of N)P.push(v1(p,u,F));w={arrayValue:{values:P}}}else w=v1(p,u,N)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_1(N,E),w=RI(g,f,N,E==="in"||E==="not-in");return Ot.create(y,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function y1(s,e,n){const i=e,l=og("where",s);return cd._create(l,i,n)}class ug extends cg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:fa.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(l,u){let f=l;const g=u.getFlattenedFilters();for(const p of g)fT(f,p),f=Ym(f,p)}(e._query,n),new Ml(e.firestore,e.converter,Ym(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function v1(s,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new pe(ae.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lE(e)&&n.indexOf("/")!==-1)throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(ft.fromString(n));if(!xe.isDocumentKey(i))throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return C0(s,new xe(i))}if(n instanceof wn)return C0(s,n._key);throw new pe(ae.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ld(n)}.`)}function _1(s,e){if(!Array.isArray(s)||s.length===0)throw new pe(ae.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fT(s,e){const n=function(l,u){for(const f of l)for(const g of f.getFlattenedFilters())if(u.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(ae.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class VI{convertValue(e,n="none"){switch(pi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return fr(e,(l,u)=>{i[l]=this.convertValue(u,n)}),i}convertVectorValue(e){var n,i,l;const u=(l=(i=(n=e.fields)===null||n===void 0?void 0:n[Ih].arrayValue)===null||i===void 0?void 0:i.values)===null||l===void 0?void 0:l.map(f=>kt(f.doubleValue));return new sg(u)}convertGeoPoint(e){return new ag(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Zh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(dc(e));default:return null}}convertTimestamp(e){const n=fi(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=ft.fromString(e);at(kE(i));const l=new fc(i.get(1),i.get(3)),u=new xe(i.popFirst(5));return l.isEqual(n)||_s(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s,e,n){let i;return i=s?s.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pT extends dT{constructor(e,n,i,l,u,f){super(e,n,i,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(og("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class _h extends pT{data(e={}){return super.data(e)}}class LI{constructor(e,n,i,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Jo(l.hasPendingWrites,l.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new _h(this._firestore,this._userDataWriter,i.key,i,new Jo(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new pe(ae.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map(g=>{const p=new _h(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Jo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>u||g.type!==3).map(g=>{const p=new _h(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Jo(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),E=f.indexOf(g.doc.key)),{type:UI(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function UI(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(s){s=Es(s,wn);const e=Es(s.firestore,Ol);return EI(tg(e),s._key).then(n=>HI(e,s,n))}class gT extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Cc(s){s=Es(s,Ml);const e=Es(s.firestore,Ol),n=tg(e),i=new gT(e);return OI(s._query),TI(n,s._query).then(l=>new LI(e,i,s,l))}function rp(s,e,n){s=Es(s,wn);const i=Es(s.firestore,Ol),l=mT(s.converter,e);return hg(i,[lT(rg(i),"setDoc",s._key,l,s.converter!==null,n).toMutation(s._key,ha.none())])}function zI(s){return hg(Es(s.firestore,Ol),[new Lp(s._key,ha.none())])}function BI(s,e){const n=Es(s.firestore,Ol),i=Ts(s),l=mT(s.converter,e);return hg(n,[lT(rg(s.firestore),"addDoc",i._key,l,s.converter!==null,{}).toMutation(i._key,ha.exists(!1))]).then(()=>i)}function hg(s,e){return function(i,l){const u=new ps;return i.asyncQueue.enqueueAndForget(async()=>cI(await bI(i),l,u)),u.promise}(tg(s),e)}function HI(s,e,n){const i=n.docs.get(e._key),l=new gT(s);return new pT(s,l,e._key,i,new Jo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(l){Rl=l})(jl),yl(new ir("firestore",(i,{instanceIdentifier:l,options:u})=>{const f=i.getProvider("app").getImmediate(),g=new Ol(new Dj(i.getProvider("auth-internal")),new Pj(f,i.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new pe(ae.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(y.options.projectId,E)}(f,l),f);return u=Object.assign({useFetchStreams:n},u),g._setSettings(u),g},"PUBLIC").setMultipleInstances(!0)),oi(b0,E0,e),oi(b0,E0,"esm2017")})();var qI="firebase",FI="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oi(qI,FI,"app");const yT={apiKey:"AIzaSyCzev7YrpHXNIrtwBv5m9umV-UnQjy14vw",authDomain:"cerdikia-aaafd.firebaseapp.com",projectId:"cerdikia-aaafd",storageBucket:"cerdikia-aaafd.firebasestorage.app",messagingSenderId:"221518248366",appId:"1:221518248366:web:4d76f11588f54e303df03f",measurementId:"G-L4QQ99VL0T"};console.log("Firebase Config:",yT);const vT=W1(yT),yc=nr(vT),_T=new us,vn=wI(vT);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KI=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),b1=s=>{const e=KI(s);return e.charAt(0).toUpperCase()+e.slice(1)},bT=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $I={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=I.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:u,iconNode:f,...g},p)=>I.createElement("svg",{ref:p,...$I,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:bT("lucide",l),...g},[...f.map(([y,E])=>I.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=(s,e)=>{const n=I.forwardRef(({className:i,...l},u)=>I.createElement(QI,{ref:u,iconNode:e,className:bT(`lucide-${GI(b1(s))}`,`lucide-${s}`,i),...l}));return n.displayName=b1(s),n};/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M20 8h-5",key:"1vsyxs"}],["path",{d:"M15 10V6.5a2.5 2.5 0 0 1 5 0V10",key:"ag13bf"}],["path",{d:"M15 14h5l-5 6h5",key:"ur5jdg"}]],ET=de("arrow-down-a-z",YI);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],WI=de("arrow-right",XI);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],TT=de("bell",ZI);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["path",{d:"M10 2v8l3-3 3 3V2",key:"sqw3rj"}],["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],eC=de("book-marked",JI);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tC=[["path",{d:"M12 21V7",key:"gj6g52"}],["path",{d:"m16 12 2 2 4-4",key:"mdajum"}],["path",{d:"M22 6V4a1 1 0 0 0-1-1h-5a4 4 0 0 0-4 4 4 4 0 0 0-4-4H3a1 1 0 0 0-1 1v13a1 1 0 0 0 1 1h6a3 3 0 0 1 3 3 3 3 0 0 1 3-3h6a1 1 0 0 0 1-1v-1.3",key:"8arnkb"}]],lp=de("book-open-check",tC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],ur=de("book-open",nC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],hi=de("book",aC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],iC=de("bookmark",sC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],lC=de("box",rC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],cC=de("building",oC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ud=de("calendar",uC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Im=de("camera",hC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dC=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fC=de("chart-column",dC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mC=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],dg=de("chevron-down",mC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],vi=de("chevron-left",pC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Xn=de("chevron-right",gC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yC=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],xT=de("chevron-up",yC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],NT=de("circle-alert",vC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _C=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],hd=de("circle-check-big",_C);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dd=de("circle-help",bC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Wn=de("clock",EC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TC=[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xC=de("compass",TC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NC=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],E1=de("download",NC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wC=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],SC=de("ellipsis",wC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AC=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],op=de("eye-off",AC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jC=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Bh=de("eye",jC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kC=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],RC=de("file-text",kC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IC=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fg=de("funnel",IC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],DC=de("globe",CC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MC=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],ic=de("graduation-cap",MC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OC=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],mg=de("heart",OC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PC=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],VC=de("image",PC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],T1=de("info",LC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UC=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],zC=de("laptop",UC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BC=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HC=de("layout-dashboard",BC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qC=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],fd=de("loader-circle",qC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FC=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],GC=de("log-in",FC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],wT=de("log-out",KC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ST=de("mail",$C);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],YC=de("map-pin",QC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],WC=de("maximize",XC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],JC=de("menu",ZC);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],tD=de("message-circle",eD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],aD=de("message-square",nD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]],iD=de("minimize-2",sD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],lD=de("monitor",rD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M5 3v16h16",key:"1mqmf9"}],["path",{d:"m5 19 6-6",key:"jh6hbb"}],["path",{d:"m2 6 3-3 3 3",key:"tkyvxa"}],["path",{d:"m18 16 3 3-3 3",key:"1d4glt"}]],x1=de("move-3d",oD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],uD=de("palette",cD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],dD=de("panels-top-left",hD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]],mD=de("pause",fD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],gD=de("phone",pD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Hh=de("play",yD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],_D=de("plus",vD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],_i=de("search",bD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TD=de("send",ED);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pg=de("settings",xD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],cp=de("share-2",ND);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],SD=de("shield",wD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],jD=de("shopping-bag",AD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],gl=de("shopping-cart",kD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],ID=de("smile",RD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],AT=de("sparkles",CD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rc=de("star",DD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],OD=de("trending-up",MD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],VD=de("user-plus",PD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gg=de("user",LD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Sl=de("users",UD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],BD=de("volume-2",zD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],qD=de("volume-x",HD);/**
 * @license lucide-react v0.486.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lc=de("x",FD);function GD(){return c.jsx("div",{className:"search-bar-container",children:c.jsxs("div",{className:"search-bar-wrapper",children:[c.jsx(_i,{className:"search-bar-icon"}),c.jsx("input",{type:"text",placeholder:"Cari materi pembelajaran...",className:"search-bar-input","aria-label":"Search"}),c.jsxs("div",{className:"search-bar-shortcuts",children:[c.jsx("span",{className:"search-bar-shortcut",children:"⌘"}),c.jsx("span",{className:"search-bar-shortcut",children:"K"})]})]})})}function KD(){const s=ma(),[e,n]=I.useState(!1),[i,l]=I.useState(!1),[u,f]=I.useState(null),g=I.useRef(null),p=I.useRef(null),y=nr();I.useEffect(()=>{const w=$h(y,async M=>{if(M)try{const P=Ts(vn,"users",M.uid),F=await Pl(P);F.exists()?f(F.data()):f({name:M.displayName,email:M.email,photoURL:M.photoURL,role:"Guru"})}catch(P){console.error("Error fetching user data:",P)}});return()=>w()},[y]),I.useEffect(()=>{function w(M){g.current&&!g.current.contains(M.target)&&!M.target.closest(".user-nav-notification")&&n(!1),p.current&&!p.current.contains(M.target)&&!M.target.closest(".user-nav-avatar")&&l(!1)}return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const E=async()=>{try{await xb(y),s("/")}catch(w){console.error("Error signing out:",w),alert("Gagal keluar. Silakan coba lagi.")}},N=[{id:1,text:"Tugas Matematika telah dinilai",time:"5 menit yang lalu",icon:c.jsx(hd,{className:"h-5 w-5"})},{id:2,text:"Buku baru tersedia di Pasar Buku",time:"1 jam yang lalu",icon:c.jsx(ur,{className:"h-5 w-5"})}];return c.jsxs("div",{className:"user-nav-container",children:[c.jsx("button",{className:`user-nav-button notification-badge ${e?"user-nav-button-active":""}`,onClick:()=>{n(!e),l(!1)},"aria-label":"Notifications",children:c.jsx(TT,{className:"h-5 w-5"})}),e&&c.jsxs("div",{className:"notification-dropdown",ref:g,children:[c.jsxs("div",{className:"notification-header",children:[c.jsx("div",{className:"notification-title",children:"Notifikasi"}),c.jsx("button",{className:"notification-clear",children:"Tandai semua dibaca"})]}),c.jsx("div",{className:"notification-list",children:N.length>0?N.map(w=>c.jsxs("div",{className:"notification-item",children:[c.jsx("div",{className:"notification-icon",children:w.icon}),c.jsxs("div",{className:"notification-content",children:[c.jsx("div",{className:"notification-text",children:w.text}),c.jsx("div",{className:"notification-time",children:w.time})]})]},w.id)):c.jsx("div",{className:"notification-empty",children:"Tidak ada notifikasi baru"})}),c.jsx("div",{className:"notification-footer",children:c.jsx("button",{className:"notification-view-all",onClick:()=>s("/notifikasi"),children:"Lihat semua notifikasi"})})]}),c.jsx("button",{className:"user-nav-button",onClick:()=>s("/keranjang"),"aria-label":"Shopping Cart",children:c.jsx(gl,{className:"h-5 w-5"})}),c.jsx("button",{className:"user-nav-button",onClick:()=>s("/pengaturan"),"aria-label":"Settings",children:c.jsx(pg,{className:"h-5 w-5"})}),c.jsx("div",{className:"user-nav-avatar",onClick:()=>{l(!i),n(!1)},children:c.jsx("img",{src:(u==null?void 0:u.photoURL)||"/placeholder.svg?height=40&width=40",alt:"Profile",className:"user-nav-avatar-img"})}),i&&c.jsxs("div",{className:"user-dropdown",ref:p,children:[c.jsxs("div",{className:"user-dropdown-header",children:[c.jsx("div",{className:"user-dropdown-avatar",children:c.jsx("img",{src:(u==null?void 0:u.photoURL)||"/placeholder.svg?height=64&width=64",alt:"Profile"})}),c.jsx("div",{className:"user-dropdown-name",children:(u==null?void 0:u.name)||"Pengguna"}),c.jsx("div",{className:"user-dropdown-email",children:(u==null?void 0:u.email)||"user@example.com"})]}),c.jsxs("div",{className:"user-dropdown-menu",children:[c.jsxs("div",{className:"user-dropdown-item",onClick:()=>s("/profile"),children:[c.jsx(gg,{className:"user-dropdown-item-icon"}),c.jsx("span",{children:"Profil Saya"})]}),c.jsxs("div",{className:"user-dropdown-item",onClick:()=>s("/favorit"),children:[c.jsx(mg,{className:"user-dropdown-item-icon"}),c.jsx("span",{children:"Favorit"})]}),c.jsxs("div",{className:"user-dropdown-item",onClick:()=>s("/bantuan"),children:[c.jsx(dd,{className:"user-dropdown-item-icon"}),c.jsx("span",{children:"Bantuan"})]}),c.jsx("div",{className:"user-dropdown-divider"}),c.jsxs("div",{className:"user-dropdown-item user-dropdown-logout",onClick:E,children:[c.jsx(wT,{className:"user-dropdown-item-icon"}),c.jsx("span",{children:"Keluar"})]})]})]})]})}function Jn(){const[s,e]=I.useState(!1),[n,i]=I.useState(!1);return I.useEffect(()=>{const l=()=>{window.scrollY>10?e(!0):e(!1)};return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)},[]),c.jsxs("header",{className:`header ${s?"header-scrolled":""}`,children:[c.jsxs("div",{className:"header-left",children:[c.jsx("button",{className:"mobile-menu-button",onClick:()=>i(!n),"aria-label":"Toggle menu",children:c.jsx(JC,{className:"h-5 w-5"})}),c.jsx("h1",{className:"header-title"})]}),c.jsx(GD,{}),c.jsx("div",{className:"header-right",children:c.jsx(KD,{})})]})}const yg="/cerdikia/assets/logo-cerdikia-B3qCTwAS.svg";function $D({className:s}){const e=[{name:"Dashboard",icon:HC,path:"/dashboard"},{name:"Pembelajaran",icon:ur,path:"/pembelajaran"},{name:"Pasar Buku",icon:eC,path:"/pasar-buku"},{name:"Jadwal",icon:ud,path:"/jadwal"},{name:"AR",icon:lC,path:"/ar"}],n=[{name:"Komunitas",icon:Sl,path:"/komunitas"},{name:"Bantuan",icon:dd,path:"/bantuan"},{name:"Pengaturan",icon:pg,path:"/pengaturan"}];return c.jsxs("div",{className:`sidebar-container ${s||""}`,children:[c.jsx("div",{className:"sidebar-header",children:c.jsx(ch,{to:"/dashboard",children:c.jsx("img",{src:yg,alt:"Cerdikia Logo",className:"logo"})})}),c.jsxs("div",{className:"sidebar-nav",children:[c.jsxs("div",{className:"sidebar-section",children:[c.jsx("div",{className:"sidebar-section-title",children:"Menu Utama"}),e.map(i=>c.jsxs(ch,{to:i.path,className:({isActive:l})=>`sidebar-link ${l?"sidebar-link-active":""}`,children:[c.jsx(i.icon,{className:"sidebar-icon"}),c.jsx("span",{children:i.name})]},i.name))]}),c.jsxs("div",{className:"sidebar-section",children:[c.jsx("div",{className:"sidebar-section-title",children:"Lainnya"}),n.map(i=>c.jsxs(ch,{to:i.path,className:({isActive:l})=>`sidebar-link ${l?"sidebar-link-active":""}`,children:[c.jsx(i.icon,{className:"sidebar-icon"}),c.jsx("span",{children:i.name})]},i.name))]})]}),c.jsxs("div",{className:"sidebar-footer",children:[c.jsx("div",{children:"Cerdikia"}),c.jsx("div",{className:"sidebar-version",children:"Version 1.0.0"})]})]})}function Pt({children:s}){const[e,n]=I.useState(!1),[i,l]=I.useState(!1);I.useEffect(()=>{const f=()=>{l(window.innerWidth<768)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[]),I.useEffect(()=>{const f=()=>{n(!e)};return window.addEventListener("toggleMobileMenu",f),()=>window.removeEventListener("toggleMobileMenu",f)},[e]);const u=()=>{n(!1)};return c.jsxs("div",{className:"layout-container",children:[c.jsx("div",{className:`sidebar-overlay ${e?"open":""}`,onClick:u}),c.jsx($D,{className:`sidebar ${e?"open":""}`}),c.jsx("div",{className:"main-content",children:s})]})}function QD(){const[s,e]=I.useState(null),[n,i]=I.useState("all");I.useEffect(()=>{const p=$h(yc,async y=>{if(y)try{const E=Ts(vn,"users",y.uid),N=await Pl(E);N.exists()?e(N.data()):e({name:y.displayName,email:y.email,photoURL:y.photoURL,role:"Guru"})}catch(E){console.error("Gagal mengambil data pengguna:",E)}});return()=>p()},[]);const l=[{id:1,title:"Pengenalan Matematika Dasar",description:"Belajar konsep dasar matematika untuk pemula",duration:"15 menit",color:"bg-gradient-1",icon:"📐",progress:65},{id:2,title:"Membaca dengan Lancar",description:"Teknik membaca yang efektif untuk anak",duration:"20 menit",color:"bg-gradient-2",icon:"📚",progress:30},{id:3,title:"Mengenal Alam Sekitar",description:"Eksplorasi lingkungan dan alam sekitar kita",duration:"18 menit",color:"bg-gradient-3",icon:"🌿",progress:80}],u=[{title:"Kursus Selesai",value:"12",icon:c.jsx(lp,{className:"h-5 w-5"}),change:"+2"},{title:"Jam Belajar",value:"48",icon:c.jsx(Wn,{className:"h-5 w-5"}),change:"+5"},{title:"Pencapaian",value:"5",icon:c.jsx(rc,{className:"h-5 w-5"}),change:"+1"}],f=[{title:"Matematika Kelas 4",description:"Belajar matematika dengan mudah",icon:"📘",color:"bg-gradient-1"},{title:"Eksperimen Sains",description:"Eksperimen sains sederhana",icon:"🧪",color:"bg-gradient-2"},{title:"Bahasa Indonesia",description:"Meningkatkan kemampuan berbahasa",icon:"📝",color:"bg-gradient-3"}],g=p=>{i(p)};return c.jsx(Pt,{children:c.jsxs("div",{className:"dashboard-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"dashboard-main",children:[c.jsxs("div",{className:"dashboard-hero",children:[c.jsxs("div",{className:"hero-content",children:[c.jsxs("div",{className:"welcome-badge",children:[c.jsx(AT,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:"Selamat Datang Kembali"})]}),c.jsxs("h1",{className:"hero-title",children:["Halo, ",c.jsx("span",{className:"highlight",children:(s==null?void 0:s.name)||"Pengguna"}),"!"]}),c.jsx("p",{className:"hero-subtitle",children:"Mari lanjutkan perjalanan belajarmu hari ini dengan materi yang menyenangkan"}),c.jsxs("div",{className:"hero-search",children:[c.jsx(_i,{className:"search-icon"}),c.jsx("input",{type:"text",placeholder:"Cari materi pembelajaran...",className:"search-input"}),c.jsx("button",{className:"search-button",children:"Cari"})]}),c.jsx("div",{className:"achievement-cards",children:u.map((p,y)=>c.jsxs("div",{className:"achievement-card",children:[c.jsx("div",{className:"achievement-icon",children:p.icon}),c.jsxs("div",{className:"achievement-info",children:[c.jsxs("div",{className:"achievement-header",children:[c.jsx("h3",{className:"achievement-value",children:p.value}),p.change&&c.jsx("span",{className:"achievement-change",children:p.change})]}),c.jsx("p",{className:"achievement-title",children:p.title})]})]},y))})]}),c.jsxs("div",{className:"hero-decoration",children:[c.jsx("div",{className:"decoration-element element-1"}),c.jsx("div",{className:"decoration-element element-2"}),c.jsx("div",{className:"decoration-element element-3"}),c.jsx("div",{className:"decoration-element element-4"})]})]}),c.jsxs("div",{className:"dashboard-grid",children:[c.jsxs("div",{className:"dashboard-content",children:[c.jsxs("div",{className:"content-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title",children:[c.jsx(Hh,{className:"section-icon"}),c.jsx("h2",{children:"Lanjutkan Pembelajaran"})]}),c.jsxs(hl,{to:"/video",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsx("div",{className:"video-lessons-container",children:l.map(p=>c.jsxs("div",{className:"video-lesson-card",children:[c.jsxs("div",{className:`video-thumbnail ${p.color}`,children:[c.jsx("span",{className:"video-icon",children:p.icon}),c.jsx("div",{className:"play-button",children:c.jsx(Hh,{className:"h-6 w-6"})})]}),c.jsxs("div",{className:"video-info",children:[c.jsx("h3",{className:"video-title",children:p.title}),c.jsx("p",{className:"video-description",children:p.description}),c.jsxs("div",{className:"progress-container",children:[c.jsx("div",{className:"progress-bar",children:c.jsx("div",{className:"progress-fill",style:{width:`${p.progress}%`}})}),c.jsxs("span",{className:"progress-text",children:[p.progress,"%"]})]}),c.jsxs("div",{className:"video-meta",children:[c.jsxs("span",{className:"video-duration",children:[c.jsx(Wn,{className:"h-4 w-4"}),p.duration]}),c.jsx("button",{className:"video-action",children:"Lanjutkan"})]})]})]},p.id))})]}),c.jsxs("div",{className:"content-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title",children:[c.jsx(OD,{className:"section-icon"}),c.jsx("h2",{children:"Trending Buku"})]}),c.jsxs(hl,{to:"/pasar-buku",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsxs("div",{className:"trending-book-container",children:[c.jsxs("div",{className:"trending-book-card",children:[c.jsxs("div",{className:"book-cover",children:[c.jsx("div",{className:"book-badge",children:"Populer"}),c.jsx("img",{src:"/books/buku1.svg",alt:"Book cover"})]}),c.jsxs("div",{className:"book-info",children:[c.jsx("h3",{className:"book-title",children:"Gembira Belajar IPA"}),c.jsx("p",{className:"book-description",children:"Pelajari konsep IPA dengan cara yang menyenangkan dan interaktif untuk meningkatkan pemahaman anak"}),c.jsxs("div",{className:"book-meta",children:[c.jsxs("span",{className:"book-rating",children:[c.jsx(rc,{className:"h-4 w-4 fill-current"}),"4.8"]}),c.jsxs("span",{className:"book-students",children:[c.jsx(ic,{className:"h-4 w-4"}),"1.2k Siswa"]})]}),c.jsx("button",{className:"book-action",children:"Baca Sekarang"})]})]}),c.jsxs("div",{className:"recommended-books",children:[c.jsx("h3",{className:"recommended-title",children:"Rekomendasi Untukmu"}),c.jsx("div",{className:"book-list",children:f.map((p,y)=>c.jsxs("div",{className:"book-item",children:[c.jsx("div",{className:`book-item-cover ${p.color}`,children:c.jsx("span",{children:p.icon})}),c.jsxs("div",{className:"book-item-info",children:[c.jsx("h4",{children:p.title}),c.jsx("p",{children:p.description})]}),c.jsx(WI,{className:"book-item-arrow h-4 w-4"})]},y))})]})]})]})]}),c.jsxs("div",{className:"dashboard-sidebar",children:[c.jsxs("div",{className:"content-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title",children:[c.jsx(ud,{className:"section-icon"}),c.jsx("h2",{children:"Jadwal Kegiatan"})]}),c.jsxs(hl,{to:"/jadwal",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsxs("div",{className:"calendar-container",children:[c.jsxs("div",{className:"calendar-header",children:[c.jsx("button",{className:"calendar-nav-button",children:c.jsx(vi,{className:"h-5 w-5"})}),c.jsx("h3",{className:"calendar-month",children:"Maret 2025"}),c.jsx("button",{className:"calendar-nav-button",children:c.jsx(Xn,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"calendar-grid",children:[["MIN","SEN","SEL","RAB","KAM","JUM","SAB"].map(p=>c.jsx("div",{className:"calendar-day",children:p},p)),Array.from({length:31}).map((p,y)=>c.jsx("div",{className:`calendar-date ${y===9?"active":""} ${[5,12,19].includes(y)?"has-event":""}`,children:y+1},y))]}),c.jsxs("div",{className:"upcoming-events",children:[c.jsxs("div",{className:"events-header",children:[c.jsx("h3",{className:"events-title",children:"Kegiatan Hari Ini"}),c.jsx("span",{className:"events-date",children:"10 Maret 2025"})]}),c.jsxs("div",{className:"event-list",children:[c.jsxs("div",{className:"event-item",children:[c.jsx("div",{className:"event-time",children:"09:00"}),c.jsxs("div",{className:"event-content",children:[c.jsx("div",{className:"event-indicator"}),c.jsxs("div",{children:[c.jsx("h4",{className:"event-name",children:"Kelas Matematika"}),c.jsx("p",{className:"event-description",children:"Belajar perkalian dan pembagian"})]})]})]}),c.jsxs("div",{className:"event-item",children:[c.jsx("div",{className:"event-time",children:"13:30"}),c.jsxs("div",{className:"event-content",children:[c.jsx("div",{className:"event-indicator"}),c.jsxs("div",{children:[c.jsx("h4",{className:"event-name",children:"Praktikum IPA"}),c.jsx("p",{className:"event-description",children:"Eksperimen fotosintesis"})]})]})]})]})]})]})]}),c.jsxs("div",{className:"content-section",children:[c.jsx("div",{className:"section-header",children:c.jsxs("div",{className:"section-title",children:[c.jsx(fC,{className:"section-icon"}),c.jsx("h2",{children:"Statistik Belajar"})]})}),c.jsxs("div",{className:"stats-container",children:[c.jsxs("div",{className:"stats-item",children:[c.jsxs("div",{className:"stats-info",children:[c.jsx("h3",{children:"Waktu Belajar Minggu Ini"}),c.jsx("p",{className:"stats-value",children:"8 jam 30 menit"})]}),c.jsx("div",{className:"stats-chart",children:c.jsx("div",{className:"chart-bar-container",children:[30,45,60,40,75,50,20].map((p,y)=>c.jsxs("div",{className:"chart-bar-wrapper",children:[c.jsx("div",{className:"chart-bar",style:{height:`${p}%`}}),c.jsx("span",{className:"chart-label",children:["S","S","R","K","J","S","M"][y]})]},y))})})]}),c.jsxs("div",{className:"stats-item",children:[c.jsxs("div",{className:"stats-info",children:[c.jsx("h3",{children:"Materi Selesai"}),c.jsxs("div",{className:"completion-info",children:[c.jsx("p",{className:"stats-value",children:"24/36"}),c.jsx("span",{className:"completion-percentage",children:"67%"})]})]}),c.jsx("div",{className:"completion-bar",children:c.jsx("div",{className:"completion-fill",style:{width:"67%"}})})]})]})]})]})]}),c.jsxs("div",{className:"curriculum-section",children:[c.jsxs("div",{className:"curriculum-header",children:[c.jsxs("div",{className:"section-title",children:[c.jsx(lp,{className:"section-icon"}),c.jsx("h2",{children:"Kurikulum Materi"})]}),c.jsxs("div",{className:"curriculum-filter",children:[c.jsx("span",{className:"filter-label",children:"Filter:"}),c.jsx("button",{className:`filter-button ${n==="all"?"active":""}`,onClick:()=>g("all"),children:"Semua"}),c.jsx("button",{className:`filter-button ${n==="favorite"?"active":""}`,onClick:()=>g("favorite"),children:"Favorit"}),c.jsx("button",{className:`filter-button ${n==="new"?"active":""}`,onClick:()=>g("new"),children:"Terbaru"})]})]}),c.jsx("div",{className:"curriculum-grid",children:[{grade:1,color:"bg-gradient-1",path:"/kelas/1",students:"1.2k"},{grade:2,color:"bg-gradient-2",path:"/kelas/2",students:"980"},{grade:3,color:"bg-gradient-3",path:"/kelas/3",students:"1.5k"},{grade:4,color:"bg-gradient-4",path:"/kelas/4",students:"1.1k"},{grade:5,color:"bg-gradient-5",path:"/kelas/5",students:"950"},{grade:6,color:"bg-gradient-6",path:"/kelas/6",students:"870"},{name:"Ekstrakurikuler",icon:"🎓",path:"/ekstrakurikuler",color:"bg-gradient-7",students:"760"},{name:"Peminatan",icon:"🎯",path:"/peminatan",color:"bg-gradient-8",students:"620"}].map((p,y)=>c.jsx(hl,{to:p.path,className:"curriculum-card",children:c.jsxs("div",{className:`curriculum-card-inner ${p.color}`,children:[p.grade?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"curriculum-icon-wrapper",children:c.jsx("span",{className:"curriculum-grade",children:p.grade})}),c.jsxs("h3",{className:"curriculum-title",children:["Kelas ",p.grade]}),c.jsxs("p",{className:"curriculum-description",children:["Materi pembelajaran kelas ",p.grade]}),c.jsx("div",{className:"curriculum-meta",children:c.jsxs("span",{className:"curriculum-students",children:[c.jsx(ic,{className:"h-4 w-4"}),p.students," Siswa"]})})]}):c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"curriculum-icon-wrapper",children:c.jsx("span",{className:"curriculum-icon",children:p.icon})}),c.jsx("h3",{className:"curriculum-title",children:p.name}),c.jsxs("p",{className:"curriculum-description",children:["Program khusus ",p.name.toLowerCase()]}),c.jsx("div",{className:"curriculum-meta",children:c.jsxs("span",{className:"curriculum-students",children:[c.jsx(ic,{className:"h-4 w-4"}),p.students," Siswa"]})})]}),c.jsxs("div",{className:"curriculum-card-action",children:[c.jsx("span",{children:"Lihat Materi"}),c.jsx(Xn,{className:"h-4 w-4"})]})]})},y))})]})]})]})})}function YD(){const[s,e]=I.useState([]),[n,i]=I.useState([]),[l,u]=I.useState(null),[f,g]=I.useState(null),[p,y]=I.useState(0),[E,N]=I.useState(!1),[w,M]=I.useState(null),[P,F]=I.useState(!1),[V,$]=I.useState({message:"",type:""}),[ie,J]=I.useState(""),fe=ma();I.useEffect(()=>{(async()=>{try{const U=(await Cc(ar(vn,"books"))).docs.map(R=>({id:R.id,...R.data(),price:`Rp ${Math.floor(Math.random()*50)+20}.000`,rating:(Math.random()*2+3).toFixed(1),students:Math.floor(Math.random()*1e3)+100}));e(U),i(U)}catch(O){console.error("Gagal mengambil buku:",O)}})()},[]),I.useEffect(()=>{let S=[...s];ie&&(S=S.filter(O=>O.title.toLowerCase().includes(ie.toLowerCase()))),l!==null&&(S=S.filter(O=>O.grade===l)),f&&(S=S.filter(O=>O.category===f)),i(S)},[ie,l,f,s]);const ue=[...n].sort((S,O)=>p===1?S.grade-O.grade:p===2?O.grade-S.grade:0),Ne=(S,O="success")=>{$({message:S,type:O}),setTimeout(()=>$({message:"",type:""}),3e3)},C=S=>{Ne(`${S.title} berhasil ditambahkan ke keranjang!`),F(!1)},A=({book:S})=>S?c.jsx("div",{className:"modal-overlay",onClick:()=>F(!1),children:c.jsxs("div",{className:"modal-container",onClick:O=>O.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Detail Buku"}),c.jsx("button",{className:"modal-close",onClick:()=>F(!1),children:c.jsx(lc,{size:20})})]}),c.jsxs("div",{className:"book-detail-content",children:[c.jsxs("div",{className:"book-detail-left",children:[c.jsx("h2",{className:"book-detail-title",children:S.title}),c.jsxs("div",{className:"book-detail-tags",children:[S.grade>0&&c.jsxs("span",{className:"pasar-buku-tag pasar-buku-tag-grade",children:["Kelas ",S.grade]}),S.grade===0&&c.jsx("span",{className:"pasar-buku-tag pasar-buku-tag-grade",children:"Umum"}),S.category&&c.jsx("span",{className:"pasar-buku-tag pasar-buku-tag-category",children:S.category})]}),c.jsx("p",{className:"book-detail-description",children:S.description}),c.jsxs("div",{className:"book-detail-info",children:[c.jsxs("div",{className:"book-detail-info-item",children:[c.jsx("span",{className:"book-detail-info-label",children:"Penerbit"}),c.jsx("span",{className:"book-detail-info-value",children:S.publisher||"Penerbit Resmi"})]}),c.jsxs("div",{className:"book-detail-info-item",children:[c.jsx("span",{className:"book-detail-info-label",children:"Pelajar"}),c.jsxs("span",{className:"book-detail-info-value",children:[S.students," siswa"]})]}),c.jsxs("div",{className:"book-detail-info-item",children:[c.jsx("span",{className:"book-detail-info-label",children:"Rating"}),c.jsxs("span",{className:"book-detail-info-value",children:[S.rating," / 5.0"]})]}),c.jsxs("div",{className:"book-detail-info-item",children:[c.jsx("span",{className:"book-detail-info-label",children:"Harga Sewa"}),c.jsx("span",{className:"book-detail-info-value",children:S.price})]})]}),c.jsxs("div",{className:"book-detail-actions",children:[c.jsxs("button",{className:"book-detail-button book-detail-button-secondary",children:[c.jsx(ur,{size:18}),c.jsx("span",{children:"Lihat Preview"})]}),c.jsxs("button",{className:"book-detail-button book-detail-button-primary",onClick:()=>C(S),children:[c.jsx(gl,{size:18}),c.jsx("span",{children:"Tambahkan ke Keranjang"})]})]})]}),c.jsx("div",{className:"book-detail-right",children:c.jsx("img",{src:S.image||"/placeholder.svg?height=320&width=220",alt:S.title,className:"book-detail-image"})})]})]})}):null,j=()=>c.jsx("div",{className:"modal-overlay",onClick:()=>N(!1),children:c.jsxs("div",{className:"modal-container",onClick:S=>S.stopPropagation(),children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{className:"modal-title",children:"Filter Buku"}),c.jsx("button",{className:"modal-close",onClick:()=>N(!1),children:c.jsx(lc,{size:20})})]}),c.jsxs("div",{className:"filter-modal-content",children:[c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{htmlFor:"grade-filter",children:"Kelas:"}),c.jsxs("select",{id:"grade-filter",value:l!==null?l:"",onChange:S=>u(S.target.value!==""?Number.parseInt(S.target.value):null),children:[c.jsx("option",{value:"",children:"Semua"}),c.jsx("option",{value:"0",children:"Umum"}),[1,2,3,4,5,6].map(S=>c.jsxs("option",{value:S,children:["Kelas ",S]},S))]})]}),c.jsxs("div",{className:"filter-group",children:[c.jsx("label",{htmlFor:"category-filter",children:"Kategori:"}),c.jsxs("select",{id:"category-filter",value:f||"",onChange:S=>g(S.target.value||null),children:[c.jsx("option",{value:"",children:"Semua"}),["Sains","Sosial","Peminatan"].map(S=>c.jsx("option",{value:S,children:S},S))]})]})]}),c.jsxs("div",{className:"filter-modal-footer",children:[c.jsx("button",{className:"filter-modal-button filter-reset",onClick:()=>{u(null),g(null)},children:"Reset"}),c.jsx("button",{className:"filter-modal-button filter-apply",onClick:()=>N(!1),children:"Terapkan Filter"})]})]})});return c.jsx(Pt,{children:c.jsxs("div",{className:"pasar-buku-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"pasar-buku-main",children:[c.jsxs("div",{className:"pasar-buku-header",children:[c.jsxs("div",{className:"pasar-buku-title-section",children:[c.jsx("h1",{className:"pasar-buku-title",children:"Pasar Buku"}),c.jsx("p",{className:"pasar-buku-subtitle",children:"Jelajahi koleksi buku pembelajaran kami"})]}),c.jsxs("div",{className:"pasar-buku-actions",children:[c.jsxs("button",{className:`pasar-buku-button ${p>0?"pasar-buku-button-active":""}`,onClick:()=>y(S=>(S+1)%3),children:[c.jsx(ET,{className:"pasar-buku-icon"}),c.jsx("span",{children:"Urutkan"}),p===1&&c.jsx(xT,{className:"pasar-buku-icon"}),p===2&&c.jsx(dg,{className:"pasar-buku-icon"})]}),c.jsxs("button",{className:`pasar-buku-button ${l!==null||f!==null?"pasar-buku-button-active":""}`,onClick:()=>N(!0),children:[c.jsx(fg,{className:"pasar-buku-icon"}),c.jsx("span",{children:"Filter"})]}),c.jsxs("button",{className:"pasar-buku-button pasar-buku-cart",onClick:()=>fe("/keranjang"),children:[c.jsx(gl,{className:"pasar-buku-icon"}),c.jsx("span",{children:"Keranjang Sewa"})]})]})]}),c.jsxs("div",{className:"pasar-buku-search",children:[c.jsx(_i,{className:"pasar-buku-search-icon"}),c.jsx("input",{type:"text",placeholder:"Cari judul buku...",className:"pasar-buku-search-input",value:ie,onChange:S=>J(S.target.value)})]}),ue.length>0?c.jsx("div",{className:"pasar-buku-grid",children:ue.map(S=>c.jsxs("div",{className:"pasar-buku-card",onClick:()=>{M(S),F(!0)},children:[c.jsxs("div",{className:"pasar-buku-card-header",children:[c.jsxs("div",{className:"pasar-buku-tags",children:[S.grade>0&&c.jsxs("span",{className:"pasar-buku-tag pasar-buku-tag-grade",children:["Kelas ",S.grade]}),S.grade===0&&c.jsx("span",{className:"pasar-buku-tag pasar-buku-tag-grade",children:"Umum"}),S.category&&c.jsx("span",{className:"pasar-buku-tag pasar-buku-tag-category",children:S.category})]}),c.jsx("h2",{className:"pasar-buku-card-title",children:S.title}),c.jsx("p",{className:"pasar-buku-card-description",children:S.description})]}),c.jsxs("div",{className:"pasar-buku-card-content",children:[c.jsx("div",{className:"pasar-buku-card-image",children:c.jsx("img",{src:S.image||"/placeholder.svg?height=160&width=110",alt:S.title})}),c.jsxs("div",{className:"pasar-buku-card-info",children:[c.jsxs("div",{className:"pasar-buku-card-detail",children:[c.jsx(Sl,{className:"pasar-buku-card-detail-icon"}),c.jsxs("span",{children:[S.students," siswa"]})]}),c.jsxs("div",{className:"pasar-buku-card-detail",children:[c.jsx(hi,{className:"pasar-buku-card-detail-icon"}),c.jsxs("span",{children:["Kelas ",S.grade||"Umum"]})]}),c.jsxs("div",{className:"pasar-buku-card-detail",children:[c.jsx(ud,{className:"pasar-buku-card-detail-icon"}),c.jsx("span",{children:"30 hari sewa"})]})]})]}),c.jsxs("div",{className:"pasar-buku-card-footer",children:[c.jsx("div",{className:"pasar-buku-card-price",children:S.price}),c.jsxs("button",{className:"pasar-buku-card-button",onClick:O=>{O.stopPropagation(),C(S)},children:[c.jsx(gl,{size:14}),c.jsx("span",{children:"Tambah"})]})]})]},S.id))}):c.jsxs("div",{className:"pasar-buku-empty",children:[c.jsx(ur,{className:"pasar-buku-empty-icon"}),c.jsx("h2",{className:"pasar-buku-empty-title",children:"Tidak ada buku ditemukan"}),c.jsx("p",{className:"pasar-buku-empty-description",children:"Buku yang Anda cari tidak ditemukan. Coba gunakan kata kunci lain atau reset filter."}),c.jsx("button",{className:"pasar-buku-empty-button",onClick:()=>{J(""),u(null),g(null)},children:"Reset Pencarian"})]}),E&&c.jsx(j,{}),P&&w&&c.jsx(A,{book:w}),V.message&&c.jsxs("div",{className:`notification ${V.type==="error"?"notification-error":""}`,children:[V.type==="success"?c.jsx(hd,{className:"notification-icon"}):c.jsx(lc,{className:"notification-icon"}),c.jsx("span",{children:V.message})]})]})]})})}function XD(){const[s,e]=I.useState([]),[n,i]=I.useState([]),[l,u]=I.useState(null),[f,g]=I.useState(0),[p,y]=I.useState(!1),[E,N]=I.useState(""),w=ma();I.useEffect(()=>{(async()=>{try{const J=(await Cc(ar(vn,"subjects"))).docs.map(ue=>ue.data()).filter(ue=>ue.subjectName==="Pendidikan Pancasila dan Kewarganegaraan");console.log("PKN Subject fetched:",J);const fe=J.map(ue=>({...ue,description:"Materi pembelajaran tentang Pancasila dan kewarganegaraan untuk siswa",students:Math.floor(Math.random()*1e3)+100,duration:`${Math.floor(Math.random()*10)+2} jam`}));e(fe),i(fe)}catch($){console.error("Gagal mengambil data subjects:",$)}})()},[]),I.useEffect(()=>{let V=[...s];E&&(V=V.filter($=>$.subjectName.toLowerCase().includes(E.toLowerCase()))),l&&(V=V.filter($=>$.category===l)),i(V)},[E,l,s]);const M=[...n].sort((V,$)=>f===1?V.subjectName.localeCompare($.subjectName):f===2?$.subjectName.localeCompare(V.subjectName):0),P=()=>{g(V=>(V+1)%3)},F=()=>c.jsx("div",{className:"filter-modal-overlay",onClick:()=>y(!1),children:c.jsxs("div",{className:"filter-modal",onClick:V=>V.stopPropagation(),children:[c.jsxs("div",{className:"filter-modal-header",children:[c.jsx("h3",{className:"filter-modal-title",children:"Filter Pembelajaran"}),c.jsx("button",{className:"filter-modal-close",onClick:()=>y(!1),children:c.jsx(lc,{size:20})})]}),c.jsx("div",{className:"filter-modal-content",children:c.jsxs("div",{className:"filter-section",children:[c.jsx("h4",{className:"filter-section-title",children:"Kategori"}),c.jsxs("div",{className:"filter-options",children:[c.jsx("button",{className:`filter-option ${l===null?"filter-option-active":""}`,onClick:()=>u(null),children:"Semua"}),c.jsx("button",{className:`filter-option ${l==="SD"?"filter-option-active":""}`,onClick:()=>u("SD"),children:"SD"}),c.jsx("button",{className:`filter-option ${l==="SMP"?"filter-option-active":""}`,onClick:()=>u("SMP"),children:"SMP"}),c.jsx("button",{className:`filter-option ${l==="SMA"?"filter-option-active":""}`,onClick:()=>u("SMA"),children:"SMA"})]})]})}),c.jsxs("div",{className:"filter-modal-footer",children:[c.jsx("button",{className:"filter-modal-button filter-modal-button-secondary",onClick:()=>{u(null),y(!1)},children:"Reset"}),c.jsx("button",{className:"filter-modal-button filter-modal-button-primary",onClick:()=>y(!1),children:"Terapkan Filter"})]})]})});return c.jsx(Pt,{children:c.jsxs("div",{className:"pembelajaran-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"pembelajaran-main",children:[c.jsxs("div",{className:"pembelajaran-header",children:[c.jsxs("div",{className:"pembelajaran-title-section",children:[c.jsx("h1",{className:"pembelajaran-title",children:"Pembelajaran"}),c.jsx("p",{className:"pembelajaran-subtitle",children:"Jelajahi materi pembelajaran yang tersedia"})]}),c.jsxs("div",{className:"pembelajaran-actions",children:[c.jsx("div",{className:"search-bar-container",style:{maxWidth:"240px"},children:c.jsxs("div",{className:"search-bar-wrapper",children:[c.jsx(_i,{className:"search-bar-icon"}),c.jsx("input",{type:"text",placeholder:"Cari materi...",className:"search-bar-input",value:E,onChange:V=>N(V.target.value)})]})}),c.jsxs("button",{className:`pembelajaran-button ${f>0?"pembelajaran-button-active":""}`,onClick:P,children:[c.jsx(ET,{className:"pembelajaran-icon"}),c.jsx("span",{children:"Urutkan"}),f===1&&c.jsx(xT,{className:"pembelajaran-icon"}),f===2&&c.jsx(dg,{className:"pembelajaran-icon"})]}),c.jsxs("button",{className:`pembelajaran-button ${l?"pembelajaran-button-active":""}`,onClick:()=>y(!0),children:[c.jsx(fg,{className:"pembelajaran-icon"}),c.jsx("span",{children:"Filter"})]})]})]}),M.length>0?c.jsx("div",{className:"pembelajaran-grid",children:M.map(V=>c.jsxs("div",{className:"pembelajaran-card",onClick:()=>w(V.subjectPath),children:[c.jsxs("div",{className:"pembelajaran-card-image",children:[c.jsx("img",{src:V.subjectImage||"/placeholder.svg?height=180&width=320",alt:V.subjectName}),c.jsxs("div",{className:"pembelajaran-card-badge",children:[V.moduleCount," Modul"]})]}),c.jsxs("div",{className:"pembelajaran-card-content",children:[c.jsx("h3",{className:"pembelajaran-card-title",children:V.subjectName}),c.jsx("p",{className:"pembelajaran-card-description",children:V.description}),c.jsxs("div",{className:"pembelajaran-card-footer",children:[c.jsxs("div",{className:"pembelajaran-card-stats",children:[c.jsxs("div",{className:"pembelajaran-card-stat",children:[c.jsx(Sl,{size:14}),c.jsx("span",{children:V.students})]}),c.jsxs("div",{className:"pembelajaran-card-stat",children:[c.jsx(Wn,{size:14}),c.jsx("span",{children:V.duration})]})]}),c.jsxs("div",{className:"pembelajaran-card-action",children:[c.jsx("span",{children:"Lihat"}),c.jsx(Xn,{size:16})]})]})]})]},V.subjectId))}):c.jsxs("div",{className:"pembelajaran-empty",children:[c.jsx(lp,{className:"pembelajaran-empty-icon"}),c.jsx("h3",{className:"pembelajaran-empty-title",children:"Tidak ada materi ditemukan"}),c.jsx("p",{className:"pembelajaran-empty-description",children:"Materi yang Anda cari tidak ditemukan. Coba gunakan kata kunci lain atau reset filter."}),c.jsx("button",{className:"pembelajaran-empty-button",onClick:()=>{N(""),u(null)},children:"Reset Pencarian"})]})]}),p&&c.jsx(F,{})]})})}function WD(){const[s,e]=I.useState(new Date),[n,i]=I.useState(""),[l,u]=I.useState("Monthly"),[f,g]=I.useState(null),[p,y]=I.useState(!1),[E,N]=I.useState({title:"",color:"orange",time:""}),[w,M]=I.useState([]),[P,F]=I.useState(!1),[V,$]=I.useState({red:!0,yellow:!0,green:!0,purple:!0,orange:!0}),[ie,J]=I.useState(!1),[fe,ue]=I.useState(new Date),[Ne,C]=I.useState(""),[A,j]=I.useState(!0),S=I.useRef(null);I.useEffect(()=>{i(`${["January","February","March","April","May","June","July","August","September","October","November","December"][s.getMonth()]} ${s.getFullYear()}`)},[s]),I.useEffect(()=>(O(),()=>{M([]),j(!1)}),[]),I.useEffect(()=>{A||O()},[s]),I.useEffect(()=>{const X=setInterval(()=>{ue(new Date)},6e4);return()=>clearInterval(X)},[]),I.useEffect(()=>{function X(he){S.current&&!S.current.contains(he.target)&&J(!1)}return document.addEventListener("mousedown",X),()=>document.removeEventListener("mousedown",X)},[S]);const O=async()=>{try{j(!0);const he=nr().currentUser;let ve;he?ve=g1(ar(vn,"schedules"),y1("uid","in",[he.uid,"public"])):ve=g1(ar(vn,"schedules"),y1("uid","==","public"));const be=(await Cc(ve)).docs.map(Me=>{const ge=Me.data(),Je=ge.date instanceof wt?ge.date.toDate():new Date;return{id:Me.id,title:ge.title||"",color:ge.color||"orange",time:ge.time||"",date:Je,uid:ge.uid||"public"}});M(be)}catch(X){console.error("Error fetching events:",X),alert("Gagal mengambil data jadwal. Silakan coba lagi.")}finally{j(!1)}},U=async X=>{try{if(!X.title||!X.date)throw new Error("Data event tidak lengkap");const ve=nr().currentUser,se={title:X.title,color:X.color,time:X.time||"",date:wt.fromDate(X.date),createdAt:wt.now(),uid:ve?ve.uid:"public"},be=await BI(ar(vn,"schedules"),se),Me={...X,id:be.id,uid:se.uid};return M(ge=>[...ge,Me]),be.id}catch(he){throw console.error("Error adding event:",he),he}},R=async X=>{try{const ve=nr().currentUser,se=Ts(vn,"schedules",X),be=await Pl(se);if(!be.exists())throw new Error("Event tidak ditemukan");const Me=be.data();if(Me.uid==="public"||ve&&Me.uid===ve.uid)return await zI(se),M(ge=>ge.filter(Je=>Je.id!==X)),!0;throw new Error("Anda tidak memiliki izin untuk menghapus event ini")}catch(he){return console.error("Error deleting event:",he),alert(he.message||"Gagal menghapus event"),!1}},vt=()=>{const X=s.getFullYear(),he=s.getMonth(),ve=new Date(X,he,1).getDay(),se=new Date(X,he+1,0).getDate(),be=new Date(X,he,0).getDate(),Me=[];for(let Xe=ve-1;Xe>=0;Xe--)Me.push({day:be-Xe,month:"prev",date:new Date(X,he-1,be-Xe)});const ge=[];for(let Xe=1;Xe<=se;Xe++)ge.push({day:Xe,month:"current",date:new Date(X,he,Xe)});const Je=Math.ceil((ve+se)/7)*7,mt=[],Ye=Je-(Me.length+ge.length);for(let Xe=1;Xe<=Ye;Xe++)mt.push({day:Xe,month:"next",date:new Date(X,he+1,Xe)});return[...Me,...ge,...mt]},ht=()=>{const X=new Date(s),he=X.getDay();X.setDate(X.getDate()-he);const ve=[];for(let se=0;se<7;se++){const be=new Date(X);ve.push({day:be.getDate(),month:be.getMonth()===s.getMonth()?"current":be.getMonth()<s.getMonth()?"prev":"next",date:new Date(be)}),X.setDate(X.getDate()+1)}return ve},Q=()=>{const X=s.getFullYear(),he=["January","February","March","April","May","June","July","August","September","October","November","December"],ve=[];for(let be=0;be<4;be++){const Me=[];for(let ge=0;ge<3;ge++){const Je=be*3+ge;Me.push({month:he[Je],index:Je})}ve.push(Me)}const se=[X-1,X,X+1];return{calendarRows:ve,years:se}},le=X=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][X.getDay()],_e=X=>{if(!X)return!0;if(!/^([01]?[0-9]|2[0-3]):([0-5][0-9])\s*-\s*([01]?[0-9]|2[0-3]):([0-5][0-9])$/.test(X))return!1;const[ve,se]=X.split("-").map(Xe=>Xe.trim()),[be,Me]=ve.split(":").map(Number),[ge,Je]=se.split(":").map(Number),mt=be*60+Me;return ge*60+Je>mt},Ue=X=>X?X.replace(/(\d{1,2}):(\d{2})/g,(he,ve,se)=>`${Number.parseInt(ve).toString().padStart(2,"0")}:${se}`):"",D=X=>{var Xe;if(!X)return{start:0,duration:0,startHour:0};const[he]=X.split("-").map(et=>et.trim()),[ve,se]=he.split(":").map(Number),be=(Xe=X.split("-")[1])==null?void 0:Xe.trim();let Me,ge;be?[Me,ge]=be.split(":").map(Number):(Me=ve+1,ge=se);const Je=(ve*60+se)/1440*100,Ye=(Me*60+ge)/1440*100-Je;return{start:Je,duration:Ye,startHour:ve}},te=X=>w.filter(ve=>{const se=new Date(ve.date);return se.getDate()===X.day&&se.getMonth()===X.date.getMonth()&&se.getFullYear()===X.date.getFullYear()}).filter(ve=>V[ve.color]),ce=X=>{if(!X.time)return!1;const[he,ve]=X.time.split("-").map(Vt=>Vt.trim()),[se,be]=he.split(":").map(Number),[Me,ge]=ve.split(":").map(Number),Je=new Date,mt=Je.getHours(),Ye=Je.getMinutes(),Xe=mt*60+Ye,et=se*60+be,ze=Me*60+ge;return Xe>=et&&Xe<=ze},re=()=>{if(l==="Monthly")e(new Date(s.getFullYear(),s.getMonth()-1,1));else if(l==="Weekly"){const X=new Date(s);X.setDate(X.getDate()-7),e(X)}else{const X=new Date(s);X.setDate(X.getDate()-1),e(X)}},Ee=()=>{if(l==="Monthly")e(new Date(s.getFullYear(),s.getMonth()+1,1));else if(l==="Weekly"){const X=new Date(s);X.setDate(X.getDate()+7),e(X)}else{const X=new Date(s);X.setDate(X.getDate()+1),e(X)}},De=()=>{e(new Date)},Se=X=>{e(new Date(s.getFullYear(),X,1)),J(!1)},Tt=X=>{e(new Date(X,s.getMonth(),1)),J(!1)},Ze=()=>{if(!f){alert("Silakan pilih tanggal terlebih dahulu");return}y(!0),C("")},rn=async()=>{if(!E.title.trim()){alert("Judul event tidak boleh kosong");return}if(E.time&&!_e(E.time)){C("Format waktu harus valid (contoh: 09:00 - 10:30) dan waktu akhir harus setelah waktu awal");return}const X=Ue(E.time),he={title:E.title,color:E.color,time:X,date:f.date};await U(he)?(N({title:"",color:"orange",time:""}),y(!1),C("")):alert("Gagal menambahkan event. Silakan coba lagi.")},_n=async X=>{X.id?await R(X.id)||alert("Gagal menghapus event. Silakan coba lagi."):M(w.filter(he=>he.title!==X.title||new Date(he.date).getTime()!==new Date(X.date).getTime()))},bn=X=>{$({...V,[X]:!V[X]})},ea=()=>{const X=vt();return c.jsxs("div",{className:"jadwal-calendar",children:[c.jsx("div",{className:"jadwal-calendar-header",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(he=>c.jsx("div",{className:"calendar-header-cell",children:he},he))}),c.jsx("div",{className:"jadwal-calendar-days",children:X.map((he,ve)=>{const se=te(he),be=f&&f.day===he.day&&f.date.getMonth()===he.date.getMonth()&&f.date.getFullYear()===he.date.getFullYear(),Me=he.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:`jadwal-calendar-day ${he.month!=="current"?"previous-month":""} 
                            ${be?"selected-date":""} ${Me?"today":""}`,onClick:()=>g(he),children:[c.jsx("div",{className:"day-number",children:he.day}),c.jsx("div",{className:"day-events",children:se.map((ge,Je)=>{const mt=ce(ge)&&he.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:`event ${ge.color} ${mt?"current-event":""}`,children:[c.jsxs("div",{className:"event-title",children:[mt&&c.jsx(Wn,{size:12,className:"event-now-icon"}),ge.title]}),ge.time&&c.jsx("div",{className:"event-time",children:ge.time}),c.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),_n(ge)},className:"event-delete-btn",children:"×"})]},Je)})})]},ve)})})]})},ta=()=>{const X=ht();return c.jsxs("div",{className:"jadwal-calendar weekly-view",children:[c.jsx("div",{className:"jadwal-calendar-header",children:X.map((he,ve)=>{const se=he.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:`calendar-header-cell ${se?"today":""}`,children:[le(he.date).slice(0,3),c.jsx("div",{style:{fontSize:"12px",marginTop:"4px"},children:he.day})]},ve)})}),c.jsx("div",{className:"weekly-view-grid",children:X.map((he,ve)=>{const se=te(he),be=f&&f.day===he.day&&f.date.getMonth()===he.date.getMonth()&&f.date.getFullYear()===he.date.getFullYear(),Me=he.date.toDateString()===new Date().toDateString();return c.jsx("div",{className:`jadwal-calendar-day weekly-day-cell ${he.month!=="current"?"previous-month":""} 
                            ${be?"selected-date":""} ${Me?"today":""}`,onClick:()=>g(he),children:c.jsx("div",{className:"day-events",children:se.map((ge,Je)=>{const mt=ce(ge)&&he.date.toDateString()===new Date().toDateString();return c.jsxs("div",{className:`event ${ge.color} ${mt?"current-event":""}`,children:[c.jsxs("div",{className:"event-title",children:[mt&&c.jsx(Wn,{size:12,className:"event-now-icon"}),ge.title]}),ge.time&&c.jsx("div",{className:"event-time",children:ge.time}),c.jsx("button",{onClick:Ye=>{Ye.stopPropagation(),_n(ge)},className:"event-delete-btn",children:"×"})]},Je)})})},ve)})})]})},Sn=()=>{const X=Array.from({length:24},(ge,Je)=>Je),he=te({day:s.getDate(),date:s}),ve=new Date().getHours(),se=new Date().getMinutes(),be=s.toDateString()===new Date().toDateString(),Me=he.filter(ge=>ge.time).map(ge=>{const{start:Je,duration:mt,startHour:Ye}=D(ge.time);return{...ge,start:Je,duration:mt,startHour:Ye}});return c.jsxs("div",{className:"jadwal-calendar daily-view",children:[c.jsxs("div",{className:"daily-view-header",children:[c.jsxs("div",{children:[le(s)," - ",s.getDate()," ",n]}),be&&c.jsxs("div",{className:"current-time-indicator",children:[c.jsx(Wn,{size:16}),fe.getHours().toString().padStart(2,"0"),":",fe.getMinutes().toString().padStart(2,"0")]})]}),c.jsx("div",{className:"daily-view-content",children:X.map(ge=>{const Je=ge===ve&&be,mt=Me.filter(Ye=>{const Xe=Math.floor(Ye.start/4.166666666666667),et=Ye.duration/(100/24),ze=Xe+et;return Xe===ge||Xe<ge&&ze>ge});return c.jsxs("div",{className:`daily-hour-row ${Je?"current-hour":""}`,children:[c.jsxs("div",{className:"daily-hour-label",children:[ge.toString().padStart(2,"0"),":00"]}),c.jsxs("div",{className:"daily-hour-events-container",children:[Je&&be&&c.jsx("div",{className:"current-time-line",style:{top:`${se/60*100}%`}}),c.jsx("div",{className:"daily-hour-events",children:mt.map((Ye,Xe)=>{const et=ce(Ye)&&be;let ze=0,Vt=100;if(Ye.startHour===ge){const[Lt]=Ye.time.split(" - "),Va=Number.parseInt(Lt.split(":")[1]);ze=Va/60*100;const Vl=60-Va,La=Ye.duration/100*1440;Vt=Math.min(Vl,La)/60*100}else if(Ye.startHour<ge){ze=0;const Va=Ye.startHour+Ye.duration/(100/24)-ge;Vt=Math.min(100,Va*100)}return c.jsxs("div",{className:`event timed-event ${Ye.color} ${et?"current-event":""}`,style:{top:`${ze}%`,height:`${Vt}%`,minHeight:"30px",zIndex:10},children:[c.jsxs("div",{className:"event-title",children:[et&&c.jsx(Wn,{size:12,className:"event-now-icon"}),Ye.title]}),c.jsx("div",{className:"event-time",children:Ye.time}),c.jsx("button",{onClick:()=>_n(Ye),className:"event-delete-btn",children:"×"})]},Xe)})})]})]},ge)})})]})};return c.jsx(Pt,{children:c.jsxs("div",{className:"jadwal-container",children:[c.jsx(Jn,{}),c.jsx("main",{className:"jadwal-main",children:A?c.jsxs("div",{className:"loading-state",children:[c.jsx(fd,{className:"animate-spin mr-2",size:20}),c.jsx("span",{children:"Loading calendar..."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"jadwal-header",children:[c.jsxs("div",{className:"jadwal-title-container",children:[c.jsx("h1",{className:"jadwal-title",children:"Calendar"}),c.jsx("div",{className:"jadwal-tabs",children:["Monthly","Weekly","Daily"].map(X=>c.jsx("button",{className:`jadwal-tab ${l===X?"active":""}`,onClick:()=>u(X),children:X},X))})]}),c.jsxs("div",{className:"jadwal-actions",children:[c.jsxs("button",{className:"jadwal-button filter",onClick:()=>F(!P),children:[c.jsx(fg,{size:16}),c.jsx("span",{children:"Filter"})]}),c.jsxs("button",{className:"jadwal-button add",onClick:Ze,children:[c.jsx(_D,{size:16}),c.jsx("span",{children:"Add Event"})]})]})]}),P&&c.jsxs("div",{className:"filter-dropdown",children:[c.jsx("div",{className:"filter-heading",children:"Filter by category:"}),c.jsx("div",{className:"filter-options",children:["red","yellow","green","purple","orange"].map(X=>c.jsxs("div",{className:"filter-option",children:[c.jsx("input",{type:"checkbox",id:`filter-${X}`,checked:V[X],onChange:()=>bn(X)}),c.jsx("label",{htmlFor:`filter-${X}`,className:`filter-label ${X}`,children:X.charAt(0).toUpperCase()+X.slice(1)})]},X))})]}),c.jsx("div",{className:"jadwal-month-navigation",children:c.jsxs("div",{className:"jadwal-month-controls",children:[c.jsxs("div",{className:"jadwal-month-selector",onClick:()=>J(!ie),ref:S,children:[c.jsx(ud,{size:18}),c.jsx("span",{children:n}),c.jsx(dg,{size:16}),ie&&c.jsxs("div",{className:"month-dropdown-calendar",children:[c.jsx("div",{className:"month-dropdown-years",children:Q().years.map(X=>c.jsx("button",{className:`year-button ${X===s.getFullYear()?"active":""}`,onClick:()=>Tt(X),children:X},X))}),c.jsx("div",{className:"month-grid",children:Q().calendarRows.map((X,he)=>c.jsx("div",{className:"month-row",children:X.map(ve=>c.jsx("button",{className:`month-button ${ve.index===s.getMonth()?"active":""}`,onClick:()=>Se(ve.index),children:ve.month.slice(0,3)},ve.month))},he))})]})]}),c.jsxs("div",{className:"jadwal-navigation-arrows",children:[c.jsx("button",{className:"nav-button",onClick:re,children:c.jsx(vi,{size:16})}),c.jsx("button",{className:"jadwal-today-button",onClick:De,children:"Today"}),c.jsx("button",{className:"nav-button",onClick:Ee,children:c.jsx(Xn,{size:16})})]})]})}),l==="Monthly"&&ea(),l==="Weekly"&&ta(),l==="Daily"&&Sn(),p&&c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-container",children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{className:"modal-title",children:"Add Event"}),c.jsx("button",{className:"modal-close-btn",onClick:()=>y(!1),children:c.jsx(lc,{size:16})})]}),c.jsxs("div",{className:"modal-field",children:[c.jsx("label",{className:"modal-label",htmlFor:"event-title",children:"Title:"}),c.jsx("input",{id:"event-title",type:"text",className:"modal-input",value:E.title,onChange:X=>N({...E,title:X.target.value}),placeholder:"Enter event title"})]}),c.jsxs("div",{className:"modal-field",children:[c.jsx("label",{className:"modal-label",htmlFor:"event-time",children:"Time (optional):"}),c.jsx("input",{id:"event-time",type:"text",className:"modal-input",value:E.time,onChange:X=>N({...E,time:X.target.value}),placeholder:"HH:MM - HH:MM (e.g., 09:00 - 10:30)"}),Ne&&c.jsx("div",{className:"error-text",children:Ne})]}),c.jsx("div",{className:"color-options",children:["red","yellow","green","purple","orange"].map(X=>c.jsx("button",{className:`color-option ${X} ${E.color===X?"selected":""}`,onClick:()=>N({...E,color:X})},X))}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{className:"modal-cancel-btn",onClick:()=>y(!1),children:"Cancel"}),c.jsx("button",{className:"modal-save-btn",onClick:rn,children:"Save Event"})]})]})})]})})]})})}function ZD(){return c.jsx(Pt,{children:c.jsxs("div",{className:"pengaturan-container",children:[c.jsx("div",{className:"pengaturan-header",children:c.jsxs("div",{className:"pengaturan-title-section",children:[c.jsx("h1",{className:"pengaturan-title",children:"Pengaturan"}),c.jsx("p",{className:"pengaturan-description",children:"Kelola preferensi dan pengaturan akun Anda untuk pengalaman belajar yang lebih baik."})]})}),c.jsxs("div",{className:"pengaturan-content",children:[c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(gg,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Profil"}),c.jsx("p",{children:"Perbarui informasi profil, foto, dan detail kontak Anda."})]})]}),c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(SD,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Keamanan"}),c.jsx("p",{children:"Kelola password, autentikasi dua faktor, dan keamanan akun."})]})]}),c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(TT,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Notifikasi"}),c.jsx("p",{children:"Atur preferensi notifikasi email, aplikasi, dan pengingat."})]})]}),c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(uD,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Tampilan"}),c.jsx("p",{children:"Sesuaikan tema, ukuran font, dan preferensi tampilan."})]})]}),c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(DC,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Bahasa"}),c.jsx("p",{children:"Ubah bahasa aplikasi dan preferensi regional."})]})]}),c.jsxs("div",{className:"pengaturan-card",children:[c.jsx("div",{className:"pengaturan-card-icon",children:c.jsx(dd,{})}),c.jsxs("div",{className:"pengaturan-card-content",children:[c.jsx("h2",{children:"Bantuan"}),c.jsx("p",{children:"Dapatkan bantuan, lihat FAQ, dan hubungi dukungan."})]})]})]})]})})}function JD(){const s=ma(),e=[{id:1,title:"Matematika Kelas 4",description:"Buku pegangan siswa untuk mata pelajaran matematika kelas 4 SD.",icon:c.jsx(hi,{}),rentalPeriod:"30 hari",price:"Rp 25.000"},{id:2,title:"IPA Terpadu",description:"Buku pembelajaran IPA terpadu dengan praktikum sederhana untuk kelas 5 SD.",icon:c.jsx(hi,{}),rentalPeriod:"45 hari",price:"Rp 30.000"},{id:3,title:"Bahasa Indonesia",description:"Panduan lengkap bahasa Indonesia dengan latihan membaca dan menulis.",icon:c.jsx(hi,{}),rentalPeriod:"30 hari",price:"Rp 20.000"}],n=()=>"Rp 75.000";return c.jsxs(Pt,{children:[c.jsx(Jn,{}),c.jsx("div",{className:"keranjang-container",children:c.jsxs("main",{className:"keranjang-main",children:[c.jsxs("div",{className:"keranjang-header",children:[c.jsxs("button",{className:"keranjang-back-button",onClick:()=>s(-1),children:[c.jsx(vi,{className:"keranjang-back-icon"}),c.jsx("span",{children:"Kembali"})]}),c.jsx("h1",{className:"keranjang-title",children:"Keranjang Sewa"}),c.jsx("p",{className:"keranjang-description",children:"Anda dapat melihat dan mengelola semua buku yang Anda tambahkan ke keranjang sewa di sini."})]}),e.length>0?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"keranjang-content",children:e.map(i=>c.jsxs("div",{className:"keranjang-card",children:[c.jsx("div",{className:"keranjang-card-decoration"}),c.jsxs("div",{className:"keranjang-card-content",children:[c.jsx("div",{className:"keranjang-card-icon",children:i.icon}),c.jsx("h2",{children:i.title}),c.jsx("p",{children:i.description}),c.jsxs("div",{className:"keranjang-card-info",style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"13px",color:"var(--text-muted)"},children:[c.jsx(Wn,{size:16}),c.jsx("span",{children:i.rentalPeriod})]}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"13px",color:"var(--text-muted)"},children:[c.jsx(jD,{size:16}),c.jsx("span",{children:i.price})]})]}),c.jsxs("div",{className:"keranjang-card-actions",children:[c.jsx("button",{className:"keranjang-card-button keranjang-card-button-secondary",children:"Hapus"}),c.jsx("button",{className:"keranjang-card-button keranjang-card-button-primary",children:"Detail"})]})]})]},i.id))}),c.jsxs("div",{className:"keranjang-summary",children:[c.jsx("h2",{className:"keranjang-summary-title",children:"Ringkasan Pesanan"}),c.jsxs("div",{className:"keranjang-summary-item",children:[c.jsx("span",{className:"keranjang-summary-label",children:"Matematika Kelas 4"}),c.jsx("span",{className:"keranjang-summary-value",children:"Rp 25.000"})]}),c.jsxs("div",{className:"keranjang-summary-item",children:[c.jsx("span",{className:"keranjang-summary-label",children:"IPA Terpadu"}),c.jsx("span",{className:"keranjang-summary-value",children:"Rp 30.000"})]}),c.jsxs("div",{className:"keranjang-summary-item",children:[c.jsx("span",{className:"keranjang-summary-label",children:"Bahasa Indonesia"}),c.jsx("span",{className:"keranjang-summary-value",children:"Rp 20.000"})]}),c.jsxs("div",{className:"keranjang-summary-total",children:[c.jsx("span",{children:"Total"}),c.jsx("span",{children:n()})]}),c.jsx("div",{className:"keranjang-checkout",children:c.jsxs("button",{className:"keranjang-checkout-button",children:[c.jsx(gl,{size:18}),c.jsx("span",{children:"Proses Pesanan"})]})})]})]}):c.jsxs("div",{className:"keranjang-empty",children:[c.jsx(gl,{className:"keranjang-empty-icon"}),c.jsx("h2",{className:"keranjang-empty-title",children:"Keranjang Sewa Kosong"}),c.jsx("p",{className:"keranjang-empty-description",children:"Anda belum menambahkan buku apapun ke keranjang sewa. Silahkan kembali ke Pasar Buku untuk menemukan buku yang ingin Anda sewa."}),c.jsx("button",{className:"keranjang-empty-button",onClick:()=>s("/pasar-buku"),children:"Ke Pasar Buku"})]})]})})]})}function eM(){const s=ma(),[e,n]=I.useState(null),[i,l]=I.useState(!0),u=nr();I.useEffect(()=>{const g=$h(u,async p=>{if(p)try{const y=Ts(vn,"users",p.uid),E=await Pl(y);E.exists()?n(E.data()):n({name:p.displayName,email:p.email,photoURL:p.photoURL,role:"Guru"})}catch(y){console.error("Error fetching user data:",y)}else s("/");l(!1)});return()=>g()},[u,s]);const f=async()=>{try{await xb(u),s("/")}catch(g){console.error("Gagal logout:",g.message),alert("Gagal logout: "+g.message)}};return c.jsx(Pt,{children:c.jsxs("div",{className:"profile-container",children:[c.jsxs("div",{className:"profile-header",children:[c.jsxs("button",{className:"profile-back-button",onClick:()=>s(-1),children:[c.jsx(vi,{className:"profile-back-icon"}),c.jsx("span",{children:"Kembali"})]}),c.jsx("h1",{className:"profile-header-title",children:"Profil Pengguna"})]}),c.jsx("div",{className:"profile-content",children:i?c.jsxs("div",{className:"profile-loading",children:[c.jsx(fd,{className:"profile-loading-icon animate-spin"}),c.jsx("p",{children:"Memuat data pengguna..."})]}):c.jsxs("div",{className:"profile-card",children:[c.jsxs("div",{className:"profile-card-header",children:[c.jsx("div",{className:"profile-picture",children:c.jsx("img",{src:(e==null?void 0:e.photoURL)||"/placeholder.svg?height=128&width=128",alt:"Profile",className:"profile-picture-img"})}),c.jsx("h2",{className:"profile-name",children:e?e.name:"Nama Pengguna"}),c.jsx("div",{className:"profile-badge",children:e?e.role:"Guru"})]}),c.jsxs("div",{className:"profile-card-content",children:[c.jsxs("div",{className:"profile-info-item",children:[c.jsx(gg,{className:"profile-info-icon"}),c.jsxs("div",{className:"profile-info-text",children:[c.jsx("span",{className:"profile-info-label",children:"Nama Lengkap"}),c.jsx("span",{className:"profile-info-value",children:e?e.name:"Nama Pengguna"})]})]}),c.jsxs("div",{className:"profile-info-item",children:[c.jsx(ST,{className:"profile-info-icon"}),c.jsxs("div",{className:"profile-info-text",children:[c.jsx("span",{className:"profile-info-label",children:"Email"}),c.jsx("span",{className:"profile-info-value",children:e?e.email:"email@example.com"})]})]}),c.jsxs("div",{className:"profile-info-item",children:[c.jsx(cC,{className:"profile-info-icon"}),c.jsxs("div",{className:"profile-info-text",children:[c.jsx("span",{className:"profile-info-label",children:"Instansi"}),c.jsx("span",{className:"profile-info-value",children:(e==null?void 0:e.instansi)||"SD Negeri 1 Jakarta"})]})]}),c.jsxs("div",{className:"profile-info-item",children:[c.jsx(YC,{className:"profile-info-icon"}),c.jsxs("div",{className:"profile-info-text",children:[c.jsx("span",{className:"profile-info-label",children:"Lokasi"}),c.jsx("span",{className:"profile-info-value",children:(e==null?void 0:e.lokasi)||"Jakarta, Indonesia"})]})]})]}),c.jsx("div",{className:"profile-card-footer",children:c.jsxs("button",{className:"profile-signout-button",onClick:f,children:[c.jsx(wT,{className:"profile-signout-icon"}),c.jsx("span",{children:"Keluar"})]})})]})})]})})}function jT({title:s,description:e,subjects:n}){const i=ma();return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"kelas-main",children:[c.jsxs("div",{className:"kelas-header",children:[c.jsxs("button",{className:"kelas-back-button",onClick:()=>i(-1),children:[c.jsx(vi,{className:"kelas-back-icon"}),c.jsx("span",{children:"Kembali"})]}),c.jsx("h1",{className:"kelas-title",children:s}),c.jsx("p",{className:"kelas-description",children:e})]}),c.jsx("div",{className:"kelas-grid",children:n.map(l=>c.jsxs("div",{className:"kelas-card",onClick:()=>i(l.subjectPath),children:[c.jsxs("div",{className:`kelas-card-image ${l.bgColor||"bg-gradient-1"}`,children:[c.jsx("div",{className:"kelas-card-icon",children:c.jsx(ur,{className:"icon"})}),c.jsx("img",{src:l.subjectImage||"/placeholder.svg?height=200&width=300",alt:l.subjectName}),c.jsxs("div",{className:"kelas-card-badge",children:[l.moduleCount||0," Modul"]})]}),c.jsxs("div",{className:"kelas-card-content",children:[c.jsx("h3",{className:"kelas-card-title",children:l.subjectName}),l.description&&c.jsx("p",{className:"kelas-card-description",children:l.description}),c.jsxs("div",{className:"kelas-card-action",children:[c.jsx("span",{children:"Lihat Materi"}),c.jsx(vi,{className:"kelas-action-icon"})]})]})]},l.subjectId))})]})]})})}function tM(){const[s,e]=I.useState([]),n=ma();I.useEffect(()=>{(async()=>{try{const f=(await Cc(ar(vn,"subjects"))).docs.map(g=>g.data()).filter(g=>g.classId===1);console.log("Subjects fetched:",f),e(f)}catch(u){console.error("Gagal mengambil data subjects:",u)}})()},[]);const i=l=>{n(l)};return c.jsx(jT,{title:"Kelas 1",description:"Pilih mata pelajaran untuk melihat modul.",subjects:s.map(l=>({...l,onClick:()=>i(l.subjectPath)}))})}function nM(){const s=[{id:1,name:"Subject 1",image:"/placeholder.svg",bgColor:"bg-blue-100",modules:3},{id:2,name:"Subject 2",image:"/placeholder.svg",bgColor:"bg-red-100",modules:4}];return c.jsx(jT,{title:"Kelas 2",description:"Pilih mata pelajaran untuk melihat modul.",subjects:s})}function aM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Kelas 3"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Kelas 3."})]})})}function sM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Kelas 4"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Kelas 4."})]})})}function iM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Kelas 5"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Kelas 5."})]})})}function rM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Kelas 6"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Kelas 6."})]})})}function lM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Ekstrakurikuler"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Ekstrakurikuler."})]})})}function oM(){return c.jsx(Pt,{children:c.jsxs("div",{className:"kelas-container",children:[c.jsx("h1",{className:"kelas-title",children:"Peminatan"}),c.jsx("p",{className:"kelas-description",children:"Ini adalah halaman dummy untuk Peminatan."})]})})}const kT="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20data-name='Layer%201'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M23.75,16A7.7446,7.7446,0,0,1,8.7177,18.6259L4.2849,22.1721A13.244,13.244,0,0,0,29.25,16'%20fill='%2300ac47'/%3e%3cpath%20d='M23.75,16a7.7387,7.7387,0,0,1-3.2516,6.2987l4.3824,3.5059A13.2042,13.2042,0,0,0,29.25,16'%20fill='%234285f4'/%3e%3cpath%20d='M8.25,16a7.698,7.698,0,0,1,.4677-2.6259L4.2849,9.8279a13.177,13.177,0,0,0,0,12.3442l4.4328-3.5462A7.698,7.698,0,0,1,8.25,16Z'%20fill='%23ffba00'/%3e%3cpolygon%20fill='%232ab2db'%20points='8.718%2013.374%208.718%2013.374%208.718%2013.374%208.718%2013.374'/%3e%3cpath%20d='M16,8.25a7.699,7.699,0,0,1,4.558,1.4958l4.06-3.7893A13.2152,13.2152,0,0,0,4.2849,9.8279l4.4328,3.5462A7.756,7.756,0,0,1,16,8.25Z'%20fill='%23ea4435'/%3e%3cpolygon%20fill='%232ab2db'%20points='8.718%2018.626%208.718%2018.626%208.718%2018.626%208.718%2018.626'/%3e%3cpath%20d='M29.25,15v1L27,19.5H16.5V14H28.25A1,1,0,0,1,29.25,15Z'%20fill='%234285f4'/%3e%3c/svg%3e",RT="/cerdikia/ruda/ruda1.png",IT="/cerdikia/ruda/ruda2.png";function cM(){const[s,e]=I.useState(!1),[n,i]=I.useState({message:"",type:""}),[l,u]=I.useState(""),[f,g]=I.useState(""),[p,y]=I.useState(!1),[E,N]=I.useState(1),w=ma();I.useEffect(()=>{const F=setInterval(()=>{N(V=>V===1?2:1)},3e3);return()=>clearInterval(F)},[]);const M=async F=>{F.preventDefault(),y(!0);try{const V=await gA(yc,l,f);i({message:"Login berhasil! Selamat datang!",type:"success"}),setTimeout(()=>i({message:"",type:""}),4e3),w("/dashboard")}catch(V){console.error("Login error:",V.message),i({message:"Login gagal: "+V.message,type:"error"}),setTimeout(()=>i({message:"",type:""}),4e3)}finally{y(!1)}},P=async()=>{y(!0);try{const V=(await Mb(yc,_T)).user,$=Ts(vn,"users",V.uid);(await Pl($)).exists()||await rp($,{name:V.displayName||"",email:V.email,uid:V.uid,role:"guru",createdAt:new Date}),i({message:"Login Google berhasil! Selamat datang!",type:"success"}),setTimeout(()=>i({message:"",type:""}),4e3),w("/dashboard")}catch(F){console.error("Google login error:",F.message),i({message:"Login Google gagal: "+F.message,type:"error"}),setTimeout(()=>i({message:"",type:""}),4e3)}finally{y(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-animation",children:[c.jsx("img",{src:RT,alt:"Ruda Character 1",className:`auth-animation-image floating ${E===1?"active":""}`}),c.jsx("img",{src:IT,alt:"Ruda Character 2",className:`auth-animation-image floating ${E===2?"active":""}`})]}),c.jsx("div",{className:"auth-decoration decoration-circle-1"}),c.jsx("div",{className:"auth-decoration decoration-circle-2"}),n.message&&c.jsxs("div",{className:`notification ${n.type==="success"?"notification-success":"notification-error"}`,children:[c.jsx("span",{className:"notification-icon",children:n.type==="success"?c.jsx(hd,{size:18}):c.jsx(NT,{size:18})}),c.jsx("span",{children:n.message})]}),c.jsxs("div",{className:"auth-card",children:[c.jsx("div",{className:"auth-logo",children:c.jsx("img",{src:yg,alt:"Cerdikia Logo"})}),c.jsx("h1",{className:"auth-title",children:"Masuk ke Akun Anda"}),c.jsx("p",{className:"auth-subtitle",children:"Masukkan email dan password untuk melanjutkan"}),c.jsxs("form",{onSubmit:M,className:"auth-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:l,onChange:F=>u(F.target.value),placeholder:"nama@email.com",required:!0,disabled:p})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"password-input",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:f,onChange:F=>g(F.target.value),placeholder:"Masukkan password",required:!0,disabled:p}),c.jsx("button",{type:"button",className:"password-toggle",onClick:()=>e(!s),disabled:p,children:s?c.jsx(op,{size:20}):c.jsx(Bh,{size:20})})]}),c.jsx("div",{className:"forgot-password",children:c.jsx("a",{href:"/forgot-password",children:"Lupa password?"})})]}),c.jsx("button",{type:"submit",className:"auth-button",disabled:p,children:p?"Memproses...":c.jsxs(c.Fragment,{children:[c.jsx(GC,{size:18,style:{marginRight:"8px"}}),"Masuk"]})})]}),c.jsx("div",{className:"divider",children:c.jsx("span",{children:"atau"})}),c.jsxs("button",{type:"button",className:"google-auth-button",onClick:P,disabled:p,children:[c.jsx("img",{src:kT,alt:"Google Logo"}),c.jsx("span",{children:"Masuk dengan Google"})]}),c.jsxs("p",{className:"auth-prompt",children:["Belum punya akun?"," ",c.jsx("span",{onClick:()=>w("/register"),className:"auth-prompt-link",children:"Daftar sekarang"})]})]})]})}const N1=["/profile/profile1.png","/profile/profile2.png","/profile/profile3.png","/profile/profile4.png"],w1=()=>{const s=Math.floor(Math.random()*N1.length);return N1[s]};function uM(){const[s,e]=I.useState(!1),[n,i]=I.useState(!1),[l,u]=I.useState({message:"",type:""}),[f,g]=I.useState(""),[p,y]=I.useState(""),[E,N]=I.useState(""),[w,M]=I.useState(""),[P,F]=I.useState(!1),[V,$]=I.useState(!1),[ie,J]=I.useState(1),fe=ma();I.useEffect(()=>{const C=setInterval(()=>{J(A=>A===1?2:1)},3e3);return()=>clearInterval(C)},[]);const ue=async C=>{if(C.preventDefault(),$(!0),E!==w){u({message:"Password dan konfirmasi tidak cocok.",type:"error"}),setTimeout(()=>u({message:"",type:""}),4e3),$(!1);return}try{const j=(await pA(yc,p,E)).user;await vA(j,{displayName:f,photoURL:w1()}),await rp(Ts(vn,"users",j.uid),{uid:j.uid,name:f,email:j.email,role:"guru",photoURL:j.photoURL,createdAt:new Date}),u({message:"Pendaftaran berhasil! Selamat datang!",type:"success"}),setTimeout(()=>u({message:"",type:""}),4e3),fe("/dashboard")}catch(A){console.error("Error registering:",A.message),u({message:"Pendaftaran gagal: "+A.message,type:"error"}),setTimeout(()=>u({message:"",type:""}),4e3)}finally{$(!1)}},Ne=async()=>{$(!0);try{const A=(await Mb(yc,_T)).user;await rp(Ts(vn,"users",A.uid),{uid:A.uid,name:A.displayName,email:A.email,role:"guru",photoURL:A.photoURL||w1(),createdAt:new Date}),u({message:"Pendaftaran dengan Google berhasil! Selamat datang!",type:"success"}),setTimeout(()=>u({message:"",type:""}),4e3),fe("/dashboard")}catch(C){console.error("Google register failed:",C.message),u({message:"Pendaftaran dengan Google gagal: "+C.message,type:"error"}),setTimeout(()=>u({message:"",type:""}),4e3)}finally{$(!1)}};return c.jsxs("div",{className:"auth-container",children:[c.jsxs("div",{className:"auth-animation",children:[c.jsx("img",{src:RT,alt:"Ruda Character 1",className:`auth-animation-image floating ${ie===1?"active":""}`}),c.jsx("img",{src:IT,alt:"Ruda Character 2",className:`auth-animation-image floating ${ie===2?"active":""}`})]}),c.jsx("div",{className:"auth-decoration decoration-circle-1"}),c.jsx("div",{className:"auth-decoration decoration-circle-2"}),l.message&&c.jsxs("div",{className:`notification ${l.type==="success"?"notification-success":"notification-error"}`,children:[c.jsx("span",{className:"notification-icon",children:l.type==="success"?c.jsx(hd,{size:18}):c.jsx(NT,{size:18})}),c.jsx("span",{children:l.message})]}),c.jsxs("div",{className:"auth-card",children:[c.jsx("div",{className:"auth-logo",children:c.jsx("img",{src:yg,alt:"Cerdikia Logo"})}),c.jsx("h1",{className:"auth-title",children:"Buat Akun Baru"}),c.jsx("p",{className:"auth-subtitle",children:"Daftar untuk mendapatkan akses ke semua fitur"}),c.jsxs("form",{onSubmit:ue,className:"auth-form",children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"fullName",children:"Nama Lengkap"}),c.jsx("input",{type:"text",id:"fullName",value:f,onChange:C=>g(C.target.value),placeholder:"Masukkan nama lengkap",required:!0,disabled:V})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",children:"Email"}),c.jsx("input",{type:"email",id:"email",value:p,onChange:C=>y(C.target.value),placeholder:"nama@email.com",required:!0,disabled:V})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",children:"Password"}),c.jsxs("div",{className:"password-input",children:[c.jsx("input",{type:s?"text":"password",id:"password",value:E,onChange:C=>N(C.target.value),placeholder:"Buat password (min. 8 karakter)",minLength:"8",required:!0,disabled:V}),c.jsx("button",{type:"button",className:"password-toggle",onClick:()=>e(!s),disabled:V,children:s?c.jsx(op,{size:20}):c.jsx(Bh,{size:20})})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"confirmPassword",children:"Konfirmasi Password"}),c.jsxs("div",{className:"password-input",children:[c.jsx("input",{type:n?"text":"password",id:"confirmPassword",value:w,onChange:C=>M(C.target.value),placeholder:"Masukkan password kembali",minLength:"8",required:!0,disabled:V}),c.jsx("button",{type:"button",className:"password-toggle",onClick:()=>i(!n),disabled:V,children:n?c.jsx(op,{size:20}):c.jsx(Bh,{size:20})})]})]}),c.jsx("div",{className:"form-group checkbox-group",children:c.jsxs("label",{className:"checkbox-label",children:[c.jsx("input",{type:"checkbox",checked:P,onChange:C=>F(C.target.checked),required:!0,disabled:V}),c.jsxs("span",{className:"checkbox-text",children:["Saya menyetujui ",c.jsx("a",{href:"/terms",children:"Syarat dan Ketentuan"})," serta ",c.jsx("a",{href:"/privacy",children:"Kebijakan Privasi"})]})]})}),c.jsx("button",{type:"submit",className:"auth-button",disabled:!P||V,children:V?"Memproses...":c.jsxs(c.Fragment,{children:[c.jsx(VD,{size:18,style:{marginRight:"8px"}}),"Daftar Sekarang"]})})]}),c.jsx("div",{className:"divider",children:c.jsx("span",{children:"atau"})}),c.jsxs("button",{type:"button",className:"google-auth-button",onClick:Ne,disabled:V,children:[c.jsx("img",{src:kT,alt:"Google Logo"}),c.jsx("span",{children:"Daftar dengan Google"})]}),c.jsxs("p",{className:"auth-prompt",children:["Sudah punya akun?"," ",c.jsx("span",{onClick:()=>fe("/"),className:"auth-prompt-link",children:"Masuk"})]})]})]})}const On=[{moduleId:1,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",gradeLevel:1,moduleTitle:"Modul 1 - Pengantar Pendidikan Kewarganegaraan",moduleDescription:"Pendidikan Pancasila dan Kewarganegaraan",totalPages:34,modulePath:"/kelas/1/pkn/modul1",filePath:"../PPT/dummy-content.pdf"},{moduleId:2,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",gradeLevel:1,moduleTitle:"Modul 2 - Pancasila Sebagai Dasar Negara dan Pandangan Hidup",moduleDescription:"Pendidikan Pancasila dan Kewarganegaraan",totalPages:19,modulePath:"/kelas/1/pkn/modul2",filePath:"../PPT/dummy-content.pdf"},{moduleId:3,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",gradeLevel:1,moduleTitle:"Modul 3 - UUD 1945 dan Sistem Pemerintahan Indonesia",moduleDescription:"Pendidikan Pancasila dan Kewarganegaraan",totalPages:17,modulePath:"/kelas/1/pkn/modul1",filePath:"../PPT/dummy-content.pdf"},{moduleId:4,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",gradeLevel:1,moduleTitle:"Modul 4 - Demokrasi dan Hak Asasi Manusia",moduleDescription:"Pendidikan Pancasila dan Kewarganegaraan",totalPages:27,modulePath:"/kelas/1/pkn/modul1",filePath:"../PPT/dummy-content.pdf"},{moduleId:5,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",gradeLevel:1,moduleTitle:"Modul 5 - Keberagaman dan Persatuan dalam Masyarakat",moduleDescription:"Pendidikan Pancasila dan Kewarganegaraan",totalPages:20,modulePath:"/kelas/1/pkn/modul1",filePath:"../PPT/dummy-content.pdf"},{moduleId:6,subjectName:"Bahasa Indonesia",gradeLevel:1,moduleTitle:"Modul 6 - Keberagaman dan Persatuan dalam Masyarakat",moduleDescription:"Bahasa Indonesia",totalPages:20,modulePath:"/kelas/1/pkn/modul1",filePath:"../PPT/dummy-content.pdf"}],hM="/cerdikia/images/PPKN.svg",dM="/cerdikia/images/BINDO.svg",fM="/cerdikia/images/MTK.svg",mM="/cerdikia/images/SENBUD.svg",pM="/cerdikia/images/BING.svg",gM="/cerdikia/images/PJOK.svg",yM=[{subjectId:1,subjectName:"Pendidikan Pancasila dan Kewarganegaraan",subjectImage:hM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/pkn"},{subjectId:2,subjectName:"Bahasa Indonesia",subjectImage:dM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/indo"},{subjectId:3,subjectName:"Matematika",subjectImage:fM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/pkn"},{subjectId:4,subjectName:"Seni Budaya",subjectImage:mM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/pkn"},{subjectId:5,subjectName:"Bahasa Inggris",subjectImage:pM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/pkn"},{subjectId:6,subjectName:"PJOK",subjectImage:gM,classId:1,moduleIds:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).map(s=>s.moduleId),moduleCount:On.filter(s=>s.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&s.gradeLevel===1).length,subjectPath:"/kelas/1/pkn"}];function CT({title:s,subtitle:e,grade:n,pelajaran:i}){const[l,u]=I.useState([]),[f,g]=I.useState(!0),[p,y]=I.useState(""),[E,N]=I.useState(!1),w=ma();I.useEffect(()=>{(()=>{try{console.log("Grade:",n,"Pelajaran:",i);const F=yM.find($=>$.classId===n&&$.subjectName===i);if(!F){console.error("Subject not found"),u([]);return}const V=On.filter($=>F.moduleIds.includes($.moduleId));console.log("Filtered Modules:",V),u(V)}catch(F){console.error("Error fetching modules:",F)}finally{g(!1)}})()},[n,i]);const M=p?l.filter(P=>P.moduleTitle.toLowerCase().includes(p.toLowerCase())||P.moduleDescription.toLowerCase().includes(p.toLowerCase())):l;return c.jsx(Pt,{children:c.jsxs("div",{className:"subject-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"subject-main",children:[c.jsxs("div",{className:"subject-header",children:[c.jsxs("button",{className:"subject-back-button",onClick:()=>w(-1),children:[c.jsx(vi,{className:"subject-back-icon"}),c.jsx("span",{children:"Kembali"})]}),c.jsxs("div",{className:"subject-title-section",children:[c.jsx("h1",{className:"subject-title",children:s}),c.jsx("p",{className:"subject-subtitle",children:e})]}),c.jsx("div",{className:"subject-actions",children:E?c.jsxs("div",{className:"subject-search-container",children:[c.jsx(_i,{className:"subject-search-icon"}),c.jsx("input",{type:"text",placeholder:"Cari modul...",className:"subject-search-input",value:p,onChange:P=>y(P.target.value),autoFocus:!0}),c.jsx("button",{className:"subject-search-close",onClick:()=>N(!1),children:c.jsx(vi,{className:"subject-search-close-icon"})})]}):c.jsx("button",{className:"subject-search-button",onClick:()=>N(!0),children:c.jsx(_i,{className:"subject-search-button-icon"})})})]}),f?c.jsxs("div",{className:"subject-loading",children:[c.jsx(fd,{className:"subject-loading-icon animate-spin"}),c.jsx("p",{children:"Memuat modul pembelajaran..."})]}):M.length>0?c.jsx("div",{className:"subject-grid",children:M.map(P=>c.jsxs("a",{href:`/kelas/${P.gradeLevel}/module/${P.moduleId}`,className:"subject-card",children:[c.jsxs("div",{className:"subject-card-image",children:[c.jsx("img",{src:P.image||"/placeholder.svg?height=200&width=300",alt:P.moduleTitle,className:"subject-card-img"}),c.jsx("div",{className:"subject-card-icon",children:c.jsx(hi,{className:"icon"})})]}),c.jsxs("div",{className:"subject-card-content",children:[c.jsx("h3",{className:"subject-card-title",children:P.moduleTitle}),c.jsx("p",{className:"subject-card-description",children:P.moduleDescription}),c.jsxs("div",{className:"subject-card-meta",children:[c.jsxs("div",{className:"subject-card-stat",children:[c.jsx(RC,{className:"subject-card-stat-icon"}),c.jsxs("span",{children:[P.totalPages," halaman"]})]}),c.jsxs("div",{className:"subject-card-stat",children:[c.jsx(Wn,{className:"subject-card-stat-icon"}),c.jsx("span",{children:P.estimatedTime||"15 menit"})]})]}),c.jsxs("div",{className:"subject-card-action",children:[c.jsx("span",{children:"Baca Modul"}),c.jsx(Xn,{className:"subject-card-action-icon"})]})]})]},P.moduleId))}):c.jsxs("div",{className:"subject-empty",children:[c.jsx(hi,{className:"subject-empty-icon"}),c.jsx("h3",{className:"subject-empty-title",children:"Tidak ada modul ditemukan"}),c.jsx("p",{className:"subject-empty-description",children:p?"Tidak ada modul yang sesuai dengan pencarian Anda. Coba kata kunci lain.":"Belum ada modul yang tersedia untuk mata pelajaran ini."}),p&&c.jsx("button",{className:"subject-empty-button",onClick:()=>y(""),children:"Reset Pencarian"})]})]})]})})}function vM(){const[s,e]=I.useState([]);return I.useEffect(()=>{(async()=>{try{const l=(await Cc(ar(vn,"modules"))).docs.map(u=>u.data()).filter(u=>u.subjectName==="Pendidikan Pancasila dan Kewarganegaraan"&&u.gradeLevel===1);e(l)}catch(i){console.error("Gagal mengambil data modul:",i)}})()},[]),c.jsx(CT,{title:"Pendidikan Pancasila dan Kewarganegaraan",subtitle:"Katalog Modul PKN Kelas 1",grade:1,pelajaran:"Pendidikan Pancasila dan Kewarganegaraan",modules:s})}function _M(){return c.jsx(CT,{title:"Modules",subtitle:"Katalog Modul Bahasa Indonesia Kelas 1",grade:1,pelajaran:"INDO"})}function bM(){const[s,e]=I.useState(!1),[n,i]=I.useState(!1),[l,u]=I.useState(0),[f,g]=I.useState(0),[p,y]=I.useState(!1),[E,N]=I.useState(!1),[w,M]=I.useState(50),[P,F]=I.useState(!0),[V,$]=I.useState("camera"),[ie,J]=I.useState(!1),[fe,ue]=I.useState("default"),[Ne,C]=I.useState("auto"),[A,j]=I.useState(1),[S,O]=I.useState(!1),[U,R]=I.useState(!1),[vt,ht]=I.useState("all"),Q=I.useRef(null),le=I.useRef(null),_e=I.useRef(null),Ue=I.useRef(null),D=I.useRef(null);I.useEffect(()=>{const se=Q.current;if(se)return se.addEventListener("loadedmetadata",()=>{g(se.duration)}),se.addEventListener("timeupdate",()=>{u(se.currentTime)}),se.addEventListener("ended",()=>{e(!1)}),document.addEventListener("fullscreenchange",te),()=>{se.removeEventListener("loadedmetadata",()=>{}),se.removeEventListener("timeupdate",()=>{}),se.removeEventListener("ended",()=>{}),document.removeEventListener("fullscreenchange",te)}},[]);const te=()=>{y(!!document.fullscreenElement)},ce=()=>{Q.current&&(s?Q.current.pause():Q.current.play(),e(!s))},re=()=>{Q.current&&(Q.current.muted=!n,i(!n))},Ee=se=>{const be=Number(se.target.value);Q.current&&(Q.current.volume=be/100,M(be),i(be===0))},De=se=>{const be=_e.current,Me=(se.clientX-be.getBoundingClientRect().left)/be.offsetWidth;Q.current&&(Q.current.currentTime=Me*Q.current.duration)},Se=()=>{document.fullscreenElement?document.exitFullscreen():le.current.requestFullscreen()},Tt=()=>{F(!0),Ue.current&&clearTimeout(Ue.current),Ue.current=setTimeout(()=>{s&&F(!1)},3e3)},Ze=se=>{const be=Math.floor(se/60),Me=Math.floor(se%60);return`${be}:${Me<10?"0":""}${Me}`},rn=se=>{$(se),se==="camera"&&!U&&O(!0)},_n=async()=>{try{const se=await navigator.mediaDevices.getUserMedia({video:!0});D.current&&(D.current.srcObject=se,R(!0),O(!1))}catch(se){console.error("Error accessing webcam:",se),R(!1)}},bn=se=>{ue(se),se==="theater"&&le.current.requestFullscreen()},ea=se=>{C(se)},ta=se=>{Q.current&&(Q.current.playbackRate=se,j(se))},Sn=se=>{ht(se)},X=[{id:1,title:"Ruang Kelas Interaktif 360°",thumbnail:"/placeholder.svg?height=90&width=160",duration:"05:30",description:"Eksplorasi ruang kelas dengan teknologi AR yang memungkinkan interaksi dengan objek pembelajaran 3D.",students:"1.2k",rating:4.8,color:"bg-gradient-1"},{id:2,title:"Laboratorium Sains Virtual",thumbnail:"/placeholder.svg?height=90&width=160",duration:"08:45",description:"Simulasi laboratorium dengan peralatan virtual dan eksperimen interaktif.",students:"980",rating:4.6,color:"bg-gradient-2"},{id:3,title:"Perpustakaan Digital AR",thumbnail:"/placeholder.svg?height=90&width=160",duration:"06:20",description:"Jelajahi perpustakaan dengan konten digital yang dapat diakses melalui pemindaian AR.",students:"750",rating:4.5,color:"bg-gradient-3"}],he=[{icon:c.jsx(xC,{className:"h-5 w-5"}),title:"Navigasi 360°",description:"Jelajahi ruangan dari berbagai sudut pandang"},{icon:c.jsx(x1,{className:"h-5 w-5"}),title:"Objek 3D Interaktif",description:"Berinteraksi dengan objek pembelajaran 3D"},{icon:c.jsx(Im,{className:"h-5 w-5"}),title:"AR Markerless",description:"Pengalaman AR tanpa marker fisik"},{icon:c.jsx(Sl,{className:"h-5 w-5"}),title:"Kolaborasi Multi-pengguna",description:"Belajar bersama dalam ruang virtual yang sama"}],ve=[{label:"Dimensi Ruangan",value:"8m x 6m"},{label:"Objek Interaktif",value:"12"},{label:"Kapasitas",value:"30 pengguna"},{label:"Mode AR",value:"Marker-based & Markerless"}];return c.jsx(Pt,{children:c.jsxs("div",{className:"ar-container",children:[c.jsx(Jn,{}),c.jsxs("main",{className:"ar-main",children:[c.jsxs("div",{className:"ar-hero",children:[c.jsxs("div",{className:"ar-hero-content",children:[c.jsxs("div",{className:"ar-badge",children:[c.jsx(AT,{className:"h-4 w-4 mr-1"}),c.jsx("span",{children:"Teknologi Pembelajaran"})]}),c.jsxs("h1",{className:"ar-hero-title",children:["Ruang Kelas Pintar dengan ",c.jsx("span",{className:"highlight",children:"AR"})]}),c.jsx("p",{className:"ar-hero-subtitle",children:"Jelajahi ruang kelas masa depan dengan teknologi Augmented Reality yang interaktif dan immersif"}),c.jsxs("div",{className:"ar-hero-stats",children:[c.jsxs("div",{className:"ar-stat-item",children:[c.jsx("div",{className:"ar-stat-icon",children:c.jsx(Sl,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ar-stat-info",children:[c.jsx("h3",{className:"ar-stat-value",children:"2.5k+"}),c.jsx("p",{className:"ar-stat-label",children:"Pengguna"})]})]}),c.jsxs("div",{className:"ar-stat-item",children:[c.jsx("div",{className:"ar-stat-icon",children:c.jsx(rc,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ar-stat-info",children:[c.jsx("h3",{className:"ar-stat-value",children:"4.8"}),c.jsx("p",{className:"ar-stat-label",children:"Rating"})]})]}),c.jsxs("div",{className:"ar-stat-item",children:[c.jsx("div",{className:"ar-stat-icon",children:c.jsx(ur,{className:"h-5 w-5"})}),c.jsxs("div",{className:"ar-stat-info",children:[c.jsx("h3",{className:"ar-stat-value",children:"15+"}),c.jsx("p",{className:"ar-stat-label",children:"Materi"})]})]})]})]}),c.jsxs("div",{className:"ar-hero-decoration",children:[c.jsx("div",{className:"decoration-element element-1"}),c.jsx("div",{className:"decoration-element element-2"}),c.jsx("div",{className:"decoration-element element-3"}),c.jsx("div",{className:"decoration-element element-4"})]})]}),c.jsxs("div",{className:"ar-content-grid",children:[c.jsxs("div",{className:"ar-content-main",children:[c.jsxs("div",{className:"ar-player-wrapper",children:[c.jsxs("div",{ref:le,className:`ar-player ${fe}`,onMouseMove:Tt,children:[V==="camera"&&c.jsx("div",{className:"ar-overlay",children:c.jsx("video",{ref:D,autoPlay:!0,playsInline:!0,className:"webcam-video"})}),c.jsx("video",{ref:Q,className:"main-video",src:"/videos/oceannn.mp4",preload:"metadata"}),S&&c.jsx("div",{className:"camera-setup-overlay",children:c.jsxs("div",{className:"camera-setup-container",children:[c.jsx("h2",{children:"Izin Kamera Diperlukan"}),c.jsx("p",{children:"Untuk menggunakan fitur AR, kami memerlukan akses ke kamera perangkat Anda. Ini akan memungkinkan Anda untuk berinteraksi dengan konten AR."}),c.jsx("button",{className:"setup-camera-button",onClick:_n,children:"Aktifkan Kamera"})]})}),c.jsxs("div",{className:`video-controls ${P?"show":""}`,children:[c.jsx("div",{className:"progress-bar",ref:_e,onClick:De,children:c.jsx("div",{className:"progress-filled",style:{width:`${l/f*100}%`}})}),c.jsxs("div",{className:"controls-main",children:[c.jsxs("div",{className:"controls-left",children:[c.jsx("button",{className:"control-button",onClick:ce,children:s?c.jsx(mD,{size:20}):c.jsx(Hh,{size:20})}),c.jsxs("div",{className:"volume-control",children:[c.jsx("button",{className:"control-button",onClick:re,children:n||w===0?c.jsx(qD,{size:20}):c.jsx(BD,{size:20})}),c.jsx("input",{type:"range",min:"0",max:"100",value:w,onChange:Ee,className:"volume-slider"})]}),c.jsxs("div",{className:"time-display",children:[Ze(l)," / ",Ze(f)]})]}),c.jsxs("div",{className:"ar-controls",children:[c.jsx("button",{className:`control-button ${V==="camera"?"active":""}`,onClick:()=>rn("camera"),title:"Mode Kamera AR",children:c.jsx(Im,{size:20})}),c.jsx("button",{className:`control-button ${V==="vr"?"active":""}`,onClick:()=>rn("vr"),title:"Mode VR",children:c.jsx(Bh,{size:20})}),c.jsx("button",{className:`control-button ${V==="3d"?"active":""}`,onClick:()=>rn("3d"),title:"Mode 3D",children:c.jsx(x1,{size:20})}),c.jsx("button",{className:"control-button",onClick:()=>J(!ie),title:"Informasi Ruangan",children:c.jsx(T1,{size:20})})]}),c.jsxs("div",{className:"controls-right",children:[c.jsx("button",{className:"control-button",onClick:()=>bn("sideBySide"),title:"Mode Side by Side",children:c.jsx(dD,{size:20})}),c.jsx("button",{className:"control-button",onClick:()=>bn("theater"),title:"Mode Theater",children:c.jsx(lD,{size:20})}),c.jsx("button",{className:"control-button",title:"Bagikan",children:c.jsx(cp,{size:20})}),c.jsx("button",{className:"control-button",title:"Unduh",children:c.jsx(E1,{size:20})}),c.jsx("button",{className:"control-button",onClick:()=>N(!E),title:"Pengaturan",children:c.jsx(pg,{size:20})}),c.jsx("button",{className:"control-button",onClick:Se,title:"Layar Penuh",children:p?c.jsx(iD,{size:20}):c.jsx(WC,{size:20})})]})]})]}),E&&c.jsxs("div",{className:"settings-panel",children:[c.jsxs("div",{className:"settings-section",children:[c.jsx("h3",{children:"Kualitas"}),c.jsxs("select",{value:Ne,onChange:se=>ea(se.target.value),className:"settings-select",children:[c.jsx("option",{value:"auto",children:"Otomatis"}),c.jsx("option",{value:"1080p",children:"1080p"}),c.jsx("option",{value:"720p",children:"720p"}),c.jsx("option",{value:"480p",children:"480p"})]})]}),c.jsxs("div",{className:"settings-section",children:[c.jsx("h3",{children:"Kecepatan Pemutaran"}),c.jsxs("select",{value:A,onChange:se=>ta(Number(se.target.value)),className:"settings-select",children:[c.jsx("option",{value:"0.5",children:"0.5x"}),c.jsx("option",{value:"1",children:"Normal"}),c.jsx("option",{value:"1.5",children:"1.5x"}),c.jsx("option",{value:"2",children:"2x"})]})]})]}),ie&&c.jsx("div",{className:"room-info-overlay",children:c.jsxs("div",{className:"room-info-container",children:[c.jsx("h2",{children:"Informasi Ruangan AR"}),c.jsx("div",{className:"info-grid",children:ve.map((se,be)=>c.jsxs("div",{className:"info-item",children:[c.jsxs("span",{className:"info-label",children:[se.label,":"]}),c.jsx("span",{className:"info-value",children:se.value})]},be))}),c.jsx("button",{className:"close-info",onClick:()=>J(!1),children:"Tutup"})]})})]}),c.jsxs("div",{className:"ar-player-actions",children:[c.jsxs("button",{className:"ar-action-button",children:[c.jsx(cp,{className:"h-5 w-5 mr-2"}),"Bagikan"]}),c.jsxs("button",{className:"ar-action-button",children:[c.jsx(E1,{className:"h-5 w-5 mr-2"}),"Unduh"]}),c.jsxs("button",{className:"ar-action-button",children:[c.jsx(T1,{className:"h-5 w-5 mr-2"}),"Info"]})]})]}),c.jsxs("div",{className:"ar-info-section",children:[c.jsxs("div",{className:"ar-info-header",children:[c.jsxs("div",{className:"ar-info-title-wrapper",children:[c.jsx("h2",{className:"ar-info-title",children:"Demo Ruang Kelas Pintar dengan AR"}),c.jsxs("div",{className:"ar-info-meta",children:[c.jsxs("div",{className:"ar-info-meta-item",children:[c.jsx(Wn,{className:"h-4 w-4"}),c.jsx("span",{children:"Terakhir diperbarui: 2 hari yang lalu"})]}),c.jsxs("div",{className:"ar-info-meta-item",children:[c.jsx(ic,{className:"h-4 w-4"}),c.jsx("span",{children:"2.5k+ Pengguna"})]})]})]}),c.jsxs("div",{className:"ar-info-rating",children:[c.jsx("div",{className:"ar-rating-stars",children:[1,2,3,4,5].map(se=>c.jsx(rc,{className:`h-5 w-5 ${se<=4?"fill-current text-yellow-400":""}`},se))}),c.jsx("span",{className:"ar-rating-value",children:"4.8"})]})]}),c.jsxs("div",{className:"ar-info-content",children:[c.jsx("p",{className:"ar-info-description",children:"Jelajahi ruang kelas masa depan dengan teknologi Augmented Reality. Ruangan ini dilengkapi dengan berbagai fitur interaktif yang memungkinkan siswa dan guru untuk berinteraksi dengan objek pembelajaran 3D, mengakses konten digital melalui pemindaian AR, dan menciptakan pengalaman belajar yang lebih immersif. Cocok untuk pembelajaran STEM, seni visual, dan berbagai mata pelajaran lainnya."}),c.jsx("div",{className:"ar-features-grid",children:he.map((se,be)=>c.jsxs("div",{className:"ar-feature-card",children:[c.jsx("div",{className:"ar-feature-icon-wrapper",children:se.icon}),c.jsxs("div",{className:"ar-feature-content",children:[c.jsx("h3",{className:"ar-feature-title",children:se.title}),c.jsx("p",{className:"ar-feature-description",children:se.description})]})]},be))})]})]}),c.jsxs("div",{className:"ar-related-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsxs("div",{className:"section-title",children:[c.jsx(Im,{className:"section-icon"}),c.jsx("h2",{children:"Ruangan AR Serupa"})]}),c.jsxs("div",{className:"ar-filter-tabs",children:[c.jsx("button",{className:`ar-filter-tab ${vt==="all"?"active":""}`,onClick:()=>Sn("all"),children:"Semua"}),c.jsx("button",{className:`ar-filter-tab ${vt==="popular"?"active":""}`,onClick:()=>Sn("popular"),children:"Populer"}),c.jsx("button",{className:`ar-filter-tab ${vt==="new"?"active":""}`,onClick:()=>Sn("new"),children:"Terbaru"})]})]}),c.jsx("div",{className:"ar-rooms-grid",children:X.map(se=>c.jsxs("div",{className:"ar-room-card-large",children:[c.jsxs("div",{className:`ar-room-thumbnail-large ${se.color}`,children:[c.jsx("img",{src:se.thumbnail||"/placeholder.svg",alt:se.title}),c.jsx("div",{className:"ar-room-overlay",children:c.jsx("button",{className:"ar-room-play-button",children:c.jsx(Hh,{className:"h-6 w-6"})})}),c.jsxs("span",{className:"ar-room-duration",children:[c.jsx(Wn,{className:"h-3 w-3 mr-1"}),se.duration]})]}),c.jsxs("div",{className:"ar-room-content",children:[c.jsx("h3",{className:"ar-room-title",children:se.title}),c.jsx("p",{className:"ar-room-description",children:se.description}),c.jsxs("div",{className:"ar-room-meta",children:[c.jsxs("div",{className:"ar-room-rating",children:[c.jsx(rc,{className:"h-4 w-4 fill-current text-yellow-400"}),c.jsx("span",{children:se.rating})]}),c.jsxs("div",{className:"ar-room-students",children:[c.jsx(ic,{className:"h-4 w-4"}),c.jsxs("span",{children:[se.students," Siswa"]})]})]})]})]},se.id))})]})]}),c.jsxs("div",{className:"ar-sidebar",children:[c.jsxs("div",{className:"ar-sidebar-section",children:[c.jsxs("div",{className:"ar-sidebar-header",children:[c.jsx("h3",{className:"ar-sidebar-title",children:"Ruangan AR Lainnya"}),c.jsxs("a",{href:"#",className:"ar-view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsx("div",{className:"ar-suggested-rooms",children:X.map(se=>c.jsxs("div",{className:"ar-room-card",children:[c.jsxs("div",{className:"ar-room-thumbnail",children:[c.jsx("img",{src:se.thumbnail||"/placeholder.svg",alt:se.title}),c.jsx("span",{className:"ar-room-duration",children:se.duration})]}),c.jsxs("div",{className:"ar-room-details",children:[c.jsx("h4",{className:"ar-room-title",children:se.title}),c.jsx("p",{className:"ar-room-description",children:se.description})]})]},se.id))})]}),c.jsxs("div",{className:"ar-sidebar-section",children:[c.jsx("div",{className:"ar-sidebar-header",children:c.jsx("h3",{className:"ar-sidebar-title",children:"Statistik Penggunaan"})}),c.jsxs("div",{className:"ar-stats-container",children:[c.jsxs("div",{className:"ar-stats-item",children:[c.jsxs("div",{className:"ar-stats-info",children:[c.jsx("h4",{children:"Total Waktu Penggunaan"}),c.jsx("p",{className:"ar-stats-value",children:"12 jam 45 menit"})]}),c.jsx("div",{className:"ar-stats-chart",children:c.jsx("div",{className:"chart-bar-container",children:[30,45,60,40,75,50,20].map((se,be)=>c.jsxs("div",{className:"chart-bar-wrapper",children:[c.jsx("div",{className:"chart-bar",style:{height:`${se}%`}}),c.jsx("span",{className:"chart-label",children:["S","S","R","K","J","S","M"][be]})]},be))})})]}),c.jsxs("div",{className:"ar-stats-item",children:[c.jsxs("div",{className:"ar-stats-info",children:[c.jsx("h4",{children:"Objek Interaktif Ditemukan"}),c.jsxs("div",{className:"ar-completion-info",children:[c.jsx("p",{className:"ar-stats-value",children:"8/12"}),c.jsx("span",{className:"ar-completion-percentage",children:"67%"})]})]}),c.jsx("div",{className:"ar-completion-bar",children:c.jsx("div",{className:"ar-completion-fill",style:{width:"67%"}})})]})]})]})]})]})]})]})})}const EM=[{id:1,content:"Hai semua! Baru saja selesai mengajar materi baru tentang pecahan. Ada yang punya tips menarik untuk membuat pembelajaran lebih interaktif? 📚✨",createdAt:new Date("2025-04-13T10:30:00"),likes:24,comments:8,shares:3,user:{name:"Bu Siti",role:"Guru Matematika",avatar:"/profile/profile1.png"}},{id:2,content:"Berbagi pengalaman menggunakan media pembelajaran digital di kelas. Siswa jadi lebih antusias! 🎯💻",createdAt:new Date("2025-04-13T09:15:00"),likes:18,comments:5,shares:2,user:{name:"Bu Rini",role:"Guru Bahasa Indonesia",avatar:"/profile/profile2.png"}},{id:3,content:"Berbagi pengalaman mengajar online: bagaimana cara membuat siswa tetap fokus selama pembelajaran jarak jauh? Mari diskusi di kolom komentar! 💻🎯",createdAt:new Date("2025-04-12T16:45:00"),likes:42,comments:12,shares:7,user:{name:"Pak Ahmad",role:"Guru IPA",avatar:"/profile/profile3.png"}}];function TM(){const[s,e]=I.useState([]),[n,i]=I.useState(""),[l,u]=I.useState(!0),[f,g]=I.useState(null),p=nr();I.useEffect(()=>{const w=$h(p,async M=>{if(M)try{const P=Ts(vn,"users",M.uid),F=await Pl(P);F.exists()?g(F.data()):g({name:M.displayName,email:M.email,photoURL:M.photoURL,role:"Guru"})}catch(P){console.error("Error fetching user data:",P)}e(EM),u(!1)});return()=>w()},[p]);const y=w=>{if(w.preventDefault(),!n.trim())return;if(!p.currentUser){alert("Silakan login terlebih dahulu");return}const P={id:s.length+1,content:n,createdAt:new Date,likes:0,comments:0,shares:0,user:{name:(f==null?void 0:f.name)||"Pengguna",role:(f==null?void 0:f.role)||"Guru",avatar:(f==null?void 0:f.photoURL)||"/placeholder.svg"}};e([P,...s]),i("")},E=w=>new Date(w).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),N=[{name:"Ibu Dewi",school:"SD Negeri 1 Bandung",avatar:"/profile/profile1.png"},{name:"Pak Rudi",school:"SD Negeri 3 Surabaya",avatar:"/profile/profile2.png"},{name:"Ibu Siti",school:"SD Negeri 2 Yogyakarta",avatar:"/profile/profile3.png"}];return c.jsx(Pt,{children:c.jsxs("div",{className:"komunitas-container",children:[c.jsx(Jn,{}),c.jsx("div",{className:"komunitas-header",children:c.jsxs("div",{className:"komunitas-title-section",children:[c.jsx("h1",{className:"komunitas-title",children:"Komunitas Guru"}),c.jsx("p",{className:"komunitas-subtitle",children:"Berbagi pengalaman, diskusi, dan berkolaborasi dengan sesama guru di seluruh Indonesia"})]})}),c.jsxs("main",{className:"komunitas-main",children:[c.jsxs("div",{className:"komunitas-sidebar",children:[c.jsxs("div",{className:"komunitas-profile-card",children:[c.jsxs("div",{className:"profile-header",children:[c.jsx("img",{src:(f==null?void 0:f.photoURL)||"/placeholder.svg?height=80&width=80",alt:"Profile",className:"profile-picture"}),c.jsxs("div",{className:"profile-info",children:[c.jsx("h3",{children:(f==null?void 0:f.name)||"Pengguna"}),c.jsx("p",{children:(f==null?void 0:f.role)||"Guru"})]})]}),c.jsxs("div",{className:"profile-stats",children:[c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-value",children:"120"}),c.jsx("span",{className:"stat-label",children:"Posts"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-value",children:"1.2K"}),c.jsx("span",{className:"stat-label",children:"Following"})]}),c.jsxs("div",{className:"stat-item",children:[c.jsx("span",{className:"stat-value",children:"3.4K"}),c.jsx("span",{className:"stat-label",children:"Followers"})]})]})]}),c.jsxs("div",{className:"trending-topics",children:[c.jsxs("div",{className:"trending-header",children:[c.jsx("h3",{children:"Trending Topics"}),c.jsxs("a",{href:"#",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsxs("div",{className:"topic-list",children:[c.jsxs("div",{className:"topic-item",children:[c.jsx("span",{className:"topic-name",children:"#PendidikanIndonesia"}),c.jsx("span",{className:"topic-posts",children:"2.4K posts"})]}),c.jsxs("div",{className:"topic-item",children:[c.jsx("span",{className:"topic-name",children:"#BelajarBareng"}),c.jsx("span",{className:"topic-posts",children:"1.8K posts"})]}),c.jsxs("div",{className:"topic-item",children:[c.jsx("span",{className:"topic-name",children:"#TipsGuru"}),c.jsx("span",{className:"topic-posts",children:"956 posts"})]}),c.jsxs("div",{className:"topic-item",children:[c.jsx("span",{className:"topic-name",children:"#KurikulumMerdeka"}),c.jsx("span",{className:"topic-posts",children:"742 posts"})]})]})]})]}),c.jsxs("div",{className:"komunitas-content",children:[c.jsx("div",{className:"post-form-container",children:c.jsxs("form",{onSubmit:y,children:[c.jsxs("div",{className:"post-input-wrapper",children:[c.jsx("img",{src:(f==null?void 0:f.photoURL)||"/placeholder.svg?height=40&width=40",alt:(f==null?void 0:f.name)||"User",className:"user-avatar"}),c.jsx("textarea",{placeholder:"Apa yang Anda pikirkan?",value:n,onChange:w=>i(w.target.value)})]}),c.jsxs("div",{className:"post-form-actions",children:[c.jsxs("div",{className:"post-attachments",children:[c.jsx("button",{type:"button",children:c.jsx(VC,{size:20})}),c.jsx("button",{type:"button",children:c.jsx(ID,{size:20})})]}),c.jsxs("button",{type:"submit",className:"post-submit-btn",children:[c.jsx(TD,{size:18}),c.jsx("span",{children:"Kirim"})]})]})]})}),l?c.jsxs("div",{className:"loading-state",children:[c.jsx(fd,{className:"loading-icon"}),c.jsx("span",{children:"Memuat posts..."})]}):c.jsx("div",{className:"posts-container",children:s.map(w=>c.jsxs("div",{className:"post-card",children:[c.jsxs("div",{className:"post-header",children:[c.jsxs("div",{className:"post-user-info",children:[c.jsx("img",{src:w.user.avatar||"/placeholder.svg",alt:w.user.name,className:"user-avatar"}),c.jsxs("div",{children:[c.jsx("h4",{children:w.user.name}),c.jsx("span",{className:"post-time",children:E(w.createdAt)})]})]}),c.jsx("button",{className:"post-menu-btn",children:c.jsx(SC,{size:20})})]}),c.jsx("div",{className:"post-content",children:c.jsx("p",{children:w.content})}),c.jsxs("div",{className:"post-actions",children:[c.jsxs("button",{className:"post-action-btn",children:[c.jsx(mg,{size:18}),c.jsx("span",{children:w.likes})]}),c.jsxs("button",{className:"post-action-btn",children:[c.jsx(aD,{size:18}),c.jsx("span",{children:w.comments})]}),c.jsxs("button",{className:"post-action-btn",children:[c.jsx(cp,{size:18}),c.jsx("span",{children:w.shares})]})]})]},w.id))})]}),c.jsxs("div",{className:"komunitas-suggestions",children:[c.jsxs("div",{className:"search-container",children:[c.jsx(_i,{size:18,className:"search-icon"}),c.jsx("input",{type:"text",placeholder:"Cari di Komunitas...",className:"search-input"})]}),c.jsxs("div",{className:"suggestions-card",children:[c.jsxs("div",{className:"suggestions-header",children:[c.jsx("h3",{children:"Guru yang Mungkin Anda Kenal"}),c.jsxs("a",{href:"#",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsx("div",{className:"suggested-users",children:N.map((w,M)=>c.jsxs("div",{className:"suggested-user",children:[c.jsx("img",{src:w.avatar,alt:w.name,className:"user-avatar"}),c.jsxs("div",{className:"user-info",children:[c.jsx("h4",{children:w.name}),c.jsx("p",{children:w.school})]}),c.jsx("button",{className:"follow-btn",children:"Ikuti"})]},M))})]}),c.jsxs("div",{className:"upcoming-events",children:[c.jsxs("div",{className:"upcoming-header",children:[c.jsx("h3",{children:"Acara Mendatang"}),c.jsxs("a",{href:"#",className:"view-all",children:["Lihat Semua ",c.jsx(Xn,{className:"h-4 w-4"})]})]}),c.jsxs("div",{className:"event-list",children:[c.jsxs("div",{className:"event-item",children:[c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"event-day",children:"15"}),c.jsx("span",{className:"event-month",children:"Apr"})]}),c.jsxs("div",{className:"event-info",children:[c.jsx("h4",{children:"Webinar Pembelajaran Interaktif"}),c.jsx("p",{children:"Online • 14:00 - 16:00 WIB"})]})]}),c.jsxs("div",{className:"event-item",children:[c.jsxs("div",{className:"event-date",children:[c.jsx("span",{className:"event-day",children:"22"}),c.jsx("span",{className:"event-month",children:"Apr"})]}),c.jsxs("div",{className:"event-info",children:[c.jsx("h4",{children:"Workshop Kurikulum Merdeka"}),c.jsx("p",{children:"Jakarta • 09:00 - 15:00 WIB"})]})]})]})]})]})]})]})})}function xM(){const s=[{question:"Apa itu Cerdikia?",answer:"Cerdikia adalah platform pembelajaran digital yang dirancang khusus untuk guru SD di Indonesia. Platform ini menyediakan berbagai fitur seperti materi pembelajaran, komunitas guru, manajemen jadwal, dan pasar buku digital untuk mendukung proses belajar mengajar yang lebih efektif."},{question:"Bagaimana cara memulai menggunakan Cerdikia?",answer:"Untuk mulai menggunakan Cerdikia, Anda perlu mendaftar akun terlebih dahulu. Setelah mendaftar dan masuk, Anda dapat mengakses semua fitur seperti materi pembelajaran, komunitas, jadwal, dan pasar buku digital."},{question:"Apakah Cerdikia berbayar?",answer:"Cerdikia menyediakan fitur dasar secara gratis untuk semua pengguna. Beberapa fitur premium seperti akses ke materi khusus atau buku digital mungkin memerlukan langganan atau pembayaran terpisah."},{question:"Bagaimana cara mengunduh materi pembelajaran?",answer:"Anda dapat mengunduh materi pembelajaran dengan mengakses menu Pembelajaran, memilih mata pelajaran yang diinginkan, dan mengklik tombol unduh pada materi yang tersedia."},{question:"Apakah saya bisa berbagi materi dengan guru lain?",answer:"Ya, Anda dapat berbagi materi dan berkolaborasi dengan guru lain melalui fitur Komunitas. Di sini Anda bisa berdiskusi, berbagi pengalaman, dan bertukar materi pembelajaran."}],e=[{icon:c.jsx(hi,{}),title:"Materi Pembelajaran",description:"Akses ribuan materi pembelajaran yang terstruktur sesuai kurikulum"},{icon:c.jsx(Sl,{}),title:"Komunitas Guru",description:"Bergabung dengan komunitas guru untuk berbagi pengalaman dan pengetahuan"},{icon:c.jsx(ur,{}),title:"Pasar Buku Digital",description:"Temukan dan akses buku-buku pembelajaran dalam format digital"},{icon:c.jsx(zC,{}),title:"Pembelajaran Interaktif",description:"Gunakan fitur AR dan multimedia untuk pembelajaran yang lebih menarik"}];return c.jsx(Pt,{children:c.jsxs("div",{className:"bantuan-container",children:[c.jsx(Jn,{}),c.jsxs("div",{className:"bantuan-main",children:[c.jsxs("div",{className:"bantuan-hero",children:[c.jsxs("div",{className:"bantuan-hero-content",children:[c.jsx("h1",{className:"bantuan-title",children:"Pusat Bantuan"}),c.jsx("p",{className:"bantuan-subtitle",children:"Temukan jawaban untuk pertanyaan Anda tentang penggunaan Cerdikia"}),c.jsxs("div",{className:"bantuan-search",children:[c.jsx(_i,{className:"bantuan-search-icon"}),c.jsx("input",{type:"text",placeholder:"Cari bantuan...",className:"bantuan-search-input"}),c.jsx("button",{className:"bantuan-search-button",children:"Cari"})]})]}),c.jsxs("div",{className:"bantuan-hero-decoration",children:[c.jsx("div",{className:"decoration-element element-1"}),c.jsx("div",{className:"decoration-element element-2"}),c.jsx("div",{className:"decoration-element element-3"})]})]}),c.jsxs("div",{className:"bantuan-content",children:[c.jsxs("section",{className:"bantuan-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{className:"section-title",children:"Fitur Utama"}),c.jsx("p",{className:"section-subtitle",children:"Jelajahi berbagai fitur yang tersedia di platform Cerdikia"})]}),c.jsx("div",{className:"features-grid",children:e.map((n,i)=>c.jsxs("div",{className:"feature-card",children:[c.jsx("div",{className:"feature-icon",children:n.icon}),c.jsx("h3",{className:"feature-title",children:n.title}),c.jsx("p",{className:"feature-description",children:n.description})]},i))})]}),c.jsxs("section",{className:"bantuan-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{className:"section-title",children:"Pertanyaan yang Sering Diajukan"}),c.jsx("p",{className:"section-subtitle",children:"Jawaban untuk pertanyaan umum tentang Cerdikia"})]}),c.jsx("div",{className:"faq-list",children:s.map((n,i)=>c.jsxs("div",{className:"faq-item",children:[c.jsxs("div",{className:"faq-question",children:[c.jsx(dd,{className:"question-icon"}),c.jsx("h3",{children:n.question})]}),c.jsx("p",{className:"faq-answer",children:n.answer})]},i))})]}),c.jsxs("section",{className:"bantuan-section",children:[c.jsxs("div",{className:"section-header",children:[c.jsx("h2",{className:"section-title",children:"Hubungi Kami"}),c.jsx("p",{className:"section-subtitle",children:"Butuh bantuan lebih lanjut? Tim dukungan kami siap membantu Anda"})]}),c.jsxs("div",{className:"contact-cards",children:[c.jsxs("div",{className:"contact-card",children:[c.jsx("div",{className:"contact-icon-wrapper",children:c.jsx(ST,{className:"contact-icon"})}),c.jsx("h3",{className:"contact-title",children:"Email"}),c.jsx("p",{className:"contact-info",children:"support@cerdikia.id"}),c.jsx("p",{className:"contact-info",children:"info@cerdikia.id"})]}),c.jsxs("div",{className:"contact-card",children:[c.jsx("div",{className:"contact-icon-wrapper",children:c.jsx(gD,{className:"contact-icon"})}),c.jsx("h3",{className:"contact-title",children:"Telepon"}),c.jsx("p",{className:"contact-info",children:"021-1234-5678"}),c.jsx("p",{className:"contact-info",children:"Senin - Jumat, 08:00 - 17:00 WIB"})]}),c.jsxs("div",{className:"contact-card",children:[c.jsx("div",{className:"contact-icon-wrapper",children:c.jsx(tD,{className:"contact-icon"})}),c.jsx("h3",{className:"contact-title",children:"Live Chat"}),c.jsx("p",{className:"contact-info",children:"Tersedia 24/7"}),c.jsx("button",{className:"chat-button",children:"Mulai Chat"})]})]})]})]})]})]})})}const NM=()=>{const[s,e]=I.useState([]),[n,i]=I.useState(!0);return I.useEffect(()=>{const l=[{id:1,title:"Matematika Dasar Kelas 6",description:"Pembelajaran matematika dasar untuk siswa kelas 6 SD mencakup aritmatika, geometri, dan pengukuran.",image:"/images/MTK.svg",subject:"Matematika",duration:"45 menit",savedCount:128},{id:2,title:"Bahasa Indonesia - Menulis Kreatif",description:"Panduan lengkap menulis kreatif untuk mengembangkan kemampuan berbahasa dan berimajinasi.",image:"/images/BINDO.svg",subject:"Bahasa Indonesia",duration:"30 menit",savedCount:95},{id:3,title:"English Conversation Practice",description:"Practice your English conversation skills with interactive lessons and exercises.",image:"/images/BING.svg",subject:"English",duration:"40 menit",savedCount:156}];setTimeout(()=>{e(l),i(!1)},1e3)},[]),n?c.jsx(Pt,{children:c.jsxs("div",{className:"favorit-container",children:[c.jsx(Jn,{}),c.jsx("div",{className:"favorit-main",children:c.jsx("div",{className:"favorit-header",children:c.jsx("div",{className:"favorit-title-section",children:c.jsx("h1",{className:"favorit-title",children:"Loading..."})})})})]})}):c.jsx(Pt,{children:c.jsxs("div",{className:"favorit-container",children:[c.jsx(Jn,{}),c.jsxs("div",{className:"favorit-main",children:[c.jsx("div",{className:"favorit-header",children:c.jsxs("div",{className:"favorit-title-section",children:[c.jsx("h1",{className:"favorit-title",children:"Konten Favorit Saya"}),c.jsx("p",{className:"favorit-description",children:"Koleksi materi pembelajaran yang telah Anda tandai sebagai favorit. Akses dengan mudah kapan saja."})]})}),s.length>0?c.jsx("div",{className:"favorit-content",children:s.map(l=>c.jsxs("div",{className:"favorit-card",children:[c.jsx("img",{src:l.image,alt:l.title,className:"favorit-card-image"}),c.jsxs("div",{className:"favorit-card-content",children:[c.jsx("h3",{className:"favorit-card-title",children:l.title}),c.jsx("p",{className:"favorit-card-description",children:l.description}),c.jsxs("div",{className:"favorit-card-meta",children:[c.jsxs("span",{className:"favorit-meta-item",children:[c.jsx(hi,{className:"favorit-meta-icon"}),l.subject]}),c.jsxs("span",{className:"favorit-meta-item",children:[c.jsx(Wn,{className:"favorit-meta-icon"}),l.duration]}),c.jsxs("span",{className:"favorit-meta-item",children:[c.jsx(iC,{className:"favorit-meta-icon"}),l.savedCount]})]})]})]},l.id))}):c.jsxs("div",{className:"favorit-empty",children:[c.jsx(mg,{className:"favorit-empty-icon"}),c.jsx("h2",{className:"favorit-empty-title",children:"Belum Ada Favorit"}),c.jsx("p",{className:"favorit-empty-description",children:"Anda belum menandai konten apapun sebagai favorit. Jelajahi materi pembelajaran dan tandai yang Anda sukai untuk menyimpannya di sini."})]})]})]})})};function wM(){return c.jsx(Aw,{children:c.jsxs(sw,{children:[c.jsx(yt,{path:"/",element:c.jsx(cM,{})}),c.jsx(yt,{path:"/register",element:c.jsx(uM,{})}),c.jsx(yt,{path:"/dashboard",element:c.jsx(QD,{})}),c.jsx(yt,{path:"/pasar-buku",element:c.jsx(YD,{})}),c.jsx(yt,{path:"/pembelajaran",element:c.jsx(XD,{})}),c.jsx(yt,{path:"/jadwal",element:c.jsx(WD,{})}),c.jsx(yt,{path:"/pengaturan",element:c.jsx(ZD,{})}),c.jsx(yt,{path:"/keranjang",element:c.jsx(JD,{})}),c.jsx(yt,{path:"/profile",element:c.jsx(eM,{})}),c.jsx(yt,{path:"/kelas/1",element:c.jsx(tM,{})}),c.jsx(yt,{path:"/kelas/1/pkn",element:c.jsx(vM,{})}),c.jsx(yt,{path:"/kelas/1/indo",element:c.jsx(_M,{})}),c.jsx(yt,{path:"/kelas/2",element:c.jsx(nM,{})}),c.jsx(yt,{path:"/kelas/3",element:c.jsx(aM,{})}),c.jsx(yt,{path:"/kelas/4",element:c.jsx(sM,{})}),c.jsx(yt,{path:"/kelas/5",element:c.jsx(iM,{})}),c.jsx(yt,{path:"/kelas/6",element:c.jsx(rM,{})}),c.jsx(yt,{path:"/ekstrakurikuler",element:c.jsx(lM,{})}),c.jsx(yt,{path:"/peminatan",element:c.jsx(oM,{})}),c.jsx(yt,{path:"/ar",element:c.jsx(bM,{})}),c.jsx(yt,{path:"/komunitas",element:c.jsx(TM,{})}),c.jsx(yt,{path:"/bantuan",element:c.jsx(xM,{})}),c.jsx(yt,{path:"/favorit",element:c.jsx(NM,{})})]})})}const SM=mN.createRoot(document.getElementById("app"));SM.render(c.jsx(rN.StrictMode,{children:c.jsx(wM,{})}));
